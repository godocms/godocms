(function(e){function t(t){for(var o,c,r=t[0],i=t[1],u=t[2],d=0,f=[];d<r.length;d++)c=r[d],Object.prototype.hasOwnProperty.call(l,c)&&l[c]&&f.push(l[c][0]),l[c]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);s&&s(t);while(f.length)f.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,r=1;r<n.length;r++){var i=n[r];0!==l[i]&&(o=!1)}o&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},l={app:0},a=[];function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],i=r.push.bind(r);r.push=t,r=r.slice();for(var u=0;u<r.length;u++)t(r[u]);var s=i;a.push([1,"chunk-vendors"]),n()})({0:function(e,t){},"0026":function(e,t,n){},"0254":function(e,t,n){},"02fc":function(e,t,n){"use strict";n("36e6")},"03a8":function(e,t,n){},"04e6":function(e,t,n){"use strict";n("f9ba")},"052f":function(e,t,n){"use strict";n("0ef6")},"0569":function(e,t,n){},"0606":function(e,t,n){"use strict";n("3248")},"06b6":function(e,t,n){"use strict";n("446a")},"07e7":function(e,t,n){},"07ef":function(e,t,n){},"096c":function(e,t,n){},"097f":function(e,t,n){"use strict";n("c65b2")},"0c35":function(e,t,n){"use strict";n("5c4d")},"0c74":function(e,t,n){"use strict";n("e011")},"0d71":function(e,t,n){"use strict";n("7945")},"0ef6":function(e,t,n){},1:function(e,t,n){e.exports=n("cd49")},"110b":function(e,t,n){},"11f0":function(e,t,n){"use strict";n("1b7c")},1360:function(e,t,n){"use strict";n("6a56")},1401:function(e,t,n){"use strict";n("8698")},1515:function(e,t,n){},"153f":function(e,t,n){},"169b":function(e,t,n){"use strict";n("07ef")},"17ef":function(e,t,n){"use strict";n("c19a")},"18a4":function(e,t,n){},"18c0":function(e,t,n){},"190a":function(e,t,n){"use strict";n("8d7c")},"19ec":function(e,t,n){},"1a04":function(e,t,n){"use strict";n("d663")},"1a34":function(e,t,n){"use strict";n("c298")},"1b7c":function(e,t,n){},"1d1a":function(e,t,n){"use strict";n("5523")},"1e67":function(e,t,n){},"1fec":function(e,t,n){"use strict";n("e838")},2:function(e,t){},2007:function(e,t,n){"use strict";n("d948")},2612:function(e,t,n){},"2b27":function(e,t,n){},"2c3c":function(e,t,n){},"2e4a":function(e,t,n){},"2fa9":function(e,t,n){"use strict";n("e911")},3:function(e,t){},"306b":function(e,t,n){"use strict";n("b67e")},"31ca":function(e,t,n){},3248:function(e,t,n){},"32c5":function(e,t,n){},"34cb":function(e,t,n){"use strict";n("1515")},"34cd":function(e,t,n){},"36e6":function(e,t,n){},"37c1":function(e,t,n){},"383f":function(e,t,n){"use strict";n("38e2")},"38e2":function(e,t,n){},"3a7d":function(e,t,n){},"3a80":function(e,t,n){},"3b83":function(e,t,n){},"3b97":function(e,t,n){},"3f10":function(e,t,n){"use strict";n("e032")},"3f8e":function(e,t,n){"use strict";n("f22a")},"446a":function(e,t,n){},"44ef":function(e,t,n){"use strict";n("2612")},4607:function(e,t,n){"use strict";n("096c")},4640:function(e,t,n){"use strict";n("f601")},"468f":function(e,t,n){"use strict";n("6fb7")},4877:function(e,t,n){"use strict";n("0569")},"4b15":function(e,t,n){"use strict";n("a87d")},"4c08":function(e,t,n){"use strict";n("68ff")},"51d9":function(e,t,n){"use strict";n("f29a")},5264:function(e,t,n){"use strict";n("873e")},5282:function(e,t,n){},"52fd":function(e,t,n){},5523:function(e,t,n){},5952:function(e,t,n){},"59cc":function(e,t,n){"use strict";n("0254")},"5a68":function(e,t,n){"use strict";n("a59c")},"5c4d":function(e,t,n){},"5e48":function(e,t,n){},"5fbd":function(e,t,n){},"61dc":function(e,t,n){},"625d":function(e,t,n){},"63fc":function(e,t,n){},"64b8":function(e,t,n){"use strict";n("fe1a")},6689:function(e,t,n){"use strict";n("d4b3")},6856:function(e,t,n){"use strict";n("feaa")},"68ff":function(e,t,n){},"69d0":function(e,t,n){},"69d5":function(e,t,n){"use strict";n("52fd")},"6a56":function(e,t,n){},"6b1a":function(e,t,n){"use strict";n("3b97")},"6c3c":function(e,t,n){"use strict";n("da64")},"6d15":function(e,t,n){"use strict";n("fc85")},"6d7c":function(e,t,n){},"6e42":function(e,t,n){"use strict";n("07e7")},"6fb7":function(e,t,n){},"715e":function(e,t,n){"use strict";n("2e4a")},7342:function(e,t,n){},7374:function(e,t,n){},"752d":function(e,t,n){"use strict";n("1e67")},"782e":function(e,t,n){"use strict";n("19ec")},"784d":function(e,t,n){},7853:function(e,t,n){"use strict";n("9535")},7945:function(e,t,n){},"7c75":function(e,t,n){},"7e0a":function(e,t,n){"use strict";n("3a7d")},"7e17":function(e,t,n){"use strict";n("d7bd")},"7e45":function(e,t,n){},"7ec9":function(e,t,n){"use strict";n("3a80")},"805f":function(e,t,n){"use strict";n("5282")},"808f":function(e,t,n){},"836a":function(e,t,n){},8698:function(e,t,n){},"86fb":function(e,t,n){},8709:function(e,t,n){},"873e":function(e,t,n){},8754:function(e,t,n){"use strict";n("5e48")},8881:function(e,t,n){"use strict";n("37c1")},"8b69":function(e,t,n){"use strict";n("153f")},"8bff":function(e,t,n){"use strict";n("18a4")},"8c56":function(e,t,n){},"8d7c":function(e,t,n){},"8f27":function(e,t,n){},"94ca1":function(e,t,n){"use strict";n("c3e2")},9535:function(e,t,n){},9743:function(e,t,n){"use strict";n("18c0")},9768:function(e,t,n){"use strict";n("ccd7")},"989b":function(e,t,n){},9909:function(e,t,n){"use strict";n("69d0")},"9a8f":function(e,t,n){"use strict";n("b3e3")},a122:function(e,t,n){},a46e:function(e,t,n){"use strict";n("34cd")},a576:function(e,t,n){"use strict";n("c80c")},a59c:function(e,t,n){},a60f:function(e,t,n){"use strict";n("8f27")},a629:function(e,t,n){},a705:function(e,t,n){"use strict";n("31ca")},a87d:function(e,t,n){},aa7e:function(e,t,n){"use strict";n("5fbd")},ae3f:function(e,t,n){},b05d:function(e,t,n){"use strict";n("7e45")},b172:function(e,t,n){},b2b3:function(e,t,n){"use strict";n("a122")},b30b:function(e,t,n){"use strict";n("f6cb")},b34b:function(e,t,n){"use strict";n("0026")},b3e3:function(e,t,n){},b67e:function(e,t,n){},b824:function(e,t,n){"use strict";n("32c5")},b837:function(e,t,n){"use strict";n("110b")},b908:function(e,t,n){},b9e7:function(e,t,n){},bc02:function(e,t,n){"use strict";n("7342")},bc8f:function(e,t,n){"use strict";n("808f")},be11:function(e,t,n){"use strict";n("836a")},c19a:function(e,t,n){},c298:function(e,t,n){},c329:function(e,t,n){"use strict";n("c35e")},c35e:function(e,t,n){},c3e2:function(e,t,n){},c43a:function(e,t,n){"use strict";n("a629")},c645:function(e,t,n){"use strict";n("d384")},c65b2:function(e,t,n){},c68f:function(e,t,n){"use strict";n("2c3c")},c790:function(e,t,n){"use strict";n("989b")},c80c:function(e,t,n){},c860:function(e,t,n){},cb5b:function(e,t,n){"use strict";n("3b83")},ccd7:function(e,t,n){},ccd7b:function(e,t,n){"use strict";n("63fc")},cd49:function(e,t,n){"use strict";n.r(t);n("7f6b");var o=n("8592"),l=(n("6d2a"),n("9571")),a=(n("ee00"),n("bb76")),c=(n("fbd8"),n("55f1")),r=(n("9d5c"),n("a600")),i=(n("cd17"),n("ed3b")),u=(n("5704"),n("b558")),s=(n("5783"),n("59a5")),d=(n("fbd6"),n("160c")),f=(n("2ef0f"),n("9839")),p=(n("438c"),n("fbdf")),m=(n("5136"),n("681b")),b=(n("9a33"),n("f933")),v=(n("6ba6"),n("5efb")),h=(n("55ec"),n("a79d")),O=(n("922d"),n("09d9")),j=(n("e260"),n("e6cf"),n("cca6"),n("a79df"),n("7a23")),g=n("be92");function y(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("Editor"),r=Object(j["resolveComponent"])("Screen");return e.screening?(Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:1})):(Object(j["openBlock"])(),Object(j["createBlock"])(c,{key:0}))}n("4de4"),n("d3b7"),n("caad"),n("2532"),n("7db0");var x,C,k,w,E,N,I=[{label:"Arial",value:"Arial"},{label:"微软雅黑",value:"Microsoft Yahei"},{label:"宋体",value:"SimSun"},{label:"黑体",value:"SimHei"},{label:"楷体",value:"KaiTi"},{label:"新宋体",value:"NSimSun"},{label:"仿宋",value:"FangSong"},{label:"苹方",value:"PingFang SC"},{label:"华文黑体",value:"STHeiti"},{label:"华文楷体",value:"STKaiti"},{label:"华文宋体",value:"STSong"},{label:"华文仿宋",value:"STFangSong"},{label:"华文中宋",value:"STZhongSong"},{label:"华文琥珀",value:"STHupo"},{label:"华文新魏",value:"STXinwei"},{label:"华文隶书",value:"STLiti"},{label:"华文行楷",value:"STXingkai"},{label:"冬青黑体",value:"Hiragino Sans GB"},{label:"兰亭黑",value:"Lantinghei SC"},{label:"偏偏体",value:"Hanzipen SC"},{label:"手札体",value:"Hannotate SC"},{label:"宋体",value:"Songti SC"},{label:"娃娃体",value:"Wawati SC"},{label:"行楷",value:"Xingkai SC"},{label:"圆体",value:"Yuanti SC"},{label:"华文细黑",value:"STXihei"},{label:"幼圆",value:"YouYuan"},{label:"隶书",value:"LiSu"}],V=[{label:"仓耳小丸子",value:"仓耳小丸子"},{label:"优设标题黑",value:"优设标题黑"},{label:"峰广明锐体",value:"峰广明锐体"},{label:"摄图摩登小方体",value:"摄图摩登小方体"},{label:"站酷快乐体",value:"站酷快乐体"},{label:"字制区喜脉体",value:"字制区喜脉体"},{label:"素材集市康康体",value:"素材集市康康体"},{label:"联盟起艺卢帅正锐黑体",value:"联盟起艺卢帅正锐黑体"},{label:"素材集市酷方体",value:"素材集市酷方体"},{label:"途牛类圆体",value:"途牛类圆体"},{label:"锐字真言体",value:"锐字真言体"},{label:"阿里汉仪智能黑体",value:"阿里汉仪智能黑体"}],S=n("5530"),L=n("b85c"),B=(n("b0c0"),n("1913"),function(e,t){return Array.isArray(e)&&e.indexOf(t.type)>-1||t.type===e}),T=function(e,t){for(var n=e.depth;n>0;n--){var o=e.node(n);if(t(o))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:o}}},M=function(e){return function(t){return T(t.$from,e)}},_=function(e){return function(t){return M((function(t){return B(e,t)}))(t)}},D=function(e,t){var n=t.schema.nodes[e];return!!_(n)(t.selection)},z=function(e){var t,n,o=e.state,l=o.selection,a=o.doc,c=l.from,r=a.nodeAt(c)||a.nodeAt(c-1);return null!==(t=r)&&void 0!==t&&t.lastChild&&(r=r.lastChild),(null===(n=r)||void 0===n?void 0:n.marks)||[]},A=function(e,t,n){var o,l=Object(L["a"])(e);try{for(l.s();!(o=l.n()).done;){var a=o.value;if(a.type.name===t&&a.attrs[n])return a.attrs[n]}}catch(c){l.e(c)}finally{l.f()}return null},R=function(e,t){var n,o=Object(L["a"])(e);try{for(o.s();!(n=o.n()).done;){var l=n.value;if(l.type.name===t)return!0}}catch(a){o.e(a)}finally{o.f()}return!1},F=function(e,t){var n=e.state,o=n.selection,l=n.doc,a=o.from,c=o.to,r=!0,i="";return l.nodesBetween(a,c,(function(e){return r&&e.attrs[t]&&(r=!1,i=e.attrs[t]),r})),i},P={color:"#000",backcolor:"#000",fontsize:"20px",fontname:"微软雅黑",align:"left"},H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=Object(S["a"])(Object(S["a"])({},P),t);var n=z(e),o=R(n,"strong"),l=R(n,"em"),a=R(n,"underline"),c=R(n,"strikethrough"),r=R(n,"superscript"),i=R(n,"subscript"),u=R(n,"code"),s=A(n,"forecolor","color")||t.color,d=A(n,"backcolor","backcolor")||t.backcolor,f=A(n,"fontsize","fontsize")||t.fontsize,p=A(n,"fontname","fontname")||t.fontname,m=F(e,"align")||t.align,b=D("bullet_list",e.state),v=D("ordered_list",e.state),h=D("blockquote",e.state);return{bold:o,em:l,underline:a,strikethrough:c,superscript:r,subscript:i,code:u,color:s,backcolor:d,fontsize:f,fontname:p,align:m,bulletList:b,orderedList:v,blockquote:h}},q={bold:!1,em:!1,underline:!1,strikethrough:!1,superscript:!1,subscript:!1,code:!1,color:"#000",backcolor:"#000",fontsize:"20px",fontname:"微软雅黑",align:"left",bulletList:!1,orderedList:!1,blockquote:!1},W=(n("99af"),n("fb6a"),n("a15b"),function(e){if("string"!==typeof e)return!1;var t="Arial";if(e.toLowerCase()===t.toLowerCase())return!0;var n=100,o=100,l=100,a="a",c=document.createElement("canvas"),r=c.getContext("2d");if(!r)return!1;c.width=o,c.height=l,r.textAlign="center",r.fillStyle="black",r.textBaseline="middle";var i=function(e){r.clearRect(0,0,o,l),r.font="".concat(n,"px ").concat(e,", ").concat(t),r.fillText(a,o/2,l/2);var c=r.getImageData(0,0,o,l).data;return[].slice.call(c).filter((function(e){return 0!==e}))};return i(t).join("")!==i(e).join("")}),X=n("2909"),G=(n("d81d"),n("ac1f"),n("5319"),n("5b81"),n("e9c4"),n("a434"),n("c740"),n("66cb")),U=n.n(G),Y=n("2ef0"),Z=[{id:"ppt"+(new Date).valueOf(),elements:[{type:"shape",id:"4cbRxp",left:0,top:200,width:546,height:362.5,viewBox:200,path:"M 0 0 L 0 200 L 200 200 Z",fill:"#5b9bd5",fixedRatio:!1,opacity:.7,rotate:0},{type:"shape",id:"ookHrf",left:0,top:0,width:300,height:320,viewBox:200,path:"M 0 0 L 0 200 L 200 200 Z",fill:"#5b9bd5",fixedRatio:!1,flipV:!0,rotate:0},{type:"text",id:"idn7Mx",left:355,top:65.25,width:585,height:188,lineHeight:1.2,content:"<p><strong><span style='font-size:  88px'>PPT</span></strong></p>",rotate:0,defaultFontName:"Microsoft Yahei",defaultColor:"#333"},{type:"text",id:"7stmVP",left:355,top:253.25,width:585,height:56,content:"<p><span style='font-size:  24px'>在线演示文稿</span></p>",rotate:0,defaultFontName:"Microsoft Yahei",defaultColor:"#333"},{type:"line",id:"FnpZs4",left:361,top:238,start:[0,0],end:[549,0],points:["",""],color:"#5b9bd5",style:"solid",width:2}],background:{type:"solid",color:"#ffffff"}}],J={themeColor:"#5b9bd5",fontColor:"#333",fontName:"Microsoft Yahei",backgroundColor:"#fff"},K=[{id:"template",elements:[{type:"shape",id:"4cbRxp",left:0,top:200,width:546,height:362.5,viewBox:200,path:"M 0 0 L 0 200 L 200 200 Z",fill:"{{themeColor}}",fixedRatio:!1,opacity:.7,rotate:0},{type:"shape",id:"ookHrf",left:0,top:0,width:300,height:320,viewBox:200,path:"M 0 0 L 0 200 L 200 200 Z",fill:"{{themeColor}}",fixedRatio:!1,flipV:!0,rotate:0},{type:"text",id:"AkIh3E",left:355,top:95.11111111111111,width:585,height:116,lineHeight:1.2,content:"<p style=''><strong><span style='font-size: 80px'>输入标题</span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",wordSpace:6},{type:"text",id:"7stmVP",left:355,top:253.25,width:585,height:56,content:"<p><span style='font-size:  24px'>请在此处输入副标题</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"line",id:"FnpZs4",left:361,top:238,start:[0,0],end:[549,0],points:["",""],color:"{{themeColor}}",style:"solid",width:2}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"text",id:"ptNnUJ",left:145,top:148,width:711,height:77,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='font-size: 48px'>在此处添加标题</span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"text",id:"mRHvQN",left:207.50000000000003,top:249.84259259259264,width:585,height:56,content:"<p style='text-align: center;'><span style='font-size: 24px'>在此处添加副标题</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"line",id:"7CQDwc",left:323.09259259259267,top:238.33333333333334,start:[0,0],end:[354.8148148148148,0],points:["",""],color:"{{themeColor}}",style:"solid",width:4},{type:"shape",id:"09wqWw",left:-27.648148148148138,top:432.73148148148147,width:1056.2962962962963,height:162.96296296296296,viewBox:200,path:"M 0 20 C 40 -40 60 60 100 20 C 140 -40 160 60 200 20 L 200 180 C 140 240 160 140 100 180 C 40 240 60 140 0 180 L 0 20 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"shape",id:"vSheCJ",left:183.5185185185185,top:175.5092592592593,width:605.1851851851851,height:185.18518518518516,viewBox:200,path:"M 0 0 L 200 0 L 200 200 L 0 200 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0},{type:"shape",id:"Mpwv7x",left:211.29629629629628,top:201.80555555555557,width:605.1851851851851,height:185.18518518518516,viewBox:200,path:"M 0 0 L 200 0 L 200 200 L 0 200 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,opacity:.7},{type:"text",id:"WQOTAp",left:304.9074074074074,top:198.10185185185182,width:417.9629629629629,height:140,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 80px'>感谢观看</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",wordSpace:5}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"MZVO1kkj",elements:[{type:"shape",id:"cql0h8",left:0,top:0,width:352.59259259259255,height:562.5,viewBox:200,path:"M 0 0 L 200 0 L 200 200 L 0 200 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0},{type:"shape",id:"_RTaF4",left:171.4814814814814,top:100.13888888888887,width:362.22222222222223,height:362.22222222222223,viewBox:200,path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"rgba(255,255,255,0)",fixedRatio:!1,rotate:0,outline:{width:10,color:"{{backgroundColor}}",style:"solid"}},{type:"shape",id:"UZfo8N",left:216.66666666666663,top:145.32407407407408,width:271.85185185185185,height:271.85185185185185,viewBox:200,path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{backgroundColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='font-size: 80px'>01</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"ysqtBg",left:561.4814814814814,top:100.1388888888889,width:359.25925925925924,height:80,content:"<p style=''><strong><span style='font-size: 40px'>在此处输入标题</span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"text",id:"lXsoHa",left:572.5925925925925,top:202.3611111111111,width:257.77777777777777,height:260,content:"<ol><li><p style=''>在此处输入内容</p></li><li><p style=''>在此处输入内容</p></li><li><p style=''>在此处输入内容</p></li><li><p style=''>在此处输入内容</p></li><li><p style=''>在此处输入内容</p></li><li><p style=''>在此处输入内容</p></li></ol>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",lineHeight:2,fill:"{{subColor}}"}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"shape",id:"EBBnTr",left:360.5996472663139,top:141.8496472663139,width:278.80070546737215,height:278.80070546737215,viewBox:200,path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!0,rotate:0,outline:{width:0,color:"{{backgroundColor}}",style:"solid"}},{type:"shape",id:"gDIWDH",left:456.4373897707231,top:98.287037037037,width:87.12522045855381,height:87.12522045855381,viewBox:200,path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!0,rotate:0,outline:{width:4,color:"{{backgroundColor}}",style:"solid"},text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>1</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"shape",id:"DUWT7E",left:317.037037037037,top:237.68738977072314,width:87.12522045855381,height:87.12522045855381,viewBox:200,path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!0,rotate:0,outline:{width:4,color:"{{backgroundColor}}",style:"solid"},text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>4</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"shape",id:"pbhn38",left:456.43738977072303,top:377.08774250440916,width:87.12522045855381,height:87.12522045855381,viewBox:200,path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!0,rotate:0,outline:{width:4,color:"{{backgroundColor}}",style:"solid"},text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>3</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"shape",id:"CvMKrO",left:595.8377425044091,top:237.6873897707231,width:87.12522045855381,height:87.12522045855381,viewBox:200,path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!0,rotate:0,outline:{width:4,color:"{{backgroundColor}}",style:"solid"},text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>2</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"adudHB",left:402.962962962963,top:39.39814814814815,width:194.07407407407408,height:50,content:"<p style='text-align: center;'>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"text",id:"9UpDwg",left:402.962962962963,top:473.1018518518518,width:194.07407407407408,height:50,content:"<p style='text-align: center;'>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"text",id:"GERdpB",left:111.48148148148151,top:256.25,width:194.07407407407408,height:50,content:"<p style='text-align: center;'>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"text",id:"G5qoho",left:691.1111111111111,top:256.25,width:194.07407407407408,height:50,content:"<p style='text-align: center;'>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"shape",id:"vdZcI6",left:415.18518518518516,top:196.4351851851852,width:169.62962962962962,height:169.62962962962962,viewBox:200,path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{backgroundColor}}",fixedRatio:!1,rotate:0}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"shape",id:"tYUmrx",left:156.66666666666683,top:149.02777777777771,width:264.4444444444445,height:264.4444444444445,viewBox:200,path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'><span style='font-size: 60px'>01</span></span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"shape",id:"0GVHf8",left:342.2222222222223,top:217.17592592592587,width:128.14814814814812,height:128.14814814814812,viewBox:200,path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{backgroundColor}}",fixedRatio:!1,rotate:0},{type:"text",id:"BO33Sv",left:378.8888888888889,top:235.24999999999994,width:464.4444444444444,height:92,content:"<p style=''><strong><span style='font-size: 48px'>在此处添加标题</span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"text",id:"Hj7ttp",left:69.35185185185185,top:49.21759259259262,width:420,height:63,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 36px'>1.请输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{themeColor}}"},{type:"text",id:"FmKMNB",left:69.35185185185185,top:129.28240740740745,width:420,height:384,content:"<p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"rI7ZeO",left:510.64814814814815,top:49.21759259259262,width:420,height:63,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 36px'>2.请输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{themeColor}}"},{type:"text",id:"KspwGc",left:510.64814814814815,top:129.28240740740745,width:420,height:384,content:"<p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"text",id:"Rx63Jo",left:69.35185185185179,top:51.71759259259262,width:420,height:58,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 32px'>1.请输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{themeColor}}"},{type:"text",id:"ulyuzE",left:69.35185185185179,top:131.78240740740745,width:420,height:129,content:"<p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"kr35Ca",left:510.6481481481481,top:51.71759259259262,width:420,height:58,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 32px'>2.请输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{themeColor}}"},{type:"text",id:"BNQSpC",left:510.6481481481481,top:131.78240740740745,width:420,height:129,content:"<p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"Vr38Nu",left:69.35185185185185,top:301.71759259259255,width:420,height:58,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 32px'>3.请输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{themeColor}}"},{type:"text",id:"IwKRSu",left:69.35185185185185,top:381.7824074074074,width:420,height:129,content:"<p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"0Opr1v",left:510.64814814814815,top:301.71759259259255,width:420,height:58,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 32px'>4.请输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{themeColor}}"},{type:"text",id:"4L9Uzz",left:510.64814814814815,top:381.7824074074074,width:420,height:129,content:"<p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"text",id:"GdEGxg",left:134.53703703703704,top:127.25,width:152.77777777777777,height:308,lineHeight:1.8,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 40px'>请在此处输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",wordSpace:8,fill:"{{themeColor}}"},{type:"text",id:"y5sAfw",left:332.8703703703704,top:127.25,width:532.5925925925926,height:50,content:"<blockquote><p style=''>请在此处输入内容1</p></blockquote>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"VeuocM",left:332.8703703703704,top:212.0648148148148,width:532.5925925925926,height:50,content:"<blockquote><p style=''>请在此处输入内容2</p></blockquote>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"RyFWQe",left:332.8703703703704,top:296.8796296296296,width:532.5925925925926,height:50,content:"<blockquote><p style=''>请在此处输入内容3</p></blockquote>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"Q56viI",left:332.8703703703704,top:381.69444444444446,width:532.5925925925926,height:50,content:"<blockquote><p style=''>请在此处输入内容4</p></blockquote>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"shape",id:"SUWirT",left:73.8888888888889,top:64.21296296296302,width:49.629629629629626,height:49.629629629629626,viewBox:200,path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>1</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"YjzN1M",left:148.70370370370372,top:64.21296296296302,width:323.7037037037037,height:120,content:"<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"shape",id:"fS09I7",left:527.5925925925926,top:64.21296296296302,width:49.629629629629626,height:49.629629629629626,viewBox:200,path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>2</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"qCnfB1",left:602.4074074074074,top:64.21296296296302,width:323.7037037037037,height:120,content:"<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"shape",id:"difAAT",left:73.8888888888889,top:221.25000000000003,width:49.629629629629626,height:49.629629629629626,viewBox:200,path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>3</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"EUlvMo",left:148.70370370370372,top:221.25000000000003,width:323.7037037037037,height:120,content:"<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"shape",id:"US_9jB",left:527.5925925925926,top:221.25000000000003,width:49.629629629629626,height:49.629629629629626,viewBox:200,path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>4</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"243MnQ",left:602.4074074074074,top:221.25000000000003,width:323.7037037037037,height:120,content:"<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"shape",id:"Y_KUj0",left:73.8888888888889,top:378.287037037037,width:49.629629629629626,height:49.629629629629626,viewBox:200,path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>5</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"9GglMe",left:148.70370370370372,top:378.287037037037,width:323.7037037037037,height:120,content:"<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"shape",id:"eSInje",left:527.5925925925926,top:378.287037037037,width:49.629629629629626,height:49.629629629629626,viewBox:200,path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>6</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"0S3yUg",left:602.4074074074074,top:378.287037037037,width:323.7037037037037,height:120,content:"<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"}],background:{type:"solid",color:"{{backgroundColor}}"}}],Q=Object(g["b"])("slides",{state:function(){return{theme:J,slides:Z,slideIndex:0,viewportRatio:.5625}},getters:{currentSlide:function(e){return e.slides[e.slideIndex]},currentSlideAnimations:function(e){var t=e.slides[e.slideIndex];if(!t)return null;var n=t.animations;if(!n)return null;var o=t.elements,l=o.map((function(e){return e.id}));return n.filter((function(e){return l.includes(e.elId)}))},layouts:function(e){var t=e.theme,n=t.themeColor,o=t.fontColor,l=t.fontName,a=t.backgroundColor,c=U()(o).isDark()?"rgba(230, 230, 230, 0.5)":"rgba(180, 180, 180, 0.5)",r=JSON.stringify(K).replaceAll("{{themeColor}}",n).replaceAll("{{fontColor}}",o).replaceAll("{{fontName}}",l).replaceAll("{{backgroundColor}}",a).replaceAll("{{subColor}}",c);return JSON.parse(r)}},actions:{setTheme:function(e){this.theme=Object(S["a"])(Object(S["a"])({},this.theme),e)},setViewportRatio:function(e){this.viewportRatio=e},setSlides:function(e){this.slides=e},addSlide:function(e){var t,n=Array.isArray(e)?e:[e],o=this.slideIndex+1;(t=this.slides).splice.apply(t,[o,0].concat(Object(X["a"])(n))),this.slideIndex=o},updateSlide:function(e){var t=this.slideIndex;this.slides[t]=Object(S["a"])(Object(S["a"])({},this.slides[t]),e)},deleteSlide:function(e){for(var t=this,n=Array.isArray(e)?e:[e],o=[],l=function(e){var l=t.slides.findIndex((function(t){return t.id===n[e]}));o.push(l)},a=0;a<n.length;a++)l(a);var c=Math.min.apply(Math,o),r=this.slides.length-n.length-1;c>r&&(c=r),this.slideIndex=c,this.slides=this.slides.filter((function(e){return!n.includes(e.id)}))},updateSlideIndex:function(e){this.slideIndex=e},addElement:function(e){var t=Array.isArray(e)?e:[e],n=this.slides[this.slideIndex].elements,o=[].concat(Object(X["a"])(n),Object(X["a"])(t));this.slides[this.slideIndex].elements=o},updateElement:function(e){var t=e.id,n=e.props,o="string"===typeof t?[t]:t,l=this.slideIndex,a=this.slides[l],c=a.elements.map((function(e){return o.includes(e.id)?Object(S["a"])(Object(S["a"])({},e),n):e}));this.slides[l].elements=c},removeElementProps:function(e){var t=e.id,n=e.propName,o="string"===typeof n?[n]:n,l=this.slideIndex,a=this.slides[l],c=a.elements.map((function(e){return e.id===t?Object(Y["omit"])(e,o):e}));this.slides[l].elements=c}}}),$=Object(g["b"])("main",{state:function(){return{activeElementIdList:[],handleElementId:"",activeGroupElementId:"",canvasPercentage:90,canvasScale:1,thumbnailsFocus:!1,editorAreaFocus:!1,disableHotkeys:!1,showGridLines:!1,creatingElement:null,availableFonts:[],toolbarState:"slideDesign",clipingImageElementId:"",richTextAttrs:q,selectedTableCells:[],isScaling:!1,editingShapeElementId:"",selectedSlidesIndex:[]}},getters:{activeElementList:function(e){var t=Q(),n=t.currentSlide;return n&&n.elements?n.elements.filter((function(t){return e.activeElementIdList.includes(t.id)})):[]},handleElement:function(e){var t=Q(),n=t.currentSlide;return n&&n.elements&&n.elements.find((function(t){return e.handleElementId===t.id}))||null}},actions:{setActiveElementIdList:function(e){1===e.length?this.handleElementId=e[0]:this.handleElementId="",this.activeElementIdList=e},setHandleElementId:function(e){this.handleElementId=e},setActiveGroupElementId:function(e){this.activeGroupElementId=e},setCanvasPercentage:function(e){this.canvasPercentage=e},setCanvasScale:function(e){this.canvasScale=e},setThumbnailsFocus:function(e){this.thumbnailsFocus=e},setEditorareaFocus:function(e){this.editorAreaFocus=e},setDisableHotkeysState:function(e){this.disableHotkeys=e},setGridLinesState:function(e){this.showGridLines=e},setCreatingElement:function(e){this.creatingElement=e},setAvailableFonts:function(){this.availableFonts=I.filter((function(e){return W(e.value)}))},setToolbarState:function(e){this.toolbarState=e},setClipingImageElementId:function(e){this.clipingImageElementId=e},setRichtextAttrs:function(e){this.richTextAttrs=e},setSelectedTableCells:function(e){this.selectedTableCells=e},setScalingState:function(e){this.isScaling=e},setEditingShapeElementId:function(e){this.editingShapeElementId=e},updateSelectedSlidesIndex:function(e){this.selectedSlidesIndex=e}}}),ee=n("1da1"),te=(n("96cf"),n("ddb0"),n("d4ec")),ne=n("257e"),oe=n("262e"),le=n("2caf"),ae=n("ade3"),ce=n("4dec"),re=function(e){Object(oe["a"])(n,e);var t=Object(le["a"])(n);function n(){var e;return Object(te["a"])(this,n),e=t.call(this,"SnapshotDatabase"),Object(ae["a"])(Object(ne["a"])(e),"snapshots",void 0),e.version(1).stores({snapshots:"++id"}),e.snapshots=e.table("snapshots"),e}return n}(ce["a"]),ie=new re,ue=Object(g["b"])("snapshot",{state:function(){return{snapshotCursor:-1,snapshotLength:0}},getters:{canUndo:function(e){return e.snapshotCursor>0},canRedo:function(e){return e.snapshotCursor<e.snapshotLength-1}},actions:{setSnapshotCursor:function(e){this.snapshotCursor=e},setSnapshotLength:function(e){this.snapshotLength=e},initSnapshotDatabase:function(){var e=this;return Object(ee["a"])(regeneratorRuntime.mark((function t(){var n,o,l,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Q(),t.next=3,ie.snapshots.orderBy("id").toArray();case 3:return o=t.sent,l=o.slice(-1)[0],l&&ie.snapshots.clear(),a={index:n.slideIndex,slides:n.slides},t.next=9,ie.snapshots.add(a);case 9:e.setSnapshotCursor(0),e.setSnapshotLength(1);case 11:case"end":return t.stop()}}),t)})))()},addSnapshot:function(){var e=this;return Object(ee["a"])(regeneratorRuntime.mark((function t(){var n,o,l,a,c,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Q(),t.next=3,ie.snapshots.orderBy("id").keys();case 3:return o=t.sent,l=[],e.snapshotCursor>=0&&e.snapshotCursor<o.length-1&&(l=o.slice(e.snapshotCursor+1)),a={index:n.slideIndex,slides:n.slides},t.next=9,ie.snapshots.add(a);case 9:return c=o.length-l.length+1,r=20,c>r&&(l.push(o[0]),c--),c>=2&&ie.snapshots.update(o[c-2],{index:n.slideIndex}),t.next=15,ie.snapshots.bulkDelete(l);case 15:e.setSnapshotCursor(c-1),e.setSnapshotLength(c);case 17:case"end":return t.stop()}}),t)})))()},unDo:function(){var e=this;return Object(ee["a"])(regeneratorRuntime.mark((function t(){var n,o,l,a,c,r,i,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.snapshotCursor<=0)){t.next=2;break}return t.abrupt("return");case 2:return n=Q(),o=$(),l=e.snapshotCursor-1,t.next=7,ie.snapshots.orderBy("id").toArray();case 7:a=t.sent,c=a[l],r=c.index,i=c.slides,u=r>i.length-1?i.length-1:r,n.setSlides(i),n.updateSlideIndex(u),e.setSnapshotCursor(l),o.setActiveElementIdList([]);case 15:case"end":return t.stop()}}),t)})))()},reDo:function(){var e=this;return Object(ee["a"])(regeneratorRuntime.mark((function t(){var n,o,l,a,c,r,i,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.snapshotCursor>=e.snapshotLength-1)){t.next=2;break}return t.abrupt("return");case 2:return n=Q(),o=$(),l=e.snapshotCursor+1,t.next=7,ie.snapshots.orderBy("id").toArray();case 7:a=t.sent,c=a[l],r=c.index,i=c.slides,u=r>i.length-1?i.length-1:r,n.setSlides(i),n.updateSlideIndex(u),e.setSnapshotCursor(l),o.setActiveElementIdList([]);case 15:case"end":return t.stop()}}),t)})))()}}}),se=Object(g["b"])("keyboard",{state:function(){return{ctrlKeyState:!1,shiftKeyState:!1}},getters:{ctrlOrShiftKeyActive:function(e){return e.ctrlKeyState||e.shiftKeyState}},actions:{setCtrlKeyState:function(e){this.ctrlKeyState=e},setShiftKeyState:function(e){this.shiftKeyState=e}}}),de=Object(g["b"])("screen",{state:function(){return{screening:!1}},actions:{setScreening:function(e){this.screening=e}}}),fe={class:"pptist-editor"},pe={class:"layout-content"},me={class:"layout-content-center"};function be(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("EditorHeader"),r=Object(j["resolveComponent"])("Thumbnails"),i=Object(j["resolveComponent"])("CanvasTool"),u=Object(j["resolveComponent"])("Canvas"),s=Object(j["resolveComponent"])("Remark"),d=Object(j["resolveComponent"])("Toolbar");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",fe,[Object(j["createVNode"])(c,{class:"layout-header"}),Object(j["createElementVNode"])("div",pe,[Object(j["createVNode"])(r,{class:"layout-content-left"}),Object(j["createElementVNode"])("div",me,[Object(j["createVNode"])(i,{class:"center-top"}),Object(j["createVNode"])(u,{class:"center-body",style:Object(j["normalizeStyle"])({height:"calc(100% - ".concat(e.remarkHeight+40,"px)")})},null,8,["style"]),Object(j["createVNode"])(s,{class:"center-bottom",height:e.remarkHeight,"onUpdate:height":t[0]||(t[0]=function(t){return e.remarkHeight=t}),style:Object(j["normalizeStyle"])({height:"".concat(e.remarkHeight,"px")})},null,8,["height","style"])]),Object(j["createVNode"])(d,{class:"layout-content-right"})])])}(function(e){e["UP"]="up",e["DOWN"]="down",e["TOP"]="top",e["BOTTOM"]="bottom"})(x||(x={})),function(e){e["TOP"]="top",e["BOTTOM"]="bottom",e["LEFT"]="left",e["RIGHT"]="right",e["VERTICAL"]="vertical",e["HORIZONTAL"]="horizontal",e["CENTER"]="center"}(C||(C={})),function(e){e["T"]="top",e["B"]="bottom",e["L"]="left",e["R"]="right"}(k||(k={})),function(e){e["LEFT_TOP"]="left-top",e["TOP"]="top",e["RIGHT_TOP"]="right-top",e["LEFT"]="left",e["RIGHT"]="right",e["LEFT_BOTTOM"]="left-bottom",e["BOTTOM"]="bottom",e["RIGHT_BOTTOM"]="right-bottom"}(w||(w={})),function(e){e["START"]="start",e["END"]="end",e["MID"]="mid"}(E||(E={})),function(e){e["C"]="C",e["X"]="X",e["Z"]="Z",e["Y"]="Y",e["A"]="A",e["G"]="G",e["L"]="L",e["F"]="F",e["D"]="D",e["B"]="B",e["MINUS"]="-",e["EQUAL"]="=",e["DIGIT_0"]="0",e["DELETE"]="DELETE",e["UP"]="ARROWUP",e["DOWN"]="ARROWDOWN",e["LEFT"]="ARROWLEFT",e["RIGHT"]="ARROWRIGHT",e["ENTER"]="ENTER",e["SPACE"]=" ",e["TAB"]="TAB",e["BACKSPACE"]="BACKSPACE"}(N||(N={}));var ve=[{type:"通用",children:[{label:"剪切",value:"Ctrl + X"},{label:"复制",value:"Ctrl + C"},{label:"粘贴",value:"Ctrl + V"},{label:"快速复制粘贴",value:"Ctrl + D"},{label:"全选",value:"Ctrl + A"},{label:"撤销",value:"Ctrl + Z"},{label:"恢复",value:"Ctrl + Y"},{label:"删除",value:"Delete / Backspace"},{label:"多选",value:"按住 Ctrl 或 Shift"}]},{type:"幻灯片放映",children:[{label:"开始放映幻灯片",value:"Ctrl + F"},{label:"切换上一页",value:"↑ / ←"},{label:"切换下一页",value:"↓ / → / Enter / Space"},{label:"退出放映",value:"ESC"}]},{type:"幻灯片编辑",children:[{label:"新建幻灯片",value:"Enter"},{label:"缩放画布",value:"Ctrl + 鼠标滚动"},{label:"放大画布",value:"Ctrl + ="},{label:"缩小画布",value:"Ctrl + -"},{label:"缩放画布到合适大小",value:"Ctrl + 0"},{label:"编辑上一页",value:"↑ / ← / 鼠标上滚"},{label:"编辑下一页",value:"↓ / → / 鼠标下滚"}]},{type:"元素操作",children:[{label:"移动",value:"↑ / ← / ↓ / →"},{label:"锁定",value:"Ctrl + L"},{label:"组合",value:"Ctrl + G"},{label:"取消组合",value:"Ctrl + Shift + G"},{label:"置顶层",value:"Alt + F"},{label:"置底层",value:"Alt + B"},{label:"锁定宽高比例",value:"按住 Ctrl 或 Shift"},{label:"创建水平 / 垂直线条",value:"按住 Ctrl 或 Shift"},{label:"切换焦点元素",value:"Tab"},{label:"确认图片裁剪",value:"Enter"}]},{type:"表格编辑",children:[{label:"聚焦到下一个单元格",value:"Tab"},{label:"在上方插入一行",value:"Ctrl + ↑"},{label:"在下方插入一行",value:"Ctrl + ↓"},{label:"在左侧插入一列",value:"Ctrl + ←"},{label:"在右侧插入一列",value:"Ctrl + →"}]},{type:"图表数据编辑",children:[{label:"聚焦到下一行",value:"Enter"}]},{type:"文本编辑",children:[{label:"加粗",value:"Ctrl + B"},{label:"斜体",value:"Ctrl + I"},{label:"下划线",value:"Ctrl + U"},{label:"删除线",value:"Ctrl + D"}]}],he=(n("3b18"),n("f64c")),Oe=(n("a630"),n("3ca3"),function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t="_0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",n=t.length,o="",l=0;l<e;l++){var a=Math.floor(Math.random()*n);o+=t[a]}return o}),je=function(e,t){return Object(Y["padStart"])(""+e,t,"0")},ge=(n("1276"),n("b311")),ye=n.n(ge),xe=(n("25f0"),n("3452")),Ce=n.n(xe),ke="pptist",we=function(e){return Ce.a.AES.encrypt(e,ke).toString()},Ee=function(e){var t=Ce.a.AES.decrypt(e,ke);return t.toString(Ce.a.enc.Utf8)},Ne=function(e){return new Promise((function(t,n){var o=document.createElement("button"),l=new ye.a(o,{text:function(){return e},action:function(){return"copy"},container:document.body});l.on("success",(function(e){l.destroy(),t(e)})),l.on("error",(function(e){l.destroy(),n(e)})),document.body.appendChild(o),o.click(),document.body.removeChild(o)}))},Ie=function(){return new Promise((function(e,t){var n;null!==(n=navigator.clipboard)&&void 0!==n&&n.readText?navigator.clipboard.readText().then((function(n){return n||t("剪贴板为空或者不包含文本"),e(n)})):t("浏览器不支持或禁止访问剪贴板，请使用快捷键 Ctrl + V")}))},Ve=function(e){var t;try{t=JSON.parse(Ee(e))}catch(n){t=e}return t},Se=function(e){var t=e.split("\r\n");""===t[t.length-1]&&t.pop();var n=-1,o=[];for(var l in t){if(o[l]=t[l].split("\t"),1===o[l].length)return null;if(-1===n)n=o[l].length;else if(n!==o[l].length)return null}return o},Le=(n("159b"),function(e){var t=e.left,n=e.top,o=e.width,l=e.height,a=e.rotate,c=void 0===a?0:a,r=Math.sqrt(Math.pow(o,2)+Math.pow(l,2))/2,i=180*Math.atan(l/o)/Math.PI,u=(180-c-i)*Math.PI/180,s=(i-c)*Math.PI/180,d=t+o/2,f=n+l/2,p=[d+r*Math.cos(u),d+r*Math.cos(s),d-r*Math.cos(u),d-r*Math.cos(s)],m=[f-r*Math.sin(u),f-r*Math.sin(s),f+r*Math.sin(u),f+r*Math.sin(s)];return{xRange:[Math.min.apply(Math,p),Math.max.apply(Math,p)],yRange:[Math.min.apply(Math,m),Math.max.apply(Math,m)]}}),Be=function(e){var t=Le({left:e.left,top:e.top,width:e.width,height:e.height,rotate:0}),n=t.xRange,o=t.yRange,l=Le({left:e.left,top:e.top,width:e.width,height:e.height,rotate:e.rotate}),a=l.xRange,c=l.yRange;return{offsetX:a[0]-n[0],offsetY:c[0]-o[0]}},Te=function(e){var t,n,o,l;if("line"===e.type)t=e.left,n=e.left+Math.max(e.start[0],e.end[0]),o=e.top,l=e.top+Math.max(e.start[1],e.end[1]);else if("rotate"in e&&e.rotate){var a=e.left,c=e.top,r=e.width,i=e.height,u=e.rotate,s=Le({left:a,top:c,width:r,height:i,rotate:u}),d=s.xRange,f=s.yRange;t=d[0],n=d[1],o=f[0],l=f[1]}else t=e.left,n=e.left+e.width,o=e.top,l=e.top+e.height;return{minX:t,maxX:n,minY:o,maxY:l}},Me=function(e){var t=[],n=[],o=[],l=[];e.forEach((function(e){var a=Te(e),c=a.minX,r=a.maxX,i=a.minY,u=a.maxY;t.push(c),n.push(i),o.push(r),l.push(u)}));var a=Math.min.apply(Math,t),c=Math.max.apply(Math,o),r=Math.min.apply(Math,n),i=Math.max.apply(Math,l);return{minX:a,maxX:c,minY:r,maxY:i}},_e=function(e){var t=[];return e.forEach((function(e){var n=t.findIndex((function(t){return t.value===e.value}));if(-1===n)t.push(e);else{var o=t[n],l=Math.min(o.range[0],e.range[0]),a=Math.max(o.range[1],e.range[1]),c=[l,a],r={value:e.value,range:c};t[n]=r}})),t},De=function(e){var t,n={},o={},l=Object(L["a"])(e);try{for(l.s();!(t=l.n()).done;){var a=t.value,c=a.groupId;c&&!n[c]&&(n[c]=Oe()),o[a.id]=Oe()}}catch(r){l.e(r)}finally{l.f()}return{groupIdMap:n,elIdMap:o}},ze=function(e){var t=U()(e).toRgb(),n={r:t.r,g:t.g,b:t.b,a:.3*t.a},o={r:t.r,g:t.g,b:t.b,a:.1*t.a};return["rgba(".concat([n.r,n.g,n.b,n.a].join(","),")"),"rgba(".concat([o.r,o.g,o.b,o.a].join(","),")")]},Ae=function(e){var t=e.start.join(","),n=e.end.join(",");if(e.broken){var o=e.broken.join(",");return"M".concat(t," L").concat(o," L").concat(n)}if(e.curve){var l=e.curve.join(",");return"M".concat(t," Q").concat(l," ").concat(n)}return"M".concat(t," L").concat(n)},Re=n("53ca"),Fe=(n("07ac"),function(e){var t,n=e.replace(/[\n\r]+/g,"<br>"),o=n.split("<br>"),l="",a=Object(L["a"])(o);try{for(a.s();!(t=a.n()).done;){var c=t.value;c&&(l+="<div>".concat(c,"</div>"))}}catch(r){a.e(r)}finally{a.f()}return l}),Pe=function(){var e=ue(),t=Object(Y["debounce"])((function(){e.addSnapshot()}),300,{trailing:!0}),n=Object(Y["throttle"])((function(){e.reDo()}),100,{leading:!0,trailing:!1}),o=Object(Y["throttle"])((function(){e.unDo()}),100,{leading:!0,trailing:!1});return{addHistorySnapshot:t,redo:n,undo:o}},He=(n("cb29"),function(e){return new Promise((function(t){var n=document.createElement("img");n.src=e,n.style.opacity="0",document.body.appendChild(n),n.onload=function(){var e=n.clientWidth,o=n.clientHeight;n.onload=null,n.onerror=null,document.body.removeChild(n),t({width:e,height:o})},n.onerror=function(){n.onload=null,n.onerror=null}}))}),qe=function(e){return new Promise((function(t){var n=new FileReader;n.addEventListener("load",(function(){t(n.result)})),n.readAsDataURL(e)}))},We=1e3,Xe=function(){var e=$(),t=Q(),n=Object(g["c"])(e),o=n.creatingElement,l=Object(g["c"])(t),a=l.theme,c=l.viewportRatio,r=a.value,i=r.themeColor,u=r.fontColor,s=r.fontName,d=Pe(),f=d.addHistorySnapshot,p=function(n){t.addElement(n),e.setActiveElementIdList([n.id]),o.value&&e.setCreatingElement(null),setTimeout((function(){e.setEditorareaFocus(!0)}),0),f()},m=function(e){He(e).then((function(t){var n=t.width,o=t.height,l=o/n;l<c.value&&n>We?(n=We,o=n*l):o>We*c.value&&(o=We*c.value,n=o/l),p({type:"image",id:Oe(),src:e,width:n,height:o,left:(We-n)/2,top:(We*c.value-o)/2,fixedRatio:!0,rotate:0})}))},b=function(e){p({type:"chart",id:Oe(),chartType:e,left:300,top:81.25,width:400,height:400,rotate:0,themeColor:[i],gridColor:u,data:{labels:["类别1","类别2","类别3","类别4","类别5"],legends:["系列1"],series:[[12,19,5,2,18]]}})},v=function(e,t){for(var n={fontname:s,color:u},o=[],l=0;l<e;l++){for(var a=[],r=0;r<t;r++)a.push({id:Oe(),colspan:1,rowspan:1,text:"",style:n});o.push(a)}var d=100,f=36,m=new Array(t).fill(1/t),b=t*d,v=e*f;p({type:"table",id:Oe(),width:b,height:v,colWidths:m,rotate:0,data:o,left:(We-b)/2,top:(We*c.value-v)/2,outline:{width:2,style:"solid",color:"#eeece1"},theme:{color:i,rowHeader:!0,rowFooter:!1,colHeader:!1,colFooter:!1}})},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"请输入内容",n=e.left,o=e.top,l=e.width,a=e.height;p({type:"text",id:Oe(),left:n,top:o,width:l,height:a,content:t,rotate:0,defaultFontName:s,defaultColor:u})},O=function(e,t){var n=e.left,o=e.top,l=e.width,a=e.height,c={type:"shape",id:Oe(),left:n,top:o,width:l,height:a,viewBox:t.viewBox,path:t.path,fill:i,fixedRatio:!1,rotate:0};t.special&&(c.special=!0),p(c)},j=function(e,t){var n=e.left,o=e.top,l=e.start,a=e.end,c={type:"line",id:Oe(),left:n,top:o,start:l,end:a,points:t.points,color:i,style:t.style,width:2};t.isBroken&&(c.broken=[(l[0]+a[0])/2,(l[1]+a[1])/2]),t.isCurve&&(c.curve=[(l[0]+a[0])/2,(l[1]+a[1])/2]),p(c)},y=function(e){p({type:"latex",id:Oe(),width:e.w,height:e.h,rotate:0,left:(We-e.w)/2,top:(We*c.value-e.h)/2,path:e.path,latex:e.latex,color:u,strokeWidth:2,viewBox:[e.w,e.h],fixedRatio:!0})},x=function(e){p({type:"video",id:Oe(),width:500,height:300,rotate:0,left:(We-500)/2,top:(We*c.value-300)/2,src:e})};return{createImageElement:m,createChartElement:b,createTableElement:v,createTextElement:h,createShapeElement:O,createLineElement:j,createLatexElement:y,createVideoElement:x}},Ge=function(){var e=$(),t=Q(),n=Object(g["c"])(t),o=n.currentSlide,l=Pe(),a=l.addHistorySnapshot,c=Xe(),r=c.createTextElement,i=function(n){var l,c=De(n),r=c.groupIdMap,i=c.elIdMap,u=o.value.elements.map((function(e){return e.id})),s=Object(L["a"])(n);try{for(s.s();!(l=s.n()).done;){var d=l.value,f=u.includes(d.id);d.id=i[d.id],f&&(d.left=d.left+10,d.top=d.top+10),d.groupId&&(d.groupId=r[d.groupId])}}catch(p){s.e(p)}finally{s.f()}t.addElement(n),e.setActiveElementIdList(Object.values(i)),a()},u=function(e){var n=e.map((function(e){var t,n=De(e.elements),o=n.groupIdMap,l=n.elIdMap,a=Object(L["a"])(e.elements);try{for(a.s();!(t=a.n()).done;){var c=t.value;c.id=l[c.id],c.groupId&&(c.groupId=o[c.groupId])}}catch(s){a.e(s)}finally{a.f()}if(e.animations){var r,i=Object(L["a"])(e.animations);try{for(i.s();!(r=i.n()).done;){var u=r.value;u.elId=l[u.elId]}}catch(s){i.e(s)}finally{i.f()}}return Object(S["a"])(Object(S["a"])({},e),{},{id:Oe(8)})}));t.addSlide(n),a()},s=function(e){r({left:0,top:0,width:600,height:50},e)},d=function(e,t){var n=(null===t||void 0===t?void 0:t.onlySlide)||!1,o=(null===t||void 0===t?void 0:t.onlyElements)||!1,l=Ve(e);if("object"===Object(Re["a"])(l)){var a=l.type,c=l.data;"elements"!==a||n?"slides"!==a||o||u(c):i(c)}else if(!o&&!n){var r=Fe(l);s(r)}};return{addSlidesFromClipboard:u,pasteTextClipboardData:d}},Ue=function(){var e=$(),t=Q(),n=Object(g["c"])(e),o=n.selectedSlidesIndex,l=Object(g["c"])(t),a=l.currentSlide,c=l.slides,r=l.theme,i=l.slideIndex,u=Object(j["computed"])((function(){return[].concat(Object(X["a"])(o.value),[i.value])})),s=Object(j["computed"])((function(){return c.value.filter((function(e,t){return u.value.includes(t)}))})),d=Object(j["computed"])((function(){return s.value.map((function(e){return e.id}))})),f=Ge(),p=f.pasteTextClipboardData,m=f.addSlidesFromClipboard,b=Pe(),v=b.addHistorySnapshot,h=function(){var n={id:Oe(8),elements:[],background:{type:"solid",color:r.value.backgroundColor}};t.updateSlideIndex(0),e.setActiveElementIdList([]),t.setSlides([n])},O=function(e){e===N.UP&&i.value>0?t.updateSlideIndex(i.value-1):e===N.DOWN&&i.value<c.value.length-1&&t.updateSlideIndex(i.value+1)},y=function(){var t=we(JSON.stringify({type:"slides",data:s.value}));Ne(t).then((function(){e.setThumbnailsFocus(!0)}))},x=function(){Ie().then((function(e){p(e,{onlySlide:!0})})).catch((function(e){return he["a"].warning(e)}))},C=function(){var n={id:Oe(8),elements:[],background:{type:"solid",color:r.value.backgroundColor}};e.setActiveElementIdList([]),t.addSlide(n),v()},k=function(n){var o,l=De(n.elements),a=l.groupIdMap,c=l.elIdMap,r=Object(L["a"])(n.elements);try{for(r.s();!(o=r.n()).done;){var i=o.value;i.id=c[i.id],i.groupId&&(i.groupId=a[i.groupId])}}catch(s){r.e(s)}finally{r.f()}var u=Object(S["a"])(Object(S["a"])({},n),{},{id:Oe(8)});e.setActiveElementIdList([]),t.addSlide(u),v()},w=function(){var e=JSON.parse(JSON.stringify(a.value));m([e])},E=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.value;c.value.length===n.length?h():t.deleteSlide(n),e.updateSelectedSlidesIndex([]),v()},I=function(){var e=Object(X["a"])(d.value);y(),E(e)},V=function(){var t=Array.from(Array(c.value.length),(function(e,t){return t}));e.setActiveElementIdList([]),e.updateSelectedSlidesIndex(t)};return{resetSlides:h,updateSlideIndex:O,copySlide:y,pasteSlide:x,createSlide:C,createSlideByTemplate:k,copyAndPasteSlide:w,deleteSlide:E,cutSlide:I,selectAllSlide:V}},Ye=function(){var e=$(),t=Q(),n=Object(g["c"])(e),o=n.activeElementIdList,l=Object(g["c"])(t),a=l.currentSlide,c=Pe(),r=c.addHistorySnapshot,i=function(){var n,l=JSON.parse(JSON.stringify(a.value.elements)),c=Object(L["a"])(l);try{for(c.s();!(n=c.n()).done;){var i=n.value;o.value.includes(i.id)&&(i.lock=!0)}}catch(u){c.e(u)}finally{c.f()}t.updateSlide({elements:l}),e.setActiveElementIdList([]),r()},u=function(n){var o=JSON.parse(JSON.stringify(a.value.elements));if(n.groupId){var l,c=Object(L["a"])(o);try{for(c.s();!(l=c.n()).done;){var i=l.value;i.groupId===n.groupId&&(i.lock=!1)}}catch(f){c.e(f)}finally{c.f()}return o}var u,s=Object(L["a"])(o);try{for(s.s();!(u=s.n()).done;){var d=u.value;if(d.id===n.id){d.lock=!1;break}}}catch(f){s.e(f)}finally{s.f()}t.updateSlide({elements:o}),e.setActiveElementIdList([n.id]),r()};return{lockElement:i,unlockElement:u}},Ze=function(){var e=$(),t=Q(),n=Object(g["c"])(e),o=n.activeElementIdList,l=n.activeGroupElementId,a=Object(g["c"])(t),c=a.currentSlide,r=Pe(),i=r.addHistorySnapshot,u=function(){if(o.value.length){var n=[];n=l.value?c.value.elements.filter((function(e){return e.id!==l.value})):c.value.elements.filter((function(e){return!o.value.includes(e.id)})),e.setActiveElementIdList([]),t.updateSlide({elements:n}),i()}},s=function(){c.value.elements.length&&(e.setActiveElementIdList([]),t.updateSlide({elements:[]}),i())};return{deleteElement:u,deleteAllElements:s}},Je=function(){var e=$(),t=Q(),n=Object(g["c"])(e),o=n.activeElementIdList,l=n.activeElementList,a=n.handleElementId,c=Object(g["c"])(t),r=c.currentSlide,i=Pe(),u=i.addHistorySnapshot,s=Object(j["computed"])((function(){if(l.value.length<2)return!1;var e=l.value[0].groupId;if(!e)return!0;var t=l.value.every((function(t){return(t.groupId&&t.groupId)===e}));return!t})),d=function(){var e;if(l.value.length){var n,a=JSON.parse(JSON.stringify(r.value.elements)),c=Oe(),i=[],s=Object(L["a"])(a);try{for(s.s();!(n=s.n()).done;){var d=n.value;o.value.includes(d.id)&&(d.groupId=c,i.push(d))}}catch(b){s.e(b)}finally{s.f()}var f=a.findIndex((function(e){return e.id===i[i.length-1].id})),p=i.map((function(e){return e.id}));a=a.filter((function(e){return!p.includes(e.id)}));var m=f-i.length+1;(e=a).splice.apply(e,[m,0].concat(i)),t.updateSlide({elements:a}),u()}},f=function(){if(l.value.length){var n=l.value.some((function(e){return e.groupId}));if(n){var c,i=JSON.parse(JSON.stringify(r.value.elements)),s=Object(L["a"])(i);try{for(s.s();!(c=s.n()).done;){var d=c.value;o.value.includes(d.id)&&d.groupId&&delete d.groupId}}catch(p){s.e(p)}finally{s.f()}t.updateSlide({elements:i});var f=a.value?[a.value]:[];e.setActiveElementIdList(f),u()}}};return{canCombine:s,combineElements:d,uncombineElements:f}},Ke=function(){var e=$(),t=Object(g["c"])(e),n=t.activeElementIdList,o=t.activeElementList,l=Ge(),a=l.pasteTextClipboardData,c=Ze(),r=c.deleteElement,i=function(){if(n.value.length){var t=we(JSON.stringify({type:"elements",data:o.value}));Ne(t).then((function(){e.setEditorareaFocus(!0)}))}},u=function(){i(),r()},s=function(){Ie().then((function(e){a(e)})).catch((function(e){return he["a"].warning(e)}))},d=function(){i(),s()};return{copyElement:i,cutElement:u,pasteElement:s,quickCopyElement:d}},Qe=function(){var e=$(),t=Object(g["c"])(Q()),n=t.currentSlide,o=function(){var t=n.value.elements.filter((function(e){return!e.lock})),o=t.map((function(e){return e.id}));e.setActiveElementIdList(o)};return{selectAllElement:o}},$e=function(){var e=Q(),t=Object(g["c"])($()),n=t.activeElementIdList,o=t.activeGroupElementId,l=Object(g["c"])(e),a=l.currentSlide,c=Pe(),r=c.addHistorySnapshot,i=function(t){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=[],i=function(e){var n=e.left,o=e.top;switch(t){case N.LEFT:n-=l;break;case N.RIGHT:n+=l;break;case N.UP:o-=l;break;case N.DOWN:o+=l;break;default:break}return Object(S["a"])(Object(S["a"])({},e),{},{left:n,top:o})};c=o.value?a.value.elements.map((function(e){return o.value===e.id?i(e):e})):a.value.elements.map((function(e){return n.value.includes(e.id)?i(e):e})),e.updateSlide({elements:c}),r()};return{moveElement:i}},et=function(){var e=Q(),t=Object(g["c"])(e),n=t.currentSlide,o=Pe(),l=o.addHistorySnapshot,a=function(e,t){return{minLevel:e.findIndex((function(e){return e.id===t[0].id})),maxLevel:e.findIndex((function(e){return e.id===t[t.length-1].id}))}},c=function(e,t){var n=JSON.parse(JSON.stringify(e));if(t.groupId){var o=n.filter((function(e){return e.groupId===t.groupId})),l=a(e,o),c=l.minLevel,r=l.maxLevel;if(r===e.length-1)return;var i=n[r+1],u=n.splice(c,o.length);if(i.groupId){var s=n.filter((function(e){return e.groupId===i.groupId}));n.splice.apply(n,[c+s.length,0].concat(Object(X["a"])(u)))}else n.splice.apply(n,[c+1,0].concat(Object(X["a"])(u)))}else{var d=e.findIndex((function(e){return e.id===t.id}));if(d===e.length-1)return;var f=n[d+1],p=n.splice(d,1)[0];if(f.groupId){var m=n.filter((function(e){return e.groupId===f.groupId}));n.splice(d+m.length,0,p)}else n.splice(d+1,0,p)}return n},r=function(e,t){var n=JSON.parse(JSON.stringify(e));if(t.groupId){var o=n.filter((function(e){return e.groupId===t.groupId})),l=a(e,o),c=l.minLevel;if(0===c)return;var r=n[c-1],i=n.splice(c,o.length);if(r.groupId){var u=n.filter((function(e){return e.groupId===r.groupId}));n.splice.apply(n,[c-u.length,0].concat(Object(X["a"])(i)))}else n.splice.apply(n,[c-1,0].concat(Object(X["a"])(i)))}else{var s=e.findIndex((function(e){return e.id===t.id}));if(0===s)return;var d=n[s-1],f=n.splice(s,1)[0];if(d.groupId){var p=n.filter((function(e){return e.groupId===d.groupId}));n.splice(s-p.length,0,f)}else n.splice(s-1,0,f)}return n},i=function(e,t){var n=JSON.parse(JSON.stringify(e));if(t.groupId){var o=n.filter((function(e){return e.groupId===t.groupId})),l=a(e,o),c=l.minLevel,r=l.maxLevel;if(r===e.length-1)return null;var i=n.splice(c,o.length);n.push.apply(n,Object(X["a"])(i))}else{var u=e.findIndex((function(e){return e.id===t.id}));if(u===e.length-1)return null;n.splice(u,1),n.push(t)}return n},u=function(e,t){var n=JSON.parse(JSON.stringify(e));if(t.groupId){var o=n.filter((function(e){return e.groupId===t.groupId})),l=a(e,o),c=l.minLevel;if(0===c)return;var r=n.splice(c,o.length);n.unshift.apply(n,Object(X["a"])(r))}else{var i=e.findIndex((function(e){return e.id===t.id}));if(0===i)return;n.splice(i,1),n.unshift(t)}return n},s=function(t,o){var a;o===x.UP?a=c(n.value.elements,t):o===x.DOWN?a=r(n.value.elements,t):o===x.TOP?a=i(n.value.elements,t):o===x.BOTTOM&&(a=u(n.value.elements,t)),a&&(e.updateSlide({elements:a}),l())};return{orderElement:s}},tt=function(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen&&e.webkitRequestFullScreen()},nt=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()},ot=function(){return document.mozFullScreen||document.webkitIsFullScreen||document.webkitFullScreen},lt=function(){var e=de(),t=Q(),n=function(){tt(),e.setScreening(!0)},o=function(){t.updateSlideIndex(0),n()},l=function(){e.setScreening(!1),ot()&&nt()};return{enterScreening:n,enterScreeningFromStart:o,exitScreening:l}},at=function(){var e=$(),t=Object(g["c"])(e),n=t.canvasPercentage,o=function(t){var o=n.value,l=5,a=120,c=60;"+"===t&&o<=a&&(o+=l),"-"===t&&o>=c&&(o-=l),e.setCanvasPercentage(o)},l=function(t){e.setCanvasPercentage(t)};return{scaleCanvas:o,setCanvasPercentage:l}},ct=function(){var e=$(),t=se(),n=Object(g["c"])(e),o=n.activeElementIdList,l=n.disableHotkeys,a=n.handleElement,c=n.handleElementId,r=n.editorAreaFocus,i=n.thumbnailsFocus,u=Object(g["c"])(Q()),s=u.currentSlide,d=Object(g["c"])(t),f=d.ctrlKeyState,p=d.shiftKeyState,m=Ue(),b=m.updateSlideIndex,v=m.copySlide,h=m.createSlide,O=m.deleteSlide,y=m.cutSlide,C=m.copyAndPasteSlide,k=m.selectAllSlide,w=Je(),E=w.combineElements,I=w.uncombineElements,V=Ze(),S=V.deleteElement,L=Ye(),B=L.lockElement,T=Ke(),M=T.copyElement,_=T.cutElement,D=T.quickCopyElement,z=Qe(),A=z.selectAllElement,R=$e(),F=R.moveElement,P=et(),H=P.orderElement,q=Pe(),W=q.redo,X=q.undo,G=lt(),U=G.enterScreening,Y=at(),Z=Y.scaleCanvas,J=Y.setCanvasPercentage,K=function(){o.value.length?M():i.value&&v()},ee=function(){o.value.length?_():i.value&&y()},te=function(){o.value.length?D():i.value&&C()},ne=function(){r.value&&A(),i.value&&k()},oe=function(){r.value&&B()},le=function(){r.value&&E()},ae=function(){r.value&&I()},ce=function(){o.value.length?S():i.value&&O()},re=function(e){o.value.length?F(e):e!==N.UP&&e!==N.DOWN||b(e)},ie=function(e){a.value&&H(a.value,e)},ue=function(){i.value&&h()},de=function(){if(s.value.elements.length)if(c.value){var t=s.value.elements.findIndex((function(e){return e.id===c.value})),n=t>=s.value.elements.length-1?0:t+1,o=s.value.elements[n].id;e.setActiveElementIdList([o])}else{var l=s.value.elements[0];e.setActiveElementIdList([l.id])}},fe=function(e){var n=e.ctrlKey,o=e.shiftKey,a=e.altKey,c=e.metaKey,u=n||c,s=e.key.toUpperCase();if(u&&!f.value&&t.setCtrlKeyState(!0),o&&!p.value&&t.setShiftKeyState(!0),u&&s===N.F&&(e.preventDefault(),U(),t.setCtrlKeyState(!1)),r.value||i.value){if(u&&s===N.C){if(l.value)return;e.preventDefault(),K()}if(u&&s===N.X){if(l.value)return;e.preventDefault(),ee()}if(u&&s===N.D){if(l.value)return;e.preventDefault(),te()}if(u&&s===N.Z){if(l.value)return;e.preventDefault(),X()}if(u&&s===N.Y){if(l.value)return;e.preventDefault(),W()}if(u&&s===N.A){if(l.value)return;e.preventDefault(),ne()}if(u&&s===N.L){if(l.value)return;e.preventDefault(),oe()}if(!o&&u&&s===N.G){if(l.value)return;e.preventDefault(),le()}if(o&&u&&s===N.G){if(l.value)return;e.preventDefault(),ae()}if(a&&s===N.F){if(l.value)return;e.preventDefault(),ie(x.TOP)}if(a&&s===N.B){if(l.value)return;e.preventDefault(),ie(x.BOTTOM)}if(s===N.DELETE||s===N.BACKSPACE){if(l.value)return;e.preventDefault(),ce()}if(s===N.UP){if(l.value)return;e.preventDefault(),re(N.UP)}if(s===N.DOWN){if(l.value)return;e.preventDefault(),re(N.DOWN)}if(s===N.LEFT){if(l.value)return;e.preventDefault(),re(N.LEFT)}if(s===N.RIGHT){if(l.value)return;e.preventDefault(),re(N.RIGHT)}if(s===N.ENTER){if(l.value)return;e.preventDefault(),ue()}if(s===N.MINUS){if(l.value)return;e.preventDefault(),Z("-")}if(s===N.EQUAL){if(l.value)return;e.preventDefault(),Z("+")}if(s===N.DIGIT_0){if(l.value)return;e.preventDefault(),J(90)}if(s===N.TAB){if(l.value)return;e.preventDefault(),de()}}},pe=function(){f.value&&t.setCtrlKeyState(!1),p.value&&t.setShiftKeyState(!1)};Object(j["onMounted"])((function(){document.addEventListener("keydown",fe),document.addEventListener("keyup",pe),window.addEventListener("blur",pe)})),Object(j["onUnmounted"])((function(){document.removeEventListener("keydown",fe),document.removeEventListener("keyup",pe),window.removeEventListener("blur",pe)}))},rt=function(){var e=Object(g["c"])($()),t=e.editorAreaFocus,n=e.thumbnailsFocus,o=e.disableHotkeys,l=Ge(),a=l.pasteTextClipboardData,c=Xe(),r=c.createImageElement,i=function(e){qe(e).then((function(e){return r(e)}))},u=function(e){if((t.value||n.value)&&!o.value&&e.clipboardData){var l=e.clipboardData.items,c=l[0];if(c){var r,u=Object(L["a"])(l);try{for(u.s();!(r=u.n()).done;){var s=r.value;if("file"===s.kind&&-1!==s.type.indexOf("image")){var d=s.getAsFile();return void(d&&i(d))}}}catch(f){u.e(f)}finally{u.f()}"string"===c.kind&&"text/plain"===c.type&&c.getAsString((function(e){return a(e)}))}}};Object(j["onMounted"])((function(){document.addEventListener("paste",u)})),Object(j["onUnmounted"])((function(){document.removeEventListener("paste",u)}))},it=function(e){return Object(j["pushScopeId"])("data-v-72230148"),e=e(),Object(j["popScopeId"])(),e},ut={class:"editor-header"},st={class:"left"},dt=Object(j["createTextVNode"])(),ft=it((function(){return Object(j["createElementVNode"])("span",{class:"text"},"保存",-1)})),pt={class:"menu-item"},mt=Object(j["createTextVNode"])(),bt=it((function(){return Object(j["createElementVNode"])("span",{class:"text"},"文件",-1)})),vt=Object(j["createTextVNode"])("导出 JSON"),ht=Object(j["createTextVNode"])("导出 PPTX"),Ot={class:"menu-item"},jt=Object(j["createTextVNode"])(),gt=it((function(){return Object(j["createElementVNode"])("span",{class:"text"},"编辑",-1)})),yt=Object(j["createTextVNode"])("撤销"),xt=Object(j["createTextVNode"])("重做"),Ct=Object(j["createTextVNode"])("添加页面"),kt=Object(j["createTextVNode"])("删除页面"),wt=Object(j["createTextVNode"])("重置幻灯片"),Et={class:"menu-item"},Nt=Object(j["createTextVNode"])(),It=it((function(){return Object(j["createElementVNode"])("span",{class:"text"},"演示",-1)})),Vt=Object(j["createTextVNode"])("从头开始"),St=Object(j["createTextVNode"])("从当前页开始"),Lt={class:"menu-item"},Bt=Object(j["createTextVNode"])(),Tt=it((function(){return Object(j["createElementVNode"])("span",{class:"text"},"帮助",-1)})),Mt=Object(j["createTextVNode"])("快捷键"),_t={class:"right"};function Dt(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("IconLock"),r=Object(j["resolveComponent"])("IconFolderClose"),i=Object(j["resolveComponent"])("MenuItem"),u=Object(j["resolveComponent"])("Menu"),s=Object(j["resolveComponent"])("Dropdown"),d=Object(j["resolveComponent"])("IconEdit"),f=Object(j["resolveComponent"])("IconPpt"),p=Object(j["resolveComponent"])("IconHelpcenter"),m=Object(j["resolveComponent"])("Tooltip"),b=Object(j["resolveComponent"])("HotkeyDoc"),v=Object(j["resolveComponent"])("Drawer"),h=Object(j["resolveComponent"])("FullscreenSpin"),O=Object(j["resolveComponent"])("TitleDialog"),g=Object(j["resolveComponent"])("Modal");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",ut,[Object(j["createElementVNode"])("div",st,[Object(j["createElementVNode"])("div",{class:"menu-item",onClick:t[0]||(t[0]=function(t){return e.saveData()})},[Object(j["createVNode"])(c),dt,ft]),Object(j["createVNode"])(s,{trigger:["click"]},{overlay:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,null,{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{onClick:t[1]||(t[1]=function(t){return e.exportJSON()})},{default:Object(j["withCtx"])((function(){return[vt]})),_:1}),Object(j["createVNode"])(i,{onClick:t[2]||(t[2]=function(t){return e.exportPPTX()})},{default:Object(j["withCtx"])((function(){return[ht]})),_:1})]})),_:1})]})),default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",pt,[Object(j["createVNode"])(r),mt,bt])]})),_:1}),Object(j["createVNode"])(s,{trigger:["click"]},{overlay:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,null,{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{onClick:t[3]||(t[3]=function(t){return e.undo()})},{default:Object(j["withCtx"])((function(){return[yt]})),_:1}),Object(j["createVNode"])(i,{onClick:t[4]||(t[4]=function(t){return e.redo()})},{default:Object(j["withCtx"])((function(){return[xt]})),_:1}),Object(j["createVNode"])(i,{onClick:t[5]||(t[5]=function(t){return e.createSlide()})},{default:Object(j["withCtx"])((function(){return[Ct]})),_:1}),Object(j["createVNode"])(i,{onClick:t[6]||(t[6]=function(t){return e.deleteSlide()})},{default:Object(j["withCtx"])((function(){return[kt]})),_:1}),Object(j["createVNode"])(i,{onClick:t[7]||(t[7]=function(t){return e.toggleGridLines()})},{default:Object(j["withCtx"])((function(){return[Object(j["createTextVNode"])(Object(j["toDisplayString"])(e.showGridLines?"关闭网格线":"打开网格线"),1)]})),_:1}),Object(j["createVNode"])(i,{onClick:t[8]||(t[8]=function(t){return e.resetSlides()})},{default:Object(j["withCtx"])((function(){return[wt]})),_:1})]})),_:1})]})),default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",Ot,[Object(j["createVNode"])(d),jt,gt])]})),_:1}),Object(j["createVNode"])(s,{trigger:["click"]},{overlay:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,null,{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{onClick:t[9]||(t[9]=function(t){return e.enterScreeningFromStart()})},{default:Object(j["withCtx"])((function(){return[Vt]})),_:1}),Object(j["createVNode"])(i,{onClick:t[10]||(t[10]=function(t){return e.enterScreening()})},{default:Object(j["withCtx"])((function(){return[St]})),_:1})]})),_:1})]})),default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",Et,[Object(j["createVNode"])(f),Nt,It])]})),_:1}),Object(j["createVNode"])(s,{trigger:["click"]},{overlay:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,null,{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{onClick:t[11]||(t[11]=function(t){return e.hotkeyDrawerVisible=!0})},{default:Object(j["withCtx"])((function(){return[Mt]})),_:1})]})),_:1})]})),default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",Lt,[Object(j["createVNode"])(p),Bt,Tt])]})),_:1})]),Object(j["createElementVNode"])("div",_t,[Object(j["createVNode"])(m,{mouseLeaveDelay:0,title:"幻灯片放映"},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",{class:"menu-item",onClick:t[12]||(t[12]=function(t){return e.enterScreening()})},[Object(j["createVNode"])(f,{size:"18",fill:"#666",style:{"margin-top":"2px"}})])]})),_:1})]),Object(j["createVNode"])(v,{width:"320",placement:"right",visible:e.hotkeyDrawerVisible,onClose:t[13]||(t[13]=function(t){return e.hotkeyDrawerVisible=!1})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(b)]})),_:1},8,["visible"]),Object(j["createVNode"])(h,{loading:e.exporting,tip:"正在导出..."},null,8,["loading"]),Object(j["createVNode"])(g,{visible:e.titleDialogVisible,"onUpdate:visible":t[15]||(t[15]=function(t){return e.titleDialogVisible=t}),footer:null,centered:"",width:540,destroyOnClose:""},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(O,{onClose:t[14]||(t[14]=function(t){return e.titleDialogVisible=!1})})]})),_:1},8,["visible"])])}var zt=n("3835"),At=(n("9911"),n("cc71"),n("21a6")),Rt=n("8f74"),Ft=(n("00b4"),["style","script","template"]),Pt=["html","head","body","p","dt","dd","li","option","thead","th","tbody","tr","td","tfoot","colgroup"],Ht={li:["ul","ol","menu"],dt:["dl"],dd:["dl"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table"],td:["table"]},qt=["!doctype","area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],Wt=function(e,t){var n=t-e.position;Xt(e,n)},Xt=function(e,t){e.position=e.position+t},Gt=function(e,t){var n=!1;while(!n){var o=e.indexOf("<",t);if(-1===o)return o;var l=e.charAt(o+1);if("/"===l||"!"===l||/[A-Za-z0-9]/.test(l))return o;t=o+1}return-1},Ut=function(e){var t=e.str,n=Gt(t,e.position);if(n!==e.position){-1===n&&(n=t.length);var o=t.slice(e.position,n);Wt(e,n),e.tokens.push({type:"text",content:o})}},Yt=function(e){var t=e.str;Xt(e,4);var n=t.indexOf("--\x3e",e.position),o=n+3;-1===n&&(n=o=t.length);var l=t.slice(e.position,n);Wt(e,o),e.tokens.push({type:"comment",content:l})},Zt=function(e){var t=e.str,n=t.length,o=e.position;while(o<n){var l=t.charAt(o),a=!(/\s/.test(l)||"/"===l||">"===l);if(a)break;o++}var c=o+1;while(c<n){var r=t.charAt(c),i=!(/\s/.test(r)||"/"===r||">"===r);if(!i)break;c++}Wt(e,c);var u=t.slice(o,c);return e.tokens.push({type:"tag",content:u}),u},Jt=function(e){var t=e.str,n=e.tokens,o=e.position,l=null,a=o,c=[],r=t.length;while(o<r){var i=t.charAt(o);if(l){var u=i===l;u&&(l=null),o++}else{var s="/"===i||">"===i;if(s){o!==a&&c.push(t.slice(a,o));break}var d=/\s/.test(i);if(d)o!==a&&c.push(t.slice(a,o)),a=o+1,o++;else{var f="'"===i||'"'===i;f?(l=i,o++):o++}}}Wt(e,o);for(var p="attribute",m=0;m<c.length;m++){var b=c[m],v=-1===b.indexOf("=");if(v){var h=c[m+1];if(h&&Object(Y["startsWith"])(h,"=")){if(h.length>1){var O=b+h;n.push({type:p,content:O}),m+=1;continue}var j=c[m+2];if(m+=1,j){var g=b+"="+j;n.push({type:p,content:g}),m+=1;continue}}}if(Object(Y["endsWith"])(b,"=")){var y=c[m+1];if(y&&-1===y.indexOf("=")){var x=b+y;n.push({type:p,content:x}),m+=1;continue}var C=b.slice(0,-1);n.push({type:p,content:C})}else n.push({type:p,content:b})}},Kt=function(e,t){var n=t.str,o=t.tokens,l=e.toLowerCase(),a=n.length,c=t.position;while(c<a){var r=n.indexOf("</",c);if(-1===r){Ut(t);break}var i={str:n,position:t.position,tokens:[]};Wt(i,r);var u=Qt(i);if(l===u.toLowerCase()){if(r!==t.position){var s=t.position;Wt(t,r),o.push({type:"text",content:n.slice(s,r)})}o.push.apply(o,Object(X["a"])(i.tokens)),Wt(t,i.position);break}c=i.position}},Qt=function(e){var t=e.str,n=t.charAt(e.position+1),o="/"===n;Xt(e,o?2:1),e.tokens.push({type:"tag-start",close:o});var l=Zt(e);Jt(e);var a=t.charAt(e.position),c="/"===a;return Xt(e,c?2:1),e.tokens.push({type:"tag-end",close:c}),l},$t=function(e){var t=e.str,n=t.length;while(e.position<n){var o=e.position;if(Ut(e),e.position===o){var l=Object(Y["startsWith"])(t,"!--",o+1);if(l)Yt(e);else{var a=Qt(e),c=a.toLowerCase();Ft.includes(c)&&Kt(a,e)}}}},en=function(e){var t={str:e,position:0,tokens:[]};return $t(t),t.tokens},tn=function(e){var t={tagName:null,children:[]},n={tokens:e,cursor:0,stack:[t]};return ln(n),t.children},nn=function(e,t){var n=Ht[e];if(n){var o=t.length-1;while(o>=0){var l=t[o].tagName;if(l===e)break;if(n.includes(l))return!0;o--}}return!1},on=function(e,t){e.splice(t)},ln=function e(t){var n=t.stack,o=t.tokens,l=t.cursor,a=n[n.length-1].children,c=o.length;while(l<c){var r=o[l];if("tag-start"===r.type){var i=o[++l];l++;var u=i.content.toLowerCase();if(r.close){var s=n.length,d=!1;while(--s>-1)if(n[s].tagName===u){d=!0;break}while(l<c){if("tag-end"!==o[l].type)break;l++}if(d){on(n,s);break}}else{var f=Pt.includes(u),p=f;if(p&&(p=!nn(u,n)),p){var m=n.length-1;while(m>0){if(u===n[m].tagName){on(n,m);var b=m-1;a=n[b].children;break}m-=1}}var v=[],h=void 0;while(l<c){var O=o[l];if("tag-end"===O.type){h=O;break}v.push(O.content),l++}if(!h)break;l++;var j=[],g={type:"element",tagName:i.content,attributes:v,children:j};a.push(g);var y=!(h.close||qt.includes(u));if(y){n.push({tagName:u,children:j});var x={tokens:o,cursor:l,stack:n};e(x),l=x.cursor}}}else a.push(r),l++}t.cursor=l},an=(n("498a"),function(e,t){var n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}),cn=function(e){var t=e.charAt(0),n=e.length-1,o='"'===t||"'"===t;return o&&t===e.charAt(n)?e.slice(1,n):e},rn=function(e){return e.map((function(e){var t=an(e.trim(),"="),n=t[0],o="string"===typeof t[1]?cn(t[1]):null;return{key:n,value:o}}))},un=function e(t){return t.map((function(t){if("element"===t.type){var n=e(t.children),o={type:"element",tagName:t.tagName.toLowerCase(),attributes:rn(t.attributes),children:n};return o}var l={type:t.type,content:t.content};return l}))},sn=function(e){var t=en(e),n=tn(t);return un(n)},dn=n("d01f"),fn=n("0b89"),pn={1:"Z",2:"M",4:"H",8:"V",16:"L",32:"C",64:"S",128:"Q",256:"T",512:"A"},mn=function(e){var t,n=new dn["a"](e),o=[],l=Object(L["a"])(n.commands);try{for(l.s();!(t=l.n()).done;){var a=t.value,c=pn[a.type];if(2!==a.type&&16!==a.type||o.push({x:a.x,y:a.y,relative:a.relative,type:c}),32===a.type)o.push({x:a.x,y:a.y,curve:{type:"cubic",x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},relative:a.relative,type:c});else if(128===a.type)o.push({x:a.x,y:a.y,curve:{type:"quadratic",x1:a.x1,y1:a.y1},relative:a.relative,type:c});else if(512===a.type){var r=o[o.length-1];if(!["M","L","Q","C"].includes(r.type))continue;var i,u=Object(fn["a"])({px:r.x,py:r.y,cx:a.x,cy:a.y,rx:a.rX,ry:a.rY,xAxisRotation:a.xRot,largeArcFlag:a.lArcFlag,sweepFlag:a.sweepFlag}),s=Object(L["a"])(u);try{for(s.s();!(i=s.n()).done;){var d=i.value;o.push({x:d.x,y:d.y,curve:{type:"cubic",x1:d.x1,y1:d.y1,x2:d.x2,y2:d.y2},relative:!1,type:"C"})}}catch(f){s.e(f)}finally{s.f()}}else{if(1!==a.type)continue;o.push({close:!0,type:c})}}}catch(f){l.e(f)}finally{l.f()}return o},bn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",vn="data:image/svg+xml;base64,",hn=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?t+=String.fromCharCode(o):o>127&&o<2048?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t},On=function(e){var t,n,o,l,a,c,r,i="",u=0;e=hn(e);while(u<e.length)t=e.charCodeAt(u++),n=e.charCodeAt(u++),o=e.charCodeAt(u++),l=t>>2,a=(3&t)<<4|n>>4,c=(15&n)<<2|o>>6,r=63&o,isNaN(n)?c=r=64:isNaN(o)&&(r=64),i=i+bn.charAt(l)+bn.charAt(a)+bn.charAt(c)+bn.charAt(r);return i},jn=function(e){var t=new XMLSerializer,n=t.serializeToString(e);return vn+On(n)},gn=function(){var e=Object(g["c"])(Q()),t=e.slides,n=Object(j["ref"])(!1),o=function(){var e=new Blob([JSON.stringify(t.value)],{type:""});Object(At["saveAs"])(e,"ppt.json")},l=function(e){var t=U()(e),n=t.getAlpha(),o=0===n?"#ffffff":t.setAlpha(1).toHexString();return{alpha:n,color:o}},a=function(e){var t=sn(e),n=[],o=function e(t){var o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=Object(L["a"])(t);try{for(c.s();!(o=c.n()).done;){var r=o.value;if("tagName"in r&&["div","ul","li","p"].includes(r.tagName)&&n.length){var i=n[n.length-1];i.options||(i.options={}),i.options.breakLine=!0}var u=Object(S["a"])({},a),s="attributes"in r?r.attributes.find((function(e){return"style"===e.key})):null;if(s&&s.value){var d,f=s.value.split(";"),p=Object(L["a"])(f);try{for(p.s();!(d=p.n()).done;){var m=d.value,b=m.split(": "),v=Object(zt["a"])(b,2),h=v[0],O=v[1],j=[Object(Y["trim"])(h),Object(Y["trim"])(O)],g=j[0],y=j[1];g&&y&&(u[g]=y)}}catch(k){p.e(k)}finally{p.f()}}if("tagName"in r&&("em"===r.tagName&&(u["font-style"]="italic"),"strong"===r.tagName&&(u["font-weight"]="bold"),"sup"===r.tagName&&(u["vertical-align"]="super"),"sub"===r.tagName&&(u["vertical-align"]="sub")),"tagName"in r&&"br"===r.tagName)n.push({text:"",options:{breakLine:!0}});else if("content"in r){var x=r.content.replace(/\n/g,"").replace(/&nbsp;/g," "),C={};u["font-size"]&&(C.fontSize=.75*parseInt(u["font-size"])),u["color"]&&(C.color=l(u["color"]).color),u["background-color"]&&(C.highlight=l(u["background-color"]).color),u["text-decoration-line"]&&(-1!==u["text-decoration-line"].indexOf("underline")&&(C.underline={color:C.color||"#000000",style:"sng"}),-1!==u["text-decoration-line"].indexOf("line-through")&&(C.strike="sngStrike")),u["text-decoration"]&&(-1!==u["text-decoration"].indexOf("underline")&&(C.underline={color:C.color||"#000000",style:"sng"}),-1!==u["text-decoration"].indexOf("line-through")&&(C.strike="sngStrike")),u["vertical-align"]&&("super"===u["vertical-align"]&&(C.superscript=!0),"sub"===u["vertical-align"]&&(C.subscript=!0)),u["text-align"]&&(C.align=u["text-align"]),u["font-weight"]&&(C.bold="bold"===u["font-weight"]),u["font-style"]&&(C.italic="italic"===u["font-style"]),u["font-family"]&&(C.fontFace=u["font-family"]),n.push({text:x,options:C})}else"children"in r&&e(r.children,u)}}catch(k){c.e(k)}finally{c.f()}};return o(t),n},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:1,y:1};return e.map((function(e){if(void 0!==e.close)return{close:!0};if("M"===e.type)return{x:e.x/100*t.x,y:e.y/100*t.y,moveTo:!0};if(e.curve){if("cubic"===e.curve.type)return{x:e.x/100*t.x,y:e.y/100*t.y,curve:{type:"cubic",x1:e.curve.x1/100*t.x,y1:e.curve.y1/100*t.y,x2:e.curve.x2/100*t.x,y2:e.curve.y2/100*t.y}};if("quadratic"===e.curve.type)return{x:e.x/100*t.x,y:e.y/100*t.y,curve:{type:"quadratic",x1:e.curve.x1/100*t.x,y1:e.curve.y1/100*t.y}}}return{x:e.x/100*t.x,y:e.y/100*t.y}}))},r=function(){n.value=!0;var e,o=new Rt["a"],r=Object(L["a"])(t.value);try{for(r.s();!(e=r.n()).done;){var i=e.value,u=o.addSlide();if(i.background){var s=i.background;if("image"===s.type&&s.image)u.background={data:s.image};else if("solid"===s.type&&s.color){var d=l(s.color);u.background={color:d.color,transparency:100*(1-d.alpha)}}else if("gradient"===s.type&&s.gradientColor){var f=Object(zt["a"])(s.gradientColor,2),p=f[0],m=f[1],b=U.a.mix(p,m).toHexString(),v=l(b);u.background={color:v.color,transparency:100*(1-v.alpha)}}}if(i.elements){var h,O=Object(L["a"])(i.elements);try{var j=function(){var e=h.value;if("text"===e.type){var t=a(e.content),n={x:e.left/100,y:e.top/100,w:e.width/100,h:e.height/100,fontSize:15,fontFace:"微软雅黑",color:"#000000",valign:"middle"};if(e.rotate&&(n.rotate=e.rotate),e.wordSpace&&(n.charSpacing=.75*e.wordSpace),e.lineHeight&&(n.lineSpacingMultiple=.75*e.lineHeight),e.fill){var r=l(e.fill),i=void 0===e.opacity?1:e.opacity;n.fill={color:r.color,transparency:100*(1-r.alpha*i)}}if(e.defaultColor&&(n.color=l(e.defaultColor).color),e.defaultFontName&&(n.fontFace=e.defaultFontName),e.shadow){var s=l(e.shadow.color);n.shadow={type:"outer",color:s.color.replace("#",""),opacity:s.alpha,blur:.75*e.shadow.blur,offset:(e.shadow.h+e.shadow.v)/2*.75,angle:45}}e.link&&(n.hyperlink={url:e.link}),u.addText(t,n)}else if("image"===e.type){var d={path:e.src,x:e.left/100,y:e.top/100,w:e.width/100,h:e.height/100};e.flipH&&(d.flipH=e.flipH),e.flipV&&(d.flipV=e.flipV),e.rotate&&(d.rotate=e.rotate),e.clip&&"ellipse"===e.clip.shape&&(d.rounding=!0),e.link&&(d.hyperlink={url:e.link}),u.addImage(d)}else if("shape"===e.type){if(e.special){var f=document.querySelector(".thumbnail-list .base-element-".concat(e.id," svg")),p=jn(f),m={data:p,x:e.left/100,y:e.top/100,w:e.width/100,h:e.height/100};e.rotate&&(m.rotate=e.rotate),e.link&&(m.hyperlink={url:e.link}),u.addImage(m)}else{var b,v,O={x:e.width/e.viewBox,y:e.height/e.viewBox},j=c(mn(e.path),O),g=l(e.fill),y=void 0===e.opacity?1:e.opacity,x={x:e.left/100,y:e.top/100,w:e.width/100,h:e.height/100,fill:{color:g.color,transparency:100*(1-g.alpha*y)},points:j};if(e.flipH&&(x.flipH=e.flipH),e.flipV&&(x.flipV=e.flipV),null!==(b=e.outline)&&void 0!==b&&b.width)x.line={color:l((null===(v=e.outline)||void 0===v?void 0:v.color)||"#000000").color,width:.75*e.outline.width,dashType:"solid"===e.outline.style?"solid":"dash"};if(e.shadow){var C=l(e.shadow.color);x.shadow={type:"outer",color:C.color.replace("#",""),opacity:C.alpha,blur:.75*e.shadow.blur,offset:(e.shadow.h+e.shadow.v)/2*.75,angle:45}}e.link&&(x.hyperlink={url:e.link}),u.addShape("custGeom",x)}if(e.text){var k=a(e.text.content),w={x:e.left/100,y:e.top/100,w:e.width/100,h:e.height/100,fontSize:15,fontFace:"微软雅黑",color:"#000000",valign:e.text.align};e.rotate&&(w.rotate=e.rotate),e.text.defaultColor&&(w.color=l(e.text.defaultColor).color),e.text.defaultFontName&&(w.fontFace=e.text.defaultFontName),u.addText(k,w)}}else if("line"===e.type){var E=Ae(e),N=c(mn(E)),I=Te(e),V=I.minX,S=I.maxX,L=I.minY,B=I.maxY,T={x:e.left/100,y:e.top/100,w:(S-V)/100,h:(B-L)/100,line:{color:l(e.color).color,width:.75*e.width,dashType:"solid"===e.style?"solid":"dash",beginArrowType:e.points[0]?"arrow":"none",endArrowType:e.points[1]?"arrow":"none"},points:N};u.addShape("custGeom",T)}else if("chart"===e.type){for(var M=[],_=0;_<e.data.series.length;_++){var D=e.data.series[_];M.push({name:"系列".concat(_+1),labels:e.data.labels,values:D})}var z=[];if(10===e.themeColor.length)z=e.themeColor.map((function(e){return l(e).color}));else if(1===e.themeColor.length)z=U()(e.themeColor[0]).analogous(10).map((function(e){return l(e.toHexString()).color}));else{var A=e.themeColor.length,R=U()(e.themeColor[A-1]).analogous(11-A).map((function(e){return e.toHexString()}));z=[].concat(Object(X["a"])(e.themeColor.slice(0,A-1)),Object(X["a"])(R)).map((function(e){return l(e).color}))}var F={x:e.left/100,y:e.top/100,w:e.width/100,h:e.height/100,chartColors:"pie"===e.chartType?z:z.slice(0,e.data.series.length)};e.fill&&(F.fill=l(e.fill).color),e.legend&&(F.showLegend=!0,F.legendPos="top"===e.legend?"t":"b",F.legendColor=l(e.gridColor||"#000000").color,F.legendFontSize=10.5);var P,H=o.ChartType.bar;if("bar"===e.chartType)H=o.ChartType.bar,F.barDir=null!==(P=e.options)&&void 0!==P&&P.horizontalBars?"bar":"col";else if("line"===e.chartType){var q,W,G;null!==(q=e.options)&&void 0!==q&&q.showArea?H=o.ChartType.area:!1===(null===(W=e.options)||void 0===W?void 0:W.showLine)?(H=o.ChartType.scatter,M.unshift({name:"X-Axis",values:Array(e.data.series[0].length).fill(0).map((function(e,t){return t}))}),F.lineSize=0):H=o.ChartType.line,null!==(G=e.options)&&void 0!==G&&G.lineSmooth&&(F.lineSmooth=!0)}else if("pie"===e.chartType){var Y;null!==(Y=e.options)&&void 0!==Y&&Y.donut?(H=o.ChartType.doughnut,F.holeSize=75):H=o.ChartType.pie}u.addChart(H,M,F)}else if("table"===e.type){for(var Z=[],J=0;J<e.data.length;J++)for(var K=e.data[J],Q=0;Q<K.length;Q++){var $=K[Q];if($.colspan>1||$.rowspan>1)for(var ee=J;ee<J+$.rowspan;ee++)for(var te=ee===J?Q+1:Q;te<Q+$.colspan;te++)Z.push("".concat(ee,"_").concat(te))}var ne=[],oe=e.theme,le=null,ae=[];oe&&(le=l(oe.color),ae=ze(oe.color).map((function(e){return l(e)})));for(var ce=0;ce<e.data.length;ce++){for(var re=e.data[ce],ie=[],ue=0;ue<re.length;ue++){var se,de,fe,pe,me,be,ve,he,Oe,je=re[ue],ge={colspan:je.colspan,rowspan:je.rowspan,bold:(null===(se=je.style)||void 0===se?void 0:se.bold)||!1,italic:(null===(de=je.style)||void 0===de?void 0:de.em)||!1,underline:{style:null!==(fe=je.style)&&void 0!==fe&&fe.underline?"sng":"none"},align:(null===(pe=je.style)||void 0===pe?void 0:pe.align)||"left",valign:"middle",fontFace:(null===(me=je.style)||void 0===me?void 0:me.fontname)||"微软雅黑",fontSize:.75*(null!==(be=je.style)&&void 0!==be&&be.fontsize?parseInt(null===(ve=je.style)||void 0===ve?void 0:ve.fontsize):14)};if(oe&&le){var ye=void 0;ye=ce%2===0?ae[1]:ae[0],(oe.rowHeader&&0===ce||oe.rowFooter&&ce===e.data.length-1||oe.colHeader&&0===ue||oe.colFooter&&ue===re.length-1)&&(ye=le),ge.fill={color:ye.color,transparency:100*(1-ye.alpha)}}if(null!==(he=je.style)&&void 0!==he&&he.backcolor){var xe=l(je.style.backcolor);ge.fill={color:xe.color,transparency:100*(1-xe.alpha)}}null!==(Oe=je.style)&&void 0!==Oe&&Oe.color&&(ge.color=l(je.style.color).color),Z.includes("".concat(ce,"_").concat(ue))||ie.push({text:je.text,options:ge})}ie.length&&ne.push(ie)}var Ce={x:e.left/100,y:e.top/100,w:e.width/100,h:e.height/100,colW:e.colWidths.map((function(t){return e.width*t/100}))};e.outline.width&&e.outline.color&&(Ce.border={type:"solid"===e.outline.style?"solid":"dash",pt:.75*e.outline.width,color:l(e.outline.color).color}),u.addTable(ne,Ce)}else if("latex"===e.type){var ke=document.querySelector(".thumbnail-list .base-element-".concat(e.id," svg")),we=jn(ke),Ee={data:we,x:e.left/100,y:e.top/100,w:e.width/100,h:e.height/100};e.link&&(Ee.hyperlink={url:e.link}),u.addImage(Ee)}};for(O.s();!(h=O.n()).done;)j()}catch(g){O.e(g)}finally{O.f()}}}}catch(g){r.e(g)}finally{r.f()}o.writeFile({fileName:"ppt.pptx"}).then((function(){return n.value=!1})).catch((function(){n.value=!1,he["a"].error("导出失败")}))};return{exporting:n,exportJSON:o,exportPPTX:r}},yn={class:"title-dialog"},xn={class:"btns"},Cn=Object(j["createTextVNode"])("取消"),kn=Object(j["createTextVNode"])("确认");function wn(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("Input"),r=Object(j["resolveComponent"])("Button");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",yn,[Object(j["createVNode"])(c,{value:e.title,"onUpdate:value":t[0]||(t[0]=function(t){return e.title=t}),placeholder:"请输入保存名字"},null,8,["value"]),Object(j["createElementVNode"])("div",xn,[Object(j["createVNode"])(r,{onClick:t[1]||(t[1]=function(t){return e.close()}),style:{"margin-right":"10px"}},{default:Object(j["withCtx"])((function(){return[Cn]})),_:1}),Object(j["createVNode"])(r,{type:"primary",onClick:t[2]||(t[2]=function(t){return e.save()})},{default:Object(j["withCtx"])((function(){return[kn]})),_:1})])])}n("841c");var En=n("bc3a"),Nn=n.n(En),In="/server/",Vn=function(){var e=Object(g["c"])(Q()),t=e.slides,n=localStorage.getItem("rttoken")||"",o=function(e){localStorage.setItem("__ppt__title",e)},l=function(){return localStorage.getItem("__ppt__title")||""},a=function(){localStorage.setItem("__ppt__title","")},c=function(e){for(var t=window.location.search.substring(1),n=t.split("&"),o=0;o<n.length;o++){var l=n[o].split("=");if(l[0]==e)return l[1]}return!1},r=function(){var e=Object(ee["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Nn.a.get(In+"ppt/editBefore?id="+t,{headers:{rttoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(ee["a"])(regeneratorRuntime.mark((function e(o){var l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(l=c("id"),Nn.a.defaults.withCredentials=!0,!l){e.next=7;break}return e.next=5,Nn.a.post(In+"ppt/edit",{id:l,content:JSON.stringify(t.value),title:o},{headers:{rttoken:n},withCredentials:!0});case 5:e.next=9;break;case 7:return e.next=9,Nn.a.post(In+"ppt/add",{content:JSON.stringify(t.value),title:o},{headers:{rttoken:n},withCredentials:!0});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{saveJSON:i,getQuery:c,getJSON:r,setTitle:o,getTitle:l,clearTitle:a}},Sn=Object(j["defineComponent"])({name:"title-dialog",emits:["close"],setup:function(e,t){var n=t.emit,o=Vn(),l=o.saveJSON,a=o.getTitle,c=Object(j["ref"])("");c.value=a()||"演示文稿";var r=function(){return n("close")},i=function(){c.value&&(l(c.value),r())};return{title:c,close:r,save:i}}}),Ln=(n("9768"),n("6b0d")),Bn=n.n(Ln);const Tn=Bn()(Sn,[["render",wn],["__scopeId","data-v-e49a9ea2"]]);var Mn=Tn,_n={class:"hotkey-doc"},Dn={class:"title"},zn={class:"label"},An={class:"value"};function Rn(e,t,n,o,l,a){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",_n,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.hotkeys,(function(e){return Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:e.type},[Object(j["createElementVNode"])("div",Dn,Object(j["toDisplayString"])(e.type),1),(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.children,(function(e){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"hotkey-item",key:e.label},[Object(j["createElementVNode"])("div",zn,Object(j["toDisplayString"])(e.label),1),Object(j["createElementVNode"])("div",An,Object(j["toDisplayString"])(e.value),1)])})),128))],64)})),128))])}var Fn=ve,Pn=Object(j["defineComponent"])({name:"hotkey-doc",setup:function(){return{hotkeys:Fn}}});n("ef0f");const Hn=Bn()(Pn,[["render",Rn],["__scopeId","data-v-47d0351b"]]);var qn=Hn,Wn=Object(j["defineComponent"])({name:"editor-header",components:{HotkeyDoc:qn,TitleDialog:Mn},setup:function(){var e=$(),t=Object(g["c"])(e),n=t.showGridLines,o=lt(),l=o.enterScreening,a=o.enterScreeningFromStart,c=Ue(),r=c.createSlide,i=c.deleteSlide,u=c.resetSlides,s=Pe(),d=s.redo,f=s.undo,p=gn(),m=p.exporting,b=p.exportJSON,v=p.exportPPTX,h=Object(j["ref"])(!1),O=function(){e.setGridLinesState(!n.value)},y=Object(j["ref"])(!1),x=function(){window.open("#")},C=function(){h.value=!0};return{redo:d,undo:f,showGridLines:n,hotkeyDrawerVisible:y,exporting:m,enterScreening:l,enterScreeningFromStart:a,createSlide:r,deleteSlide:i,toggleGridLines:O,resetSlides:u,exportJSON:b,exportPPTX:v,titleDialogVisible:h,saveData:C,goIssues:x}}});n("6689");const Xn=Bn()(Wn,[["render",Dt],["__scopeId","data-v-72230148"]]);var Gn=Xn,Un={class:"operates"};function Yn(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("ElementCreateSelection"),r=Object(j["resolveComponent"])("AlignmentLine"),i=Object(j["resolveComponent"])("MultiSelectOperate"),u=Object(j["resolveComponent"])("Operate"),s=Object(j["resolveComponent"])("ViewportBackground"),d=Object(j["resolveComponent"])("MouseSelection"),f=Object(j["resolveComponent"])("EditableElement"),p=Object(j["resolveComponent"])("LinkDialog"),m=Object(j["resolveComponent"])("Modal"),b=Object(j["resolveDirective"])("contextmenu"),v=Object(j["resolveDirective"])("click-outside");return Object(j["withDirectives"])((Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"canvas",ref:"canvasRef",onMousewheel:t[3]||(t[3]=function(t){return e.handleMousewheelCanvas(t)}),onMousedown:t[4]||(t[4]=function(t){return e.handleClickBlankArea(t)})},[e.creatingElement?(Object(j["openBlock"])(),Object(j["createBlock"])(c,{key:0,onCreated:t[0]||(t[0]=function(t){return e.insertElementFromCreateSelection(t)})})):Object(j["createCommentVNode"])("",!0),Object(j["createElementVNode"])("div",{class:"viewport-wrapper",style:Object(j["normalizeStyle"])({width:e.viewportStyles.width*e.canvasScale+"px",height:e.viewportStyles.height*e.canvasScale+"px",left:e.viewportStyles.left+"px",top:e.viewportStyles.top+"px"})},[Object(j["createElementVNode"])("div",Un,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.alignmentLines,(function(e,t){return Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:t,type:e.type,axis:e.axis,length:e.length},null,8,["type","axis","length"])})),128)),e.activeElementIdList.length>1?(Object(j["openBlock"])(),Object(j["createBlock"])(i,{key:0,elementList:e.elementList,scaleMultiElement:e.scaleMultiElement},null,8,["elementList","scaleMultiElement"])):Object(j["createCommentVNode"])("",!0),(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.elementList,(function(t){return Object(j["openBlock"])(),Object(j["createBlock"])(u,{key:t.id,elementInfo:t,isSelected:e.activeElementIdList.includes(t.id),isActive:e.handleElementId===t.id,isActiveGroupElement:e.activeGroupElementId===t.id,isMultiSelect:e.activeElementIdList.length>1,rotateElement:e.rotateElement,scaleElement:e.scaleElement,openLinkDialog:e.openLinkDialog,dragLineElement:e.dragLineElement},null,8,["elementInfo","isSelected","isActive","isActiveGroupElement","isMultiSelect","rotateElement","scaleElement","openLinkDialog","dragLineElement"])})),128)),Object(j["createVNode"])(s)]),Object(j["createElementVNode"])("div",{class:"viewport",ref:"viewportRef",style:Object(j["normalizeStyle"])({transform:"scale(".concat(e.canvasScale,")")})},[e.mouseSelectionState.isShow?(Object(j["openBlock"])(),Object(j["createBlock"])(d,{key:0,top:e.mouseSelectionState.top,left:e.mouseSelectionState.left,width:e.mouseSelectionState.width,height:e.mouseSelectionState.height,quadrant:e.mouseSelectionState.quadrant},null,8,["top","left","width","height","quadrant"])):Object(j["createCommentVNode"])("",!0),(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.elementList,(function(t,n){return Object(j["openBlock"])(),Object(j["createBlock"])(f,{key:t.id,elementInfo:t,elementIndex:n+1,isMultiSelect:e.activeElementIdList.length>1,selectElement:e.selectElement,openLinkDialog:e.openLinkDialog},null,8,["elementInfo","elementIndex","isMultiSelect","selectElement","openLinkDialog"])})),128))],4)],4),Object(j["createVNode"])(m,{visible:e.linkDialogVisible,"onUpdate:visible":t[2]||(t[2]=function(t){return e.linkDialogVisible=t}),footer:null,centered:"",width:540,destroyOnClose:""},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(p,{onClose:t[1]||(t[1]=function(t){return e.linkDialogVisible=!1})})]})),_:1},8,["visible"])],544)),[[b,e.contextmenus],[v,e.removeEditorAreaFocus]])}var Zn=function(){var e=window.getSelection();e&&e.removeAllRanges()},Jn=function(e){var t=Object(j["ref"])(0),n=Object(j["ref"])(0),o=$(),l=Object(g["c"])(o),a=l.canvasPercentage,c=Object(g["c"])(Q()),r=c.viewportRatio,i=function(){if(e.value){var l=e.value.clientWidth,c=e.value.clientHeight;if(c/l>r.value){var i=l*(a.value/100);o.setCanvasScale(i/We),t.value=(l-i)/2,n.value=(c-i*r.value)/2}else{var u=c*(a.value/100);o.setCanvasScale(u/(We*r.value)),t.value=(l-u/r.value)/2,n.value=(c-u)/2}}};Object(j["watch"])([a,r],i);var u=Object(j["computed"])((function(){return{width:We,height:We*r.value,left:t.value,top:n.value}})),s=new ResizeObserver(i);return Object(j["onMounted"])((function(){e.value&&s.observe(e.value)})),Object(j["onUnmounted"])((function(){e.value&&s.unobserve(e.value)})),{viewportStyles:u}},Kn=function(e,t){var n=$(),o=Object(g["c"])(n),l=o.canvasScale,a=Object(j["reactive"])({isShow:!1,top:0,left:0,width:0,height:0,quadrant:1}),c=function(o){if(t.value){var c=!0,r=t.value.getBoundingClientRect(),i=5,u=o.pageX,s=o.pageY,d=(u-r.x)/l.value,f=(s-r.y)/l.value;a.isShow=!1,a.quadrant=4,a.top=f,a.left=d,a.width=0,a.height=0,document.onmousemove=function(e){if(c){var t=e.pageX,n=e.pageY,o=(t-u)/l.value,r=(n-s)/l.value,d=Math.abs(o),f=Math.abs(r);if(!(d<i||f<i)){var p=0;o>0&&r>0?p=4:o<0&&r<0?p=1:o>0&&r<0?p=2:o<0&&r>0&&(p=3),a.isShow=!0,a.quadrant=p,a.width=d,a.height=f}}},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,c=!1;for(var t=[],o=0;o<e.value.length;o++){var l=e.value[o],r=a.left,i=a.top,u=a.width,s=a.height,d=a.quadrant,f=Te(l),p=f.minX,m=f.maxX,b=f.minY,v=f.maxY,h=!1;4===d?h=p>r&&m<r+u&&b>i&&v<i+s:1===d?h=p>r-u&&m<r-u+u&&b>i-s&&v<i-s+s:2===d?h=p>r&&m<r+u&&b>i-s&&v<i-s+s:3===d&&(h=p>r-u&&m<r-u+u&&b>i&&v<i+s),h&&!l.lock&&t.push(l)}t=t.filter((function(n){if(n.groupId){var o=t.map((function(e){return e.id})),l=e.value.filter((function(e){return e.groupId===n.groupId}));return l.every((function(e){return o.includes(e.id)}))}return!0}));var O=t.map((function(e){return e.id}));n.setActiveElementIdList(O),a.isShow=!1}}};return{mouseSelectionState:a,updateMouseSelection:c}},Qn=function(e){var t=Object(g["c"])($()),n=t.disableHotkeys,o=Xe(),l=o.createImageElement,a=o.createTextElement,c=function(e){if(e.dataTransfer&&0!==e.dataTransfer.items.length){var t=e.dataTransfer.items[0];if("file"===t.kind&&-1!==t.type.indexOf("image")){var o=t.getAsFile();o&&qe(o).then((function(e){return l(e)}))}else"string"===t.kind&&"text/plain"===t.type&&t.getAsString((function(e){if(!n.value){var t=Fe(e);a({left:0,top:0,width:600,height:50},t)}}))}};Object(j["onMounted"])((function(){e.value&&e.value.addEventListener("drop",c),document.ondragleave=function(e){return e.preventDefault()},document.ondrop=function(e){return e.preventDefault()},document.ondragenter=function(e){return e.preventDefault()},document.ondragover=function(e){return e.preventDefault()}})),Object(j["onUnmounted"])((function(){e.value&&e.value.removeEventListener("drop",c),document.ondragleave=null,document.ondrop=null,document.ondragenter=null,document.ondragover=null}))},$n=function(e,t){var n=Math.atan2(e,t),o=180/Math.PI*n;return o},eo=function(e,t){var n=Q(),o=Object(g["c"])($()),l=o.canvasScale,a=Pe(),c=a.addHistorySnapshot,r=function(o){var a=!0,r=0,i=o.rotate||0,u=o.left,s=o.top,d=o.width,f=o.height,p=u+d/2,m=s+f/2;if(t.value){var b=t.value.getBoundingClientRect();document.onmousemove=function(t){if(a){var n=(t.pageX-b.left)/l.value,c=(t.pageY-b.top)/l.value,i=n-p,u=m-c;r=$n(i,u);var s=5;Math.abs(r)<=s?r=0:r>0&&Math.abs(r-45)<=s?r-=r-45:r<0&&Math.abs(r+45)<=s?r-=r+45:r>0&&Math.abs(r-90)<=s?r-=r-90:r<0&&Math.abs(r+90)<=s?r-=r+90:r>0&&Math.abs(r-135)<=s?r-=r-135:r<0&&Math.abs(r+135)<=s?r-=r+135:r>0&&Math.abs(r-180)<=s?r-=r-180:r<0&&Math.abs(r+180)<=s&&(r-=r+180),e.value=e.value.map((function(e){return o.id===e.id?Object(S["a"])(Object(S["a"])({},e),{},{rotate:r}):e}))}},document.onmouseup=function(){a=!1,document.onmousemove=null,document.onmouseup=null,i!==r&&(n.updateSlide({elements:e.value}),c())}}};return{rotateElement:r}},to={text:"文本",image:"图片",shape:"形状",line:"线条",chart:"图表",table:"表格",video:"视频"},no={text:20,image:20,shape:15,chart:200,table:20,video:250},oo=function(e,t){var n=e.left,o=e.top,l=e.width,a=e.height,c=Math.sqrt(Math.pow(l,2)+Math.pow(a,2))/2,r=180*Math.atan(a/l)/Math.PI,i=(180-t-r)*Math.PI/180,u=(r-t)*Math.PI/180,s=(90-t)*Math.PI/180,d=t*Math.PI/180,f=l/2,p=a/2,m=n+f,b=o+p,v={left:m+c*Math.cos(i),top:b-c*Math.sin(i)},h={left:m+p*Math.cos(s),top:b-p*Math.sin(s)},O={left:m+c*Math.cos(u),top:b-c*Math.sin(u)},j={left:m+f*Math.cos(d),top:b+f*Math.sin(d)},g={left:m-c*Math.cos(i),top:b+c*Math.sin(i)},y={left:m-p*Math.sin(d),top:b+p*Math.cos(d)},x={left:m-c*Math.cos(u),top:b+c*Math.sin(u)},C={left:m-f*Math.cos(d),top:b-f*Math.sin(d)};return{leftTopPoint:v,topPoint:h,rightTopPoint:O,rightPoint:j,rightBottomPoint:g,bottomPoint:y,leftBottomPoint:x,leftPoint:C}},lo=function(e,t){var n,o=(n={},Object(ae["a"])(n,w.RIGHT_BOTTOM,t.leftTopPoint),Object(ae["a"])(n,w.LEFT_BOTTOM,t.rightTopPoint),Object(ae["a"])(n,w.LEFT_TOP,t.rightBottomPoint),Object(ae["a"])(n,w.RIGHT_TOP,t.leftBottomPoint),Object(ae["a"])(n,w.TOP,t.bottomPoint),Object(ae["a"])(n,w.BOTTOM,t.topPoint),Object(ae["a"])(n,w.LEFT,t.rightPoint),Object(ae["a"])(n,w.RIGHT,t.leftPoint),n);return o[e]},ao=function(e,t){var n=$(),o=Q(),l=Object(g["c"])(n),a=l.activeElementIdList,c=l.activeGroupElementId,r=l.canvasScale,i=Object(g["c"])(o),u=i.viewportRatio,s=Object(g["c"])(se()),d=s.ctrlOrShiftKeyActive,f=Pe(),p=f.addHistorySnapshot,m=function(l,i,s){var f=!0;n.setScalingState(!0);var m,b=i.left,v=i.top,h=i.width,O=i.height,j="rotate"in i&&i.rotate?i.rotate:0,g=Math.PI*j/180,y=d.value||"fixedRatio"in i&&i.fixedRatio,x=h/O,C=l.pageX,k=l.pageY,E=no[i.type]||20,N=function(e){return e<E?E:e},I=0,V=0,B=[],T=[];if("rotate"in i&&i.rotate){var M=i.left,_=i.top,D=i.width,z=i.height;m=oo({left:M,top:_,width:D,height:z},j);var A=lo(s,m);I=A.left,V=A.top}else{var R,F=We,P=We*u.value,H=i.id===c.value,q=Object(L["a"])(e.value);try{for(q.s();!(R=q.n()).done;){var W=R.value;if((!("rotate"in W)||!W.rotate)&&("line"!==W.type&&(!H||W.id!==i.id)&&(H||!a.value.includes(W.id)))){var G=W.left,U=W.top,Y=W.width,Z=W.height,J=G+Y,K=U+Z,Q={value:U,range:[G,J]},$={value:K,range:[G,J]},ee={value:G,range:[U,K]},te={value:J,range:[U,K]};B.push(Q,$),T.push(ee,te)}}}catch(ue){q.e(ue)}finally{q.f()}var ne={value:0,range:[0,F]},oe={value:P,range:[0,F]},le={value:P/2,range:[0,F]},ae={value:0,range:[0,P]},ce={value:F,range:[0,P]},re={value:F/2,range:[0,P]};B.push(ne,oe,le),T.push(ae,ce,re),B=_e(B),T=_e(T)}var ie=function(e,n){var o=5,l=[],a=!1,c=!1,r={offsetX:0,offsetY:0};if(n||0===n)for(var i=0;i<B.length;i++){var u=B[i],s=u.value,d=u.range,f=Math.min.apply(Math,Object(X["a"])(d).concat([e||0])),p=Math.max.apply(Math,Object(X["a"])(d).concat([e||0]));Math.abs(n-s)<o&&!c&&(r.offsetY=n-s,c=!0,l.push({type:"horizontal",axis:{x:f-50,y:s},length:p-f+100}))}if(e||0===e)for(var m=0;m<T.length;m++){var b=T[m],v=b.value,h=b.range,O=Math.min.apply(Math,Object(X["a"])(h).concat([n||0])),j=Math.max.apply(Math,Object(X["a"])(h).concat([n||0]));Math.abs(e-v)<o&&!a&&(r.offsetX=e-v,a=!0,l.push({type:"vertical",axis:{x:v,y:O-50},length:j-O+100}))}return t.value=l,r};document.onmousemove=function(t){if(f){var n=t.pageX,o=t.pageY,l=n-C,a=o-k,c=h,u=O,d=b,p=v;if(j){var m=(Math.cos(g)*l+Math.sin(g)*a)/r.value,E=(Math.cos(g)*a-Math.sin(g)*l)/r.value;y&&(s!==w.RIGHT_BOTTOM&&s!==w.LEFT_TOP||(E=m/x),s!==w.LEFT_BOTTOM&&s!==w.RIGHT_TOP||(E=-m/x)),s===w.RIGHT_BOTTOM?(c=N(h+m),u=N(O+E)):s===w.LEFT_BOTTOM?(c=N(h-m),u=N(O+E),d=b-(c-h)):s===w.LEFT_TOP?(c=N(h-m),u=N(O-E),d=b-(c-h),p=v-(u-O)):s===w.RIGHT_TOP?(c=N(h+m),u=N(O-E),p=v-(u-O)):s===w.TOP?(u=N(O-E),p=v-(u-O)):s===w.BOTTOM?u=N(O+E):s===w.LEFT?(c=N(h-m),d=b-(c-h)):s===w.RIGHT&&(c=N(h+m));var L=oo({width:c,height:u,left:d,top:p},j),B=lo(s,L),T=B.left,M=B.top,_=T-I,D=M-V;d-=_,p-=D}else{var z=l/r.value,A=a/r.value;if(y&&(s!==w.RIGHT_BOTTOM&&s!==w.LEFT_TOP||(A=z/x),s!==w.LEFT_BOTTOM&&s!==w.RIGHT_TOP||(A=-z/x)),s===w.RIGHT_BOTTOM){var R=ie(b+h+z,v+O+A),F=R.offsetX,P=R.offsetY;z-=F,A-=P,y&&(P?z=A*x:A=z/x),c=N(h+z),u=N(O+A)}else if(s===w.LEFT_BOTTOM){var H=ie(b+z,v+O+A),q=H.offsetX,W=H.offsetY;z-=q,A-=W,y&&(W?z=-A*x:A=-z/x),c=N(h-z),u=N(O+A),d=b-(c-h)}else if(s===w.LEFT_TOP){var X=ie(b+z,v+A),G=X.offsetX,U=X.offsetY;z-=G,A-=U,y&&(U?z=A*x:A=z/x),c=N(h-z),u=N(O-A),d=b-(c-h),p=v-(u-O)}else if(s===w.RIGHT_TOP){var Y=ie(b+h+z,v+A),Z=Y.offsetX,J=Y.offsetY;z-=Z,A-=J,y&&(J?z=-A*x:A=-z/x),c=N(h+z),u=N(O-A),p=v-(u-O)}else if(s===w.LEFT){var K=ie(b+z,null),Q=K.offsetX;z-=Q,c=N(h-z),d=b-(c-h)}else if(s===w.RIGHT){var $=ie(b+h+z,null),ee=$.offsetX;z-=ee,c=N(h+z)}else if(s===w.TOP){var te=ie(null,v+A),ne=te.offsetY;A-=ne,u=N(O-A),p=v-(u-O)}else if(s===w.BOTTOM){var oe=ie(null,v+O+A),le=oe.offsetY;A-=le,u=N(O+A)}}e.value=e.value.map((function(e){return i.id===e.id?Object(S["a"])(Object(S["a"])({},e),{},{left:d,top:p,width:c,height:u}):e}))}},document.onmouseup=function(l){f=!1,document.onmousemove=null,document.onmouseup=null,t.value=[],C===l.pageX&&k===l.pageY||(o.updateSlide({elements:e.value}),n.setScalingState(!1),p())}},b=function(t,n,l){var c=!0,i=n.minX,u=n.maxX,s=n.minY,f=n.maxY,m=u-i,b=f-s,v=m/b,h=t.pageX,O=t.pageY,j=JSON.parse(JSON.stringify(e.value));document.onmousemove=function(t){if(c){var n=t.pageX,o=t.pageY,p=(n-h)/r.value,g=(o-O)/r.value;d.value&&(l!==w.RIGHT_BOTTOM&&l!==w.LEFT_TOP||(g=p/v),l!==w.LEFT_BOTTOM&&l!==w.RIGHT_TOP||(g=-p/v));var y=i,x=u,C=s,k=f;l===w.RIGHT_BOTTOM?(x=u+p,k=f+g):l===w.LEFT_BOTTOM?(y=i+p,k=f+g):l===w.LEFT_TOP?(y=i+p,C=s+g):l===w.RIGHT_TOP?(x=u+p,C=s+g):l===w.TOP?C=s+g:l===w.BOTTOM?k=f+g:l===w.LEFT?y=i+p:l===w.RIGHT&&(x=u+p);var E=x-y,N=k-C,I=E/m,V=N/b;I<=0&&(I=0),V<=0&&(V=0),e.value=e.value.map((function(e){if(("image"===e.type||"shape"===e.type)&&a.value.includes(e.id)){var t=j.find((function(t){return t.id===e.id}));return Object(S["a"])(Object(S["a"])({},e),{},{width:t.width*I,height:t.height*V,left:y+(t.left-i)*I,top:C+(t.top-s)*V})}return e}))}},document.onmouseup=function(t){c=!1,document.onmousemove=null,document.onmouseup=null,h===t.pageX&&O===t.pageY||(o.updateSlide({elements:e.value}),p())}};return{scaleElement:m,scaleMultiElement:b}},co=function(e,t){var n=$(),o=Object(g["c"])(n),l=o.activeElementIdList,a=o.activeGroupElementId,c=o.handleElementId,r=o.editorAreaFocus,i=Object(g["c"])(se()),u=i.ctrlOrShiftKeyActive,s=function(o,i){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(r.value||n.setEditorareaFocus(!0),l.value.includes(i.id)){if(u.value){var d=[];if(i.groupId){var f=[];e.value.forEach((function(e){e.groupId===i.groupId&&f.push(e.id)})),d=l.value.filter((function(e){return!f.includes(e)}))}else d=l.value.filter((function(e){return e!==i.id}));d.length>0&&n.setActiveElementIdList(d)}else if(c.value!==i.id)n.setHandleElementId(i.id);else if(a.value!==i.id){var p=o.pageX,m=o.pageY;o.target.onmouseup=function(e){var t=e.pageX,o=e.pageY;p===t&&m===o&&(n.setActiveGroupElementId(i.id),e.target.onmouseup=null)}}}else{var b=[];if(b=u.value?[].concat(Object(X["a"])(l.value),[i.id]):[i.id],i.groupId){var v=[];e.value.forEach((function(e){e.groupId===i.groupId&&v.push(e.id)})),b=[].concat(Object(X["a"])(b),v)}n.setActiveElementIdList(Object(Y["uniq"])(b)),n.setHandleElementId(i.id)}s&&t(o,i)},d=function(){var t=e.value.filter((function(e){return!e.lock})),o=t.map((function(e){return e.id}));n.setActiveElementIdList(o)};return{selectElement:s,selectAllElement:d}},ro=function(e,t){var n=Q(),o=Object(g["c"])($()),l=o.activeElementIdList,a=o.activeGroupElementId,c=o.canvasScale,r=Object(g["c"])(n),i=r.viewportRatio,u=Pe(),s=u.addHistorySnapshot,d=function(o,r){if(l.value.includes(r.id)){var u,d=!0,f=We,p=We*i.value,m=5,b=JSON.parse(JSON.stringify(e.value)),v=b.filter((function(e){return l.value.includes(e.id)})),h=r.left,O=r.top,j=r.width,g="height"in r&&r.height?r.height:0,y="rotate"in r&&r.rotate?r.rotate:0,x=o.pageX,C=o.pageY,k=null,w=r.id===a.value,E=[],N=[],I=Object(L["a"])(e.value);try{for(I.s();!(u=I.n()).done;){var V=u.value;if("line"!==V.type&&((!w||V.id!==r.id)&&(w||!l.value.includes(V.id)))){var B=void 0,T=void 0,M=void 0,_=void 0;if("rotate"in V&&V.rotate){var D=Le({left:V.left,top:V.top,width:V.width,height:V.height,rotate:V.rotate}),z=D.xRange,A=D.yRange;B=z[0],T=A[0],M=z[1]-z[0],_=A[1]-A[0]}else B=V.left,T=V.top,M=V.width,_=V.height;var R=B+M,F=T+_,P=T+_/2,H=B+M/2,q={value:T,range:[B,R]},W={value:F,range:[B,R]},G={value:P,range:[B,R]},U={value:B,range:[T,F]},Y={value:R,range:[T,F]},Z={value:H,range:[T,F]};E.push(q,W,G),N.push(U,Y,Z)}}}catch(ne){I.e(ne)}finally{I.f()}var J={value:0,range:[0,f]},K={value:p,range:[0,f]},Q={value:p/2,range:[0,f]},$={value:0,range:[0,p]},ee={value:f,range:[0,p]},te={value:f/2,range:[0,p]};E.push(J,K,Q),N.push($,ee,te),E=_e(E),N=_e(N),document.onmousemove=function(n){var o=n.pageX,a=n.pageY;if(!1!==k&&(k=Math.abs(x-o)<m&&Math.abs(C-a)<m),d&&!k){var i,u,s,f,p=(o-x)/c.value,b=(a-C)/c.value,I=h+p,V=O+b;if(1===l.value.length||w)if(y){var L=Le({left:I,top:V,width:j,height:g,rotate:y}),B=L.xRange,T=L.yRange;i=B[0],u=B[1],s=T[0],f=T[1]}else"line"===r.type?(i=I,u=I+Math.max(r.start[0],r.end[0]),s=V,f=V+Math.max(r.start[1],r.end[1])):(i=I,u=I+j,s=V,f=V+g);else{for(var M=[],_=[],D=[],z=[],A=0;A<v.length;A++){var R=v[A],F=R.left+p,P=R.top+b,H=R.width,q="height"in R&&R.height?R.height:0,W="rotate"in R&&R.rotate?R.rotate:0;if("rotate"in R&&R.rotate){var G=Le({left:F,top:P,width:H,height:q,rotate:W}),U=G.xRange,Y=G.yRange;M.push(U[0]),_.push(Y[0]),D.push(U[1]),z.push(Y[1])}else"line"===R.type?(M.push(F),_.push(P),D.push(F+Math.max(R.start[0],R.end[0])),z.push(P+Math.max(R.start[1],R.end[1]))):(M.push(F),_.push(P),D.push(F+H),z.push(P+q))}i=Math.min.apply(Math,M),u=Math.max.apply(Math,D),s=Math.min.apply(Math,_),f=Math.max.apply(Math,z)}for(var Z=i+(u-i)/2,J=s+(f-s)/2,K=[],Q=!1,$=!1,ee=0;ee<E.length;ee++){var te=E[ee],ne=te.value,oe=te.range,le=Math.min.apply(Math,Object(X["a"])(oe).concat([i,u])),ae=Math.max.apply(Math,Object(X["a"])(oe).concat([i,u]));Math.abs(s-ne)<m&&!$&&(V-=s-ne,$=!0,K.push({type:"horizontal",axis:{x:le-50,y:ne},length:ae-le+100})),Math.abs(f-ne)<m&&!$&&(V-=f-ne,$=!0,K.push({type:"horizontal",axis:{x:le-50,y:ne},length:ae-le+100})),Math.abs(J-ne)<m&&!$&&(V-=J-ne,$=!0,K.push({type:"horizontal",axis:{x:le-50,y:ne},length:ae-le+100}))}for(var ce=0;ce<N.length;ce++){var re=N[ce],ie=re.value,ue=re.range,se=Math.min.apply(Math,Object(X["a"])(ue).concat([s,f])),de=Math.max.apply(Math,Object(X["a"])(ue).concat([s,f]));Math.abs(i-ie)<m&&!Q&&(I-=i-ie,Q=!0,K.push({type:"vertical",axis:{x:ie,y:se-50},length:de-se+100})),Math.abs(u-ie)<m&&!Q&&(I-=u-ie,Q=!0,K.push({type:"vertical",axis:{x:ie,y:se-50},length:de-se+100})),Math.abs(Z-ie)<m&&!Q&&(I-=Z-ie,Q=!0,K.push({type:"vertical",axis:{x:ie,y:se-50},length:de-se+100}))}if(t.value=K,1===l.value.length||w)e.value=e.value.map((function(e){return e.id===r.id?Object(S["a"])(Object(S["a"])({},e),{},{left:I,top:V}):e}));else{var fe=e.value.find((function(e){return e.id===r.id}));if(!fe)return;e.value=e.value.map((function(e){return l.value.includes(e.id)?e.id===r.id?Object(S["a"])(Object(S["a"])({},e),{},{left:I,top:V}):Object(S["a"])(Object(S["a"])({},e),{},{left:e.left+(I-fe.left),top:e.top+(V-fe.top)}):e}))}}},document.onmouseup=function(o){d=!1,document.onmousemove=null,document.onmouseup=null,t.value=[];var l=o.pageX,a=o.pageY;x===l&&C===a||(n.updateSlide({elements:e.value}),s())}}};return{dragElement:d}},io=function(e){var t=Q(),n=Object(g["c"])($()),o=n.canvasScale,l=Pe(),a=l.addHistorySnapshot,c=function(n,l,c){for(var r=!0,i=8,u=n.pageX,s=n.pageY,d=[],f=0;f<e.value.length;f++){var p=e.value[f];if("line"!==p.type&&!p.rotate){var m=p.left,b=p.top,v=p.width,h=p.height,O=m+v,j=b+h,g=b+h/2,y=m+v/2,x={x:y,y:b},C={x:y,y:j},k={x:m,y:g},w={x:O,y:g},N={x:m,y:b},I={x:O,y:b},V={x:m,y:j},B={x:O,y:j};d.push(x,C,k,w,N,I,V,B)}}document.onmousemove=function(t){if(r){var n=t.pageX,a=t.pageY,f=(n-u)/o.value,p=(a-s)/o.value,m=l.left+l.start[0],b=l.top+l.start[1],v=l.left+l.end[0],h=l.top+l.end[1],O=l.broken||l.curve||[0,0],j=l.left+O[0],g=l.top+O[1];if(c===E.START){m+=f,b+=p,Math.abs(m-v)<i&&(m=v),Math.abs(b-h)<i&&(b=h);var y,x=Object(L["a"])(d);try{for(x.s();!(y=x.n()).done;){var C=y.value,k=C.x,w=C.y;if(Math.abs(k-m)<i&&Math.abs(w-b)<i){m=k,b=w;break}}}catch(F){x.e(F)}finally{x.f()}}else if(c===E.END){v+=f,h+=p,Math.abs(m-v)<i&&(v=m),Math.abs(b-h)<i&&(h=b);var N,I=Object(L["a"])(d);try{for(I.s();!(N=I.n()).done;){var V=N.value,B=V.x,T=V.y;if(Math.abs(B-v)<i&&Math.abs(T-h)<i){v=B,h=T;break}}}catch(F){I.e(F)}finally{I.f()}}else j+=f,g+=p,Math.abs(j-m)<i&&(j=m),Math.abs(g-b)<i&&(g=b),Math.abs(j-v)<i&&(j=v),Math.abs(g-h)<i&&(g=h),Math.abs(j-(m+v)/2)<i&&Math.abs(g-(b+h)/2)<i&&(j=(m+v)/2,g=(b+h)/2);var M=Math.min(m,v),_=Math.min(b,h),D=Math.max(m,v),z=Math.max(b,h),A=[0,0],R=[D-M,z-_];m>v&&(A[0]=D-M,R[0]=0),b>h&&(A[1]=z-_,R[1]=0),e.value=e.value.map((function(e){if(e.id===l.id){var t=Object(S["a"])(Object(S["a"])({},e),{},{left:M,top:_,start:A,end:R});return c!==E.MID?(l.broken&&(t.broken=[(A[0]+R[0])/2,(A[1]+R[1])/2]),l.curve&&(t.curve=[(A[0]+R[0])/2,(A[1]+R[1])/2])):(l.broken&&(t.broken=[j-M,g-_]),l.curve&&(t.curve=[j-M,g-_])),t}return e}))}},document.onmouseup=function(n){r=!1,document.onmousemove=null,document.onmouseup=null;var o=n.pageX,l=n.pageY;u===o&&s===l||(t.updateSlide({elements:e.value}),a())}};return{dragLineElement:c}},uo=function(e){var t=$(),n=Object(g["c"])(t),o=n.canvasScale,l=n.creatingElement,a=function(t){var n=t.start,l=t.end;if(e.value){var a=e.value.getBoundingClientRect(),c=Object(zt["a"])(n,2),r=c[0],i=c[1],u=Object(zt["a"])(l,2),s=u[0],d=u[1],f=Math.min(r,s),p=Math.max(r,s),m=Math.min(i,d),b=Math.max(i,d),v=(f-a.x)/o.value,h=(m-a.y)/o.value,O=(p-f)/o.value,j=(b-m)/o.value;return{left:v,top:h,width:O,height:j}}},c=function(t){var n=t.start,l=t.end;if(e.value){var a=e.value.getBoundingClientRect(),c=Object(zt["a"])(n,2),r=c[0],i=c[1],u=Object(zt["a"])(l,2),s=u[0],d=u[1],f=Math.min(r,s),p=Math.max(r,s),m=Math.min(i,d),b=Math.max(i,d),v=(f-a.x)/o.value,h=(m-a.y)/o.value,O=(p-f)/o.value,j=(b-m)/o.value,g=[r===f?0:O,i===m?0:j],y=[s===f?0:O,d===m?0:j];return{left:v,top:h,start:g,end:y}}},r=Xe(),i=r.createTextElement,u=r.createShapeElement,s=r.createLineElement,d=function(e){if(l.value){var n=l.value.type;if("text"===n){var o=a(e);o&&i(o)}else if("shape"===n){var r=a(e);r&&u(r,l.value.data)}else if("line"===n){var d=c(e);d&&s(d,l.value.data)}t.setCreatingElement(null)}};return{insertElementFromCreateSelection:d}},so=["id"];function fo(e,t,n,o,l,a){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"editable-element",ref:"elementRef",id:"editable-element-".concat(e.elementInfo.id),style:Object(j["normalizeStyle"])({zIndex:e.elementIndex})},[(Object(j["openBlock"])(),Object(j["createBlock"])(Object(j["resolveDynamicComponent"])(e.currentElementComponent),{elementInfo:e.elementInfo,selectElement:e.selectElement,contextmenus:e.contextmenus},null,8,["elementInfo","selectElement","contextmenus"]))],12,so)}var po;n("a9e3");(function(e){e["TEXT"]="text",e["IMAGE"]="image",e["SHAPE"]="shape",e["LINE"]="line",e["CHART"]="chart",e["TABLE"]="table",e["LATEX"]="latex",e["VIDEO"]="video"})(po||(po={}));var mo=function(){var e=Q(),t=Object(g["c"])($()),n=t.activeElementIdList,o=t.activeElementList,l=Object(g["c"])(e),a=l.currentSlide,c=l.viewportRatio,r=Pe(),i=r.addHistorySnapshot,u=function(t){var l,r=We,u=We*c.value,s=Me(o.value),d=s.minX,f=s.maxX,p=s.minY,m=s.maxY,b=JSON.parse(JSON.stringify(a.value.elements)),v=Object(L["a"])(b);try{for(v.s();!(l=v.n()).done;){var h=l.value;if(n.value.includes(h.id)){if(t===C.CENTER){var O=p+(m-p)/2-u/2,j=d+(f-d)/2-r/2;h.top=h.top-O,h.left=h.left-j}if(t===C.TOP){var g=p-0;h.top=h.top-g}else if(t===C.VERTICAL){var y=p+(m-p)/2-u/2;h.top=h.top-y}else if(t===C.BOTTOM){var x=m-u;h.top=h.top-x}else if(t===C.LEFT){var k=d-0;h.left=h.left-k}else if(t===C.HORIZONTAL){var w=d+(f-d)/2-r/2;h.left=h.left-w}else if(t===C.RIGHT){var E=f-r;h.left=h.left-E}}}}catch(N){v.e(N)}finally{v.f()}e.updateSlide({elements:b}),i()};return{alignElementToCanvas:u}},bo=["src"];function vo(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("ImageClipHandler"),r=Object(j["resolveComponent"])("ImageOutline"),i=Object(j["resolveDirective"])("contextmenu");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["editable-element-image",{lock:e.elementInfo.lock}]),style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[e.isCliping?(Object(j["openBlock"])(),Object(j["createBlock"])(c,{key:0,src:e.elementInfo.src,clipData:e.elementInfo.clip,width:e.elementInfo.width,height:e.elementInfo.height,top:e.elementInfo.top,left:e.elementInfo.left,clipPath:e.clipShape.style,onClip:t[0]||(t[0]=function(t){return e.handleClip(t)})},null,8,["src","clipData","width","height","top","left","clipPath"])):Object(j["withDirectives"])((Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{key:1,class:"element-content",style:Object(j["normalizeStyle"])({filter:e.shadowStyle?"drop-shadow(".concat(e.shadowStyle,")"):"",transform:e.flipStyle}),onMousedown:t[2]||(t[2]=function(t){return e.handleSelectElement(t)})},[Object(j["createVNode"])(r,{elementInfo:e.elementInfo},null,8,["elementInfo"]),Object(j["createElementVNode"])("div",{class:"image-content",style:Object(j["normalizeStyle"])({clipPath:e.clipShape.style})},[Object(j["createElementVNode"])("img",{src:e.elementInfo.src,draggable:!1,style:Object(j["normalizeStyle"])({top:e.imgPosition.top,left:e.imgPosition.left,width:e.imgPosition.width,height:e.imgPosition.height,filter:e.filter}),onDragstart:t[1]||(t[1]=Object(j["withModifiers"])((function(){}),["prevent"])),alt:""},null,44,bo)],4)],36)),[[i,e.contextmenus]])],4)],6)}var ho,Oo,jo=function(e){var t=Object(j["computed"])((function(){if(e.value){var t=e.value,n=t.h,o=t.v,l=t.blur,a=t.color;return"".concat(n,"px ").concat(o,"px ").concat(l,"px ").concat(a)}return""}));return{shadowStyle:t}},go=function(e,t){var n=Object(j["computed"])((function(){var n="";return e.value&&t.value?n="rotateX(180deg) rotateY(180deg)":t.value?n="rotateX(180deg)":e.value&&(n="rotateY(180deg)"),n}));return{flipStyle:n}};(function(e){e["RECT"]="rect",e["ELLIPSE"]="ellipse",e["POLYGON"]="polygon"})(ho||(ho={})),function(e){e["RECT"]="rect",e["ROUNDRECT"]="roundRect",e["ELLIPSE"]="ellipse",e["TRIANGLE"]="triangle",e["PENTAGON"]="pentagon",e["RHOMBUS"]="rhombus",e["STAR"]="star"}(Oo||(Oo={}));var yo={rect:{name:"矩形",type:ho.RECT,radius:"0",style:""},rect2:{name:"矩形2",type:ho.POLYGON,style:"polygon(0% 0%, 80% 0%, 100% 20%, 100% 100%, 0 100%)",createPath:function(e,t){return"M 0 0 L ".concat(.8*e," 0 L ").concat(e," ").concat(.2*t," L ").concat(e," ").concat(t," L 0 ").concat(t," Z")}},rect3:{name:"矩形3",type:ho.POLYGON,style:"polygon(0% 0%, 80% 0%, 100% 20%, 100% 100%, 20% 100%, 0% 80%)",createPath:function(e,t){return"M 0 0 L ".concat(.8*e," 0 L ").concat(e," ").concat(.2*t," L ").concat(e," ").concat(t," L ").concat(.2*e," ").concat(t," L 0 ").concat(.8*t," Z")}},roundRect:{name:"圆角矩形",type:ho.RECT,radius:"10%",style:"inset(0 0 0 0 round 10% 10% 10% 10%)"},ellipse:{name:"圆形",type:ho.ELLIPSE,style:"ellipse(50% 50% at 50% 50%)"},triangle:{name:"三角形",type:ho.POLYGON,style:"polygon(50% 0%, 0% 100%, 100% 100%)",createPath:function(e,t){return"M ".concat(.5*e," 0 L 0 ").concat(t," L ").concat(e," ").concat(t," Z")}},triangle2:{name:"三角形2",type:ho.POLYGON,style:"polygon(50% 100%, 0% 0%, 100% 0%)",createPath:function(e,t){return"M ".concat(.5*e," ").concat(t," L 0 0 L ").concat(e," 0 Z")}},triangle3:{name:"三角形3",type:ho.POLYGON,style:"polygon(0% 0%, 0% 100%, 100% 100%)",createPath:function(e,t){return"M 0 0 L 0 ".concat(t," L ").concat(e," ").concat(t," Z")}},rhombus:{name:"菱形",type:ho.POLYGON,style:"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)",createPath:function(e,t){return"M ".concat(.5*e," 0 L ").concat(e," ").concat(.5*t," L ").concat(.5*e," ").concat(t," L 0 ").concat(.5*t," Z")}},hexagon:{name:"六边形",type:ho.POLYGON,style:"polygon(20% 0%, 80% 0%, 100% 50%, 80% 100%, 20% 100%, 0% 50%)",createPath:function(e,t){return"M ".concat(.2*e," 0 L ").concat(.8*e," 0 L ").concat(e," ").concat(.5*t," L ").concat(.8*e," ").concat(t," L ").concat(.2*e," ").concat(t," L 0 ").concat(.5*t," Z")}},pentagon:{name:"五边形",type:ho.POLYGON,style:"polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%)",createPath:function(e,t){return"M ".concat(.5*e," 0 L ").concat(e," ").concat(.38*t," L ").concat(.82*e," ").concat(t," L ").concat(.18*e," ").concat(t," L 0 ").concat(.38*t," Z")}},parallelogram:{name:"平行四边形",type:ho.POLYGON,style:"polygon(30% 0%, 100% 0%, 70% 100%, 0% 100%)",createPath:function(e,t){return"M ".concat(.3*e," 0 L ").concat(e," 0 L ").concat(.7*e," ").concat(t," L 0 ").concat(t," Z")}},parallelogram2:{name:"平行四边形2",type:ho.POLYGON,style:"polygon(30% 100%, 100% 100%, 70% 0%, 0% 0%)",createPath:function(e,t){return"M ".concat(.3*e," ").concat(t," L ").concat(e," ").concat(t," L ").concat(.7*e," 0 L 0 0 Z")}},trapezoid:{name:"梯形",type:ho.POLYGON,style:"polygon(25% 0%, 75% 0%, 100% 100%, 0% 100%)",createPath:function(e,t){return"M ".concat(.25*e," 0 L ").concat(.75*e," 0 L ").concat(e," ").concat(t," L 0 ").concat(t," Z")}},trapezoid2:{name:"梯形2",type:ho.POLYGON,style:"polygon(0% 0%, 100% 0%, 75% 100%, 25% 100%)",createPath:function(e,t){return"M 0 0 L ".concat(e," 0 L ").concat(.75*e," ").concat(t," L ").concat(.25*e," ").concat(t," Z")}}},xo=function(e){var t=Object(j["computed"])((function(){if(!e.value)return yo.rect;var t=e.value.shape||ho.RECT;return yo[t]})),n=Object(j["computed"])((function(){if(!e.value)return{top:"0",left:"0",width:"100%",height:"100%"};var t=Object(zt["a"])(e.value.range,2),n=t[0],o=t[1],l=(o[0]-n[0])/100,a=(o[1]-n[1])/100,c=n[0]/l,r=n[1]/a;return{left:-c+"%",top:-r+"%",width:100/l+"%",height:100/a+"%"}}));return{clipShape:t,imgPosition:n}},Co=(n("b64b"),function(e){var t=Object(j["computed"])((function(){if(!e.value)return"";for(var t="",n=0,o=Object.keys(e.value);n<o.length;n++){var l=o[n];t+="".concat(l,"(").concat(e.value[l],") ")}return t}));return{filter:t}}),ko={class:"image-outline"};function wo(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("ImageRectOutline"),r=Object(j["resolveComponent"])("ImageEllipseOutline"),i=Object(j["resolveComponent"])("ImagePolygonOutline");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",ko,["rect"===e.clipShape.type?(Object(j["openBlock"])(),Object(j["createBlock"])(c,{key:0,width:e.elementInfo.width,height:e.elementInfo.height,radius:e.clipShape.radius,outline:e.elementInfo.outline},null,8,["width","height","radius","outline"])):"ellipse"===e.clipShape.type?(Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:1,width:e.elementInfo.width,height:e.elementInfo.height,outline:e.elementInfo.outline},null,8,["width","height","outline"])):"polygon"===e.clipShape.type?(Object(j["openBlock"])(),Object(j["createBlock"])(i,{key:2,width:e.elementInfo.width,height:e.elementInfo.height,outline:e.elementInfo.outline,createPath:e.clipShape.createPath},null,8,["width","height","outline","createPath"])):Object(j["createCommentVNode"])("",!0)])}var Eo=["rx","ry","width","height","stroke","stroke-width","stroke-dasharray"];function No(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("SvgWrapper");return e.outline?(Object(j["openBlock"])(),Object(j["createBlock"])(c,{key:0,class:"image-rect-outline",overflow:"visible",width:e.width,height:e.height},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("rect",{"vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8","stroke-linejoin":"",fill:"transparent",rx:e.radius,ry:e.radius,width:e.width,height:e.height,stroke:e.outlineColor,"stroke-width":e.outlineWidth,"stroke-dasharray":"dashed"===e.outlineStyle?"10 6":"0 0"},null,8,Eo)]})),_:1},8,["width","height"])):Object(j["createCommentVNode"])("",!0)}var Io=function(e){var t=Object(j["computed"])((function(){var t,n;return null!==(t=null===(n=e.value)||void 0===n?void 0:n.width)&&void 0!==t?t:0})),n=Object(j["computed"])((function(){var t;return(null===(t=e.value)||void 0===t?void 0:t.style)||"solid"})),o=Object(j["computed"])((function(){var t;return(null===(t=e.value)||void 0===t?void 0:t.color)||"#d14424"}));return{outlineWidth:t,outlineStyle:n,outlineColor:o}},Vo=Object(j["defineComponent"])({name:"image-rect-outline",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},outline:{type:Object},radius:{type:String,default:"0"}},setup:function(e){var t=Io(Object(j["toRef"])(e,"outline")),n=t.outlineWidth,o=t.outlineStyle,l=t.outlineColor;return{outlineWidth:n,outlineStyle:o,outlineColor:l}}});n("b2b3");const So=Bn()(Vo,[["render",No],["__scopeId","data-v-4126ab7f"]]);var Lo=So,Bo=["cx","cy","rx","ry","stroke","stroke-width","stroke-dasharray"];function To(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("SvgWrapper");return e.outline?(Object(j["openBlock"])(),Object(j["createBlock"])(c,{key:0,class:"image-ellipse-outline",overflow:"visible",width:e.width,height:e.height},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("ellipse",{"vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8","stroke-linejoin":"",fill:"transparent",cx:e.width/2,cy:e.height/2,rx:e.width/2,ry:e.height/2,stroke:e.outlineColor,"stroke-width":e.outlineWidth,"stroke-dasharray":"dashed"===e.outlineStyle?"10 6":"0 0"},null,8,Bo)]})),_:1},8,["width","height"])):Object(j["createCommentVNode"])("",!0)}var Mo=Object(j["defineComponent"])({name:"image-ellipse-outline",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},outline:{type:Object}},setup:function(e){var t=Io(Object(j["toRef"])(e,"outline")),n=t.outlineWidth,o=t.outlineStyle,l=t.outlineColor;return{outlineWidth:n,outlineStyle:o,outlineColor:l}}});n("169b");const _o=Bn()(Mo,[["render",To],["__scopeId","data-v-6655f0f0"]]);var Do=_o,zo=["d","stroke","stroke-width","stroke-dasharray"];function Ao(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("SvgWrapper");return e.outline?(Object(j["openBlock"])(),Object(j["createBlock"])(c,{key:0,class:"image-polygon-outline",overflow:"visible",width:e.width,height:e.height},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("path",{"vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8","stroke-linejoin":"",fill:"transparent",d:e.createPath(e.width,e.height),stroke:e.outlineColor,"stroke-width":e.outlineWidth,"stroke-dasharray":"dashed"===e.outlineStyle?"10 6":"0 0"},null,8,zo)]})),_:1},8,["width","height"])):Object(j["createCommentVNode"])("",!0)}var Ro=Object(j["defineComponent"])({name:"image-polygon-outline",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},outline:{type:Object},createPath:{type:Function,required:!0}},setup:function(e){var t=Io(Object(j["toRef"])(e,"outline")),n=t.outlineWidth,o=t.outlineStyle,l=t.outlineColor;return{outlineWidth:n,outlineStyle:o,outlineColor:l}}});n("64b8");const Fo=Bn()(Ro,[["render",Ao],["__scopeId","data-v-8d85e878"]]);var Po=Fo,Ho=Object(j["defineComponent"])({name:"image-outline",components:{ImageRectOutline:Lo,ImageEllipseOutline:Do,ImagePolygonOutline:Po},props:{elementInfo:{type:Object,required:!0}},setup:function(e){var t=Object(j["computed"])((function(){return e.elementInfo.clip})),n=xo(t),o=n.clipShape;return{clipShape:o}}});const qo=Bn()(Ho,[["render",wo]]);var Wo=qo,Xo=function(e){return Object(j["pushScopeId"])("data-v-0acb094e"),e=e(),Object(j["popScopeId"])(),e},Go=["src"],Uo=["src"],Yo=["onMousedown"],Zo=Xo((function(){return Object(j["createElementVNode"])("path",{"stroke-width":"0.3","shape-rendering":"crispEdges",d:"M 16 0 L 0 0 L 0 16 L 4 16 L 4 4 L 16 4 L 16 0 Z"},null,-1)})),Jo=["onMousedown"],Ko=Xo((function(){return Object(j["createElementVNode"])("path",{"stroke-width":"0.3","shape-rendering":"crispEdges",d:"M 16 0 L 0 0 L 0 4 L 16 4 Z"},null,-1)}));function Qo(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("SvgWrapper"),r=Object(j["resolveDirective"])("click-outside");return Object(j["withDirectives"])((Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"image-clip-handler",style:Object(j["normalizeStyle"])(e.clipWrapperPositionStyle)},[Object(j["createElementVNode"])("img",{class:"bottom-img",src:e.src,draggable:!1,alt:"",style:Object(j["normalizeStyle"])(e.bottomImgPositionStyle)},null,12,Go),Object(j["createElementVNode"])("div",{class:"top-image-content",style:Object(j["normalizeStyle"])(Object(S["a"])(Object(S["a"])({},e.topImgWrapperPositionStyle),{},{clipPath:e.clipPath}))},[Object(j["createElementVNode"])("img",{class:"top-img",src:e.src,draggable:!1,alt:"",style:Object(j["normalizeStyle"])(e.topImgPositionStyle)},null,12,Uo)],4),Object(j["createElementVNode"])("div",{class:"operate",style:Object(j["normalizeStyle"])(e.topImgWrapperPositionStyle),onMousedown:t[0]||(t[0]=Object(j["withModifiers"])((function(t){return e.moveClipRange(t)}),["stop"]))},[(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(["t-l","t-r","b-l","b-r"],(function(t){return Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["clip-point",t]),key:t,onMousedown:Object(j["withModifiers"])((function(n){return e.scaleClipRange(n,t)}),["stop"])},[Object(j["createVNode"])(c,{width:"16",height:"16",fill:"#fff",stroke:"#333"},{default:Object(j["withCtx"])((function(){return[Zo]})),_:1})],42,Yo)})),64)),(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(["t","b","l","r"],(function(t){return Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["clip-point","",t]),key:t,onMousedown:Object(j["withModifiers"])((function(n){return e.scaleClipRange(n,t)}),["stop"])},[Object(j["createVNode"])(c,{width:"16",height:"16",fill:"#fff",stroke:"#333"},{default:Object(j["withCtx"])((function(){return[Ko]})),_:1})],42,Jo)})),64))],36)],4)),[[r,e.handleClip]])}var $o=Object(j["defineComponent"])({name:"image-clip-handler",emits:["clip"],props:{src:{type:String,required:!0},clipData:{type:Object},clipPath:{type:String,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0},top:{type:Number,required:!0},left:{type:Number,required:!0}},setup:function(e,t){var n=t.emit,o=Object(g["c"])($()),l=o.canvasScale,a=Object(g["c"])(se()),c=a.ctrlOrShiftKeyActive,r=Object(j["reactive"])({top:"0",left:"0"}),i=Object(j["ref"])(!1),u=Object(j["ref"])(null),s=function(){var t=e.clipData?e.clipData.range:[[0,0],[100,100]],n=Object(zt["a"])(t,2),o=n[0],l=n[1],a=(l[0]-o[0])/100,c=(l[1]-o[1])/100,r=o[0]/a,i=o[1]/c;return{widthScale:a,heightScale:c,left:r,top:i}},d=Object(j["computed"])((function(){var e=s(),t=e.widthScale,n=e.heightScale,o=e.left,l=e.top;return{left:-o,top:-l,width:100/t,height:100/n}})),f=Object(j["computed"])((function(){return{top:d.value.top+"%",left:d.value.left+"%",width:d.value.width+"%",height:d.value.height+"%"}})),p=Object(j["reactive"])({top:0,left:0,width:0,height:0}),m=Object(j["computed"])((function(){return{top:p.top+"%",left:p.left+"%",width:p.width+"%",height:p.height+"%"}})),b=Object(j["computed"])((function(){var e=d.value.width,t=d.value.height,n=p.left,o=p.top,l=p.width,a=p.height;return{left:100/l*-n+"%",top:100/a*-o+"%",width:e/l*100+"%",height:t/a*100+"%"}})),v=function(){var e=s(),t=e.left,n=e.top;p.left=t,p.top=n,p.width=100,p.height=100,r.top=-n+"%",r.left=-t+"%"},h=function(){if(!i.value)if(u.value){var t=s(),o=t.left,l=t.top,a={left:(p.left-o)/100*e.width,top:(p.top-l)/100*e.height,width:(p.width-100)/100*e.width,height:(p.height-100)/100*e.height},c={range:u.value,position:a};n("clip",c)}else n("clip",null)},O=function(e){var t=e.key.toUpperCase();t===N.ENTER&&h()};Object(j["onMounted"])((function(){v(),document.addEventListener("keydown",O)})),Object(j["onUnmounted"])((function(){document.removeEventListener("keydown",O)}));var y=function(){var e={left:parseInt(b.value.left),top:parseInt(b.value.top),width:parseInt(b.value.width),height:parseInt(b.value.height)},t=100/e.width,n=100/e.height,o=[-e.left*t,-e.top*n],l=[100*t+o[0],100*n+o[1]];u.value=[o,l]},x=function(t){i.value=!0;var n=!0,o=t.pageX,a=t.pageY,c=d.value,r={left:p.left,top:p.top,width:p.width,height:p.height};document.onmousemove=function(t){if(n){var i=t.pageX,u=t.pageY,s=(i-o)/l.value/e.width*100,d=(u-a)/l.value/e.height*100,f=r.left+s,m=r.top+d;f<0?f=0:f+r.width>c.width&&(f=c.width-r.width),m<0?m=0:m+r.height>c.height&&(m=c.height-r.height),p.left=f,p.top=m}},document.onmouseup=function(){n=!1,document.onmousemove=null,document.onmouseup=null,y(),setTimeout((function(){i.value=!1}),0)}},C=function(t,n){i.value=!0;var o=!0,a=50/e.width*100,r=50/e.height*100,u=t.pageX,s=t.pageY,f=d.value,m={left:p.left,top:p.top,width:p.width,height:p.height},b=p.width/p.height;document.onmousemove=function(t){if(o){var i,d,v,h,O=t.pageX,j=t.pageY,g=(O-u)/l.value/e.width*100,y=(j-s)/l.value/e.height*100;c.value&&("b-r"!==n&&"t-l"!==n||(y=g/b),"b-l"!==n&&"t-r"!==n||(y=-g/b)),"t-l"===n?(m.left+g<0&&(g=-m.left),m.top+y<0&&(y=-m.top),m.width-g<a&&(g=m.width-a),m.height-y<r&&(y=m.height-r),v=m.width-g,h=m.height-y,i=m.left+g,d=m.top+y):"t-r"===n?(m.left+m.width+g>f.width&&(g=f.width-(m.left+m.width)),m.top+y<0&&(y=-m.top),m.width+g<a&&(g=a-m.width),m.height-y<r&&(y=m.height-r),v=m.width+g,h=m.height-y,i=m.left,d=m.top+y):"b-l"===n?(m.left+g<0&&(g=-m.left),m.top+m.height+y>f.height&&(y=f.height-(m.top+m.height)),m.width-g<a&&(g=m.width-a),m.height+y<r&&(y=r-m.height),v=m.width-g,h=m.height+y,i=m.left+g,d=m.top):"b-r"===n?(m.left+m.width+g>f.width&&(g=f.width-(m.left+m.width)),m.top+m.height+y>f.height&&(y=f.height-(m.top+m.height)),m.width+g<a&&(g=a-m.width),m.height+y<r&&(y=r-m.height),v=m.width+g,h=m.height+y,i=m.left,d=m.top):"t"===n?(m.top+y<0&&(y=-m.top),m.height-y<r&&(y=m.height-r),v=m.width,h=m.height-y,i=m.left,d=m.top+y):"b"===n?(m.top+m.height+y>f.height&&(y=f.height-(m.top+m.height)),m.height+y<r&&(y=r-m.height),v=m.width,h=m.height+y,i=m.left,d=m.top):"l"===n?(m.left+g<0&&(g=-m.left),m.width-g<a&&(g=m.width-a),v=m.width-g,h=m.height,i=m.left+g,d=m.top):(m.left+m.width+g>f.width&&(g=f.width-(m.left+m.width)),m.width+g<a&&(g=a-m.width),h=m.height,v=m.width+g,i=m.left,d=m.top),p.left=i,p.top=d,p.width=v,p.height=h}},document.onmouseup=function(){o=!1,document.onmousemove=null,document.onmouseup=null,y(),setTimeout((function(){return i.value=!1}),0)}};return{clipWrapperPositionStyle:r,bottomImgPositionStyle:f,topImgWrapperPositionStyle:m,topImgPositionStyle:b,handleClip:h,moveClipRange:x,scaleClipRange:C}}});n("6b1a");const el=Bn()($o,[["render",Qo],["__scopeId","data-v-0acb094e"]]);var tl=el,nl=Object(j["defineComponent"])({name:"editable-element-image",components:{ImageOutline:Wo,ImageClipHandler:tl},props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup:function(e){var t=$(),n=Q(),o=Object(g["c"])(t),l=o.clipingImageElementId,a=Object(j["computed"])((function(){return l.value===e.elementInfo.id})),c=Pe(),r=c.addHistorySnapshot,i=Object(j["computed"])((function(){return e.elementInfo.shadow})),u=jo(i),s=u.shadowStyle,d=Object(j["computed"])((function(){return e.elementInfo.flipH})),f=Object(j["computed"])((function(){return e.elementInfo.flipV})),p=go(d,f),m=p.flipStyle,b=Object(j["computed"])((function(){return e.elementInfo.clip})),v=xo(b),h=v.clipShape,O=v.imgPosition,y=Object(j["computed"])((function(){return e.elementInfo.filters})),x=Co(y),C=x.filter,k=function(t){e.elementInfo.lock||(t.stopPropagation(),e.selectElement(t,e.elementInfo))},w=function(o){if(t.setClipingImageElementId(""),o){var l=o.range,a=o.position,c=e.elementInfo.clip||{shape:"rect",range:[[0,0],[100,100]]},i={clip:Object(S["a"])(Object(S["a"])({},c),{},{range:l}),left:e.elementInfo.left+a.left,top:e.elementInfo.top+a.top,width:e.elementInfo.width+a.width,height:e.elementInfo.height+a.height};n.updateElement({id:e.elementInfo.id,props:i}),r()}};return{isCliping:a,handleClip:w,clipingImageElementId:l,shadowStyle:s,handleSelectElement:k,clipShape:h,imgPosition:O,filter:C,flipStyle:m}}});n("34cb");const ol=Bn()(nl,[["render",vo],["__scopeId","data-v-d35423d2"]]);var ll=ol;function al(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("ElementOutline"),r=Object(j["resolveComponent"])("ProsemirrorEditor"),i=Object(j["resolveDirective"])("contextmenu");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["editable-element-text",{lock:e.elementInfo.lock}]),ref:"elementRef",style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px"})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[Object(j["withDirectives"])(Object(j["createElementVNode"])("div",{class:"element-content",style:Object(j["normalizeStyle"])({backgroundColor:e.elementInfo.fill,opacity:e.elementInfo.opacity,textShadow:e.shadowStyle,lineHeight:e.elementInfo.lineHeight,letterSpacing:(e.elementInfo.wordSpace||0)+"px",color:e.elementInfo.defaultColor,fontFamily:e.elementInfo.defaultFontName}),onMousedown:t[2]||(t[2]=function(t){return e.handleSelectElement(t)})},[Object(j["createVNode"])(c,{width:e.elementInfo.width,height:e.elementInfo.height,outline:e.elementInfo.outline},null,8,["width","height","outline"]),Object(j["createVNode"])(r,{class:"text",elementId:e.elementInfo.id,defaultColor:e.elementInfo.defaultColor,defaultFontName:e.elementInfo.defaultFontName,editable:!e.elementInfo.lock,value:e.elementInfo.content,onUpdate:t[0]||(t[0]=function(t){return e.updateContent(t)}),onMousedown:t[1]||(t[1]=function(t){return e.handleSelectElement(t,!1)})},null,8,["elementId","defaultColor","defaultFontName","editable","value"])],36),[[i,e.contextmenus]])],4)],6)}var cl=["d","stroke","stroke-width","stroke-dasharray"];function rl(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("SvgWrapper");return e.outline?(Object(j["openBlock"])(),Object(j["createBlock"])(c,{key:0,class:"element-outline",overflow:"visible",width:e.width,height:e.height},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("path",{"vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8","stroke-linejoin":"",fill:"transparent",d:"M0,0 L".concat(e.width,",0 L").concat(e.width,",").concat(e.height," L0,").concat(e.height," Z"),stroke:e.outlineColor,"stroke-width":e.outlineWidth,"stroke-dasharray":"dashed"===e.outlineStyle?"10 6":"0 0"},null,8,cl)]})),_:1},8,["width","height"])):Object(j["createCommentVNode"])("",!0)}var il=Object(j["defineComponent"])({name:"element-outline",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},outline:{type:Object}},setup:function(e){var t=Io(Object(j["toRef"])(e,"outline")),n=t.outlineWidth,o=t.outlineStyle,l=t.outlineColor;return{outlineWidth:n,outlineStyle:o,outlineColor:l}}});n("d9a3");const ul=Bn()(il,[["render",rl],["__scopeId","data-v-2ddaa919"]]);var sl=ul,dl={class:"prosemirror-editor",ref:"editorViewRef"};function fl(e,t,n,o,l,a){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",dl,null,512)}var pl,ml=n("0010"),bl=n("5313"),vl=n("576a"),hl=n("304a"),Ol=n("7f06"),jl=n("8726"),gl=n("23f1"),yl=n("1a16"),xl=n("665f"),Cl=n("f95e"),kl=function(e){var t={},n=function(e,n){return t[e]=n};return n("Alt-ArrowUp",ml["c"]),n("Alt-ArrowDown",ml["b"]),n("Ctrl-z",jl["c"]),n("Ctrl-y",jl["b"]),n("Backspace",Cl["f"]),n("Escape",ml["e"]),n("Ctrl-b",Object(ml["f"])(e.marks.strong)),n("Ctrl-i",Object(ml["f"])(e.marks.em)),n("Ctrl-u",Object(ml["f"])(e.marks.underline)),n("Ctrl-d",Object(ml["f"])(e.marks.strikethrough)),n("Enter",Object(xl["f"])(e.nodes.list_item)),n("Mod-[",Object(xl["b"])(e.nodes.list_item)),n("Mod-]",Object(xl["e"])(e.nodes.list_item)),t},wl=function(e){return Object(Cl["g"])(/^\s*>\s$/,e)},El=function(e){return Object(Cl["g"])(/^(\d+)\.\s$/,e,(function(e){return{order:+e[1]}}),(function(e,t){return t.childCount+t.attrs.order===+e[1]}))},Nl=function(e){return Object(Cl["g"])(/^\s*([-+*])\s$/,e)},Il=function(e){return Object(Cl["e"])(/^```$/,e)},Vl=function(e){var t=[].concat(Object(X["a"])(Cl["d"]),[Cl["a"],Cl["b"]]);return t.push(wl(e.nodes.blockquote)),t.push(El(e.nodes.ordered_list)),t.push(Nl(e.nodes.bullet_list)),t.push(Il(e.nodes.code_block)),Object(Cl["c"])({rules:t})},Sl=function(e){return[Vl(e),Object(Ol["b"])(kl(e)),Object(Ol["b"])(ml["a"]),Object(gl["a"])(),Object(yl["a"])(),Object(jl["a"])()]},Ll=n("2210"),Bl=Object(S["a"])(Object(S["a"])({},xl["d"]),{},{content:"list_item+",group:"block"}),Tl=Object(S["a"])(Object(S["a"])({},xl["a"]),{},{content:"list_item+",group:"block"}),Ml=Object(S["a"])(Object(S["a"])({},xl["c"]),{},{content:"paragraph block*",group:"block"}),_l={attrs:{align:{default:""}},content:"inline*",group:"block",parseDOM:[{tag:"p",getAttrs:function(e){var t=e.style.textAlign,n=e.getAttribute("align")||t||"";return n=/(left|right|center|justify)/.test(n)?n:"",{align:n}}}],toDOM:function(e){var t=e.attrs.align,n="";return t&&"left"!==t&&(n+="text-align: ".concat(t,";")),["p",{style:n},0]}},Dl=Object(S["a"])(Object(S["a"])({},Ll["b"]),{},{ordered_list:Bl,bullet_list:Tl,list_item:Ml,paragraph:_l}),zl={excludes:"subscript",parseDOM:[{tag:"sub"},{style:"vertical-align",getAttrs:function(e){return"sub"===e&&null}}],toDOM:function(){return["sub",0]}},Al={excludes:"superscript",parseDOM:[{tag:"sup"},{style:"vertical-align",getAttrs:function(e){return"super"===e&&null}}],toDOM:function(){return["sup",0]}},Rl={parseDOM:[{tag:"strike"},{style:"text-decoration",getAttrs:function(e){return"line-through"===e&&null}},{style:"text-decoration-line",getAttrs:function(e){return"line-through"===e&&null}}],toDOM:function(){return["span",{style:"text-decoration-line: line-through"},0]}},Fl={parseDOM:[{tag:"u"},{style:"text-decoration",getAttrs:function(e){return"underline"===e&&null}},{style:"text-decoration-line",getAttrs:function(e){return"underline"===e&&null}}],toDOM:function(){return["span",{style:"text-decoration: underline"},0]}},Pl={attrs:{color:{}},parseDOM:[{style:"color",getAttrs:function(e){return e?{color:e}:{}}}],toDOM:function(e){var t=e.attrs.color,n="";return t&&(n+="color: ".concat(t,";")),["span",{style:n},0]}},Hl={attrs:{backcolor:{}},inline:!0,group:"inline",parseDOM:[{tag:"span[style*=background-color]",getAttrs:function(e){return e?{backcolor:e}:{}}}],toDOM:function(e){var t=e.attrs.backcolor,n="";return t&&(n+="background-color: ".concat(t,";")),["span",{style:n},0]}},ql={attrs:{fontsize:{}},inline:!0,group:"inline",parseDOM:[{style:"font-size",getAttrs:function(e){return e?{fontsize:e}:{}}}],toDOM:function(e){var t=e.attrs.fontsize,n="";return t&&(n+="font-size: ".concat(t)),["span",{style:n},0]}},Wl={attrs:{fontname:{}},inline:!0,group:"inline",parseDOM:[{style:"font-family",getAttrs:function(e){return{fontname:e&&"string"===typeof e?e.replace(/[\"\']/g,""):""}}}],toDOM:function(e){var t=e.attrs.fontname,n="";return t&&(n+="font-family: ".concat(t)),["span",{style:n},0]}},Xl=Object(S["a"])(Object(S["a"])({},Ll["a"]),{},{subscript:zl,superscript:Al,strikethrough:Rl,underline:Fl,forecolor:Pl,backcolor:Hl,fontsize:ql,fontname:Wl}),Gl=Dl,Ul=Xl,Yl=new hl["i"]({nodes:Gl,marks:Ul}),Zl=function(e){var t="<div>".concat(e,"</div>"),n=new window.DOMParser,o=n.parseFromString(t,"text/html").body.firstElementChild;return hl["a"].fromSchema(Yl).parse(o)},Jl=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new vl["c"](e,Object(S["a"])({state:bl["b"].create({doc:Zl(t),plugins:Sl(Yl)})},n))},Kl=n("1344");(function(e){e["RICH_TEXT_COMMAND"]="RICH_TEXT_COMMAND",e["OPEN_CHART_DATA_EDITOR"]="OPEN_CHART_DATA_EDITOR",e["OPEN_LATEX_EDITOR"]="OPEN_LATEX_EDITOR"})(pl||(pl={}));var Ql=Object(Kl["a"])(),$l=Ql,ea=(n("6062"),function(e,t,n){var o=e,l=o.selection,a=o.doc;if(!l||!a)return e;var c=l.from,r=l.to,i=t.nodes,u=i.blockquote,s=i.list_item,d=i.paragraph,f=[];n=n||"";var p=new Set([u,s,d]);return a.nodesBetween(c,r,(function(e,t){var o=e.type,l=e.attrs.align||"";return l!==n&&p.has(o)&&f.push({node:e,pos:t,nodeType:o}),!0})),f.length?(f.forEach((function(t){var o=t.node,l=t.pos,a=t.nodeType,c=o.attrs;c=n?Object(S["a"])(Object(S["a"])({},c),{},{align:n}):Object(S["a"])(Object(S["a"])({},c),{},{align:null}),e=e.setNodeMarkup(l,a,c,o.marks)})),e):e}),ta=function(e,t){var n=e.state,o=n.schema,l=n.selection,a=ea(n.tr.setSelection(l),o,t);e.dispatch(a)},na=function(e,t){return e.type===t.nodes.bullet_list||e.type===t.nodes.ordered_list},oa=function(e,t){return function(n,o){var l=n.schema,a=n.selection,c=a.$from,r=a.$to,i=c.blockRange(r);if(!i)return!1;var u=M((function(e){return na(e,l)}))(a);if(i.depth>=1&&u&&i.depth-u.depth<=1){if(u.node.type===e)return Object(xl["b"])(t)(n,o);if(na(u.node,l)&&e.validContent(u.node.content)){var s=n.tr;return s.setNodeMarkup(u.pos,e),o&&o(s),!1}}return Object(xl["g"])(e)(n,o)}},la=Object(j["defineComponent"])({name:"prosemirror-editor",emits:["update","focus","blur"],props:{elementId:{type:String,required:!0},defaultColor:{type:String,required:!0},defaultFontName:{type:String,required:!0},editable:{type:Boolean,default:!1},value:{type:String,required:!0},autoFocus:{type:Boolean,default:!1}},setup:function(e,t){var n,o=t.emit,l=$(),a=Object(g["c"])(l),c=a.handleElementId,r=Object(j["ref"])(),i=Object(Y["debounce"])((function(){o("update",n.dom.innerHTML)}),300,{trailing:!0}),u=function(){"请输入内容"===e.value&&setTimeout((function(){Object(ml["d"])(n.state,n.dispatch)}),0),l.setDisableHotkeysState(!0),o("focus")},s=function(){l.setDisableHotkeysState(!1),o("blur")},d=Object(Y["debounce"])((function(){var t=H(n,{color:e.defaultColor,fontname:e.defaultFontName});l.setRichtextAttrs(t)}),30,{trailing:!0}),f=function(){i(),d()},p=Object(j["computed"])((function(){return e.value}));Object(j["watch"])(p,(function(){if(n&&!n.hasFocus()){var e=n.state,t=e.doc,o=e.tr;n.dispatch(o.replaceRangeWith(0,t.content.size,Zl(p.value)))}})),Object(j["watch"])((function(){return e.editable}),(function(){n.setProps({editable:function(){return e.editable}})})),Object(j["onMounted"])((function(){n=Jl(r.value,p.value,{handleDOMEvents:{focus:u,blur:s,keydown:f,click:d},editable:function(){return e.editable}}),e.autoFocus&&n.focus()})),Object(j["onUnmounted"])((function(){n&&n.destroy()}));var m=function(t){if(c.value===e.elementId){var o,l="command"in t?[t]:t,a=Object(L["a"])(l);try{for(a.s();!(o=a.n()).done;){var r=o.value;if("fontname"===r.command&&r.value){var u=n.state.schema.marks.fontname.create({fontname:r.value}),s=n.state.selection.empty;s&&Object(ml["d"])(n.state,n.dispatch);var f=n.state.selection,p=f.$from,m=f.$to;n.dispatch(n.state.tr.addMark(p.pos,m.pos,u))}else if("fontsize"===r.command&&r.value){var b=n.state.schema.marks.fontsize.create({fontsize:r.value}),v=n.state.selection.empty;v&&Object(ml["d"])(n.state,n.dispatch);var h=n.state.selection,O=h.$from,j=h.$to;n.dispatch(n.state.tr.addMark(O.pos,j.pos,b))}else if("color"===r.command&&r.value){var g=n.state.schema.marks.forecolor.create({color:r.value}),y=n.state.selection.empty;y&&Object(ml["d"])(n.state,n.dispatch);var x=n.state.selection,C=x.$from,k=x.$to;n.dispatch(n.state.tr.addMark(C.pos,k.pos,g))}else if("backcolor"===r.command&&r.value){var w=n.state.schema.marks.backcolor.create({backcolor:r.value}),E=n.state.selection.empty;E&&Object(ml["d"])(n.state,n.dispatch);var N=n.state.selection,I=N.$from,V=N.$to;n.dispatch(n.state.tr.addMark(I.pos,V.pos,w))}else if("bold"===r.command){var S=n.state.selection.empty;S&&Object(ml["d"])(n.state,n.dispatch),Object(ml["f"])(n.state.schema.marks.strong)(n.state,n.dispatch)}else if("em"===r.command){var B=n.state.selection.empty;B&&Object(ml["d"])(n.state,n.dispatch),Object(ml["f"])(n.state.schema.marks.em)(n.state,n.dispatch)}else if("underline"===r.command){var T=n.state.selection.empty;T&&Object(ml["d"])(n.state,n.dispatch),Object(ml["f"])(n.state.schema.marks.underline)(n.state,n.dispatch)}else if("strikethrough"===r.command){var M=n.state.selection.empty;M&&Object(ml["d"])(n.state,n.dispatch),Object(ml["f"])(n.state.schema.marks.strikethrough)(n.state,n.dispatch)}else if("subscript"===r.command)Object(ml["f"])(n.state.schema.marks.subscript)(n.state,n.dispatch);else if("superscript"===r.command)Object(ml["f"])(n.state.schema.marks.superscript)(n.state,n.dispatch);else if("blockquote"===r.command)Object(ml["g"])(n.state.schema.nodes.blockquote)(n.state,n.dispatch);else if("code"===r.command)Object(ml["f"])(n.state.schema.marks.code)(n.state,n.dispatch);else if("align"===r.command&&r.value)ta(n,r.value);else if("bulletList"===r.command){var _=n.state.schema.nodes,D=_.bullet_list,z=_.list_item;oa(D,z)(n.state,n.dispatch)}else if("orderedList"===r.command){var A=n.state.schema.nodes,R=A.ordered_list,F=A.list_item;oa(R,F)(n.state,n.dispatch)}else if("clear"===r.command){var P=n.state.selection.empty;P&&Object(ml["d"])(n.state,n.dispatch);var H=n.state.selection,q=H.$from,W=H.$to;n.dispatch(n.state.tr.removeMark(q.pos,W.pos))}else"insert"===r.command&&r.value&&n.dispatch(n.state.tr.insertText(r.value))}}catch(X){a.e(X)}finally{a.f()}n.focus(),i(),d()}};return $l.on(pl.RICH_TEXT_COMMAND,m),Object(j["onUnmounted"])((function(){$l.off(pl.RICH_TEXT_COMMAND,m)})),{editorViewRef:r}}});n("da17");const aa=Bn()(la,[["render",fl],["__scopeId","data-v-f0d6ea86"]]);var ca=aa,ra=Object(j["defineComponent"])({name:"editable-element-text",components:{ElementOutline:sl,ProsemirrorEditor:ca},props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup:function(e){var t=$(),n=Q(),o=Object(g["c"])(t),l=o.handleElementId,a=o.isScaling,c=Pe(),r=c.addHistorySnapshot,i=Object(j["ref"])(),u=Object(j["computed"])((function(){return e.elementInfo.shadow})),s=jo(u),d=s.shadowStyle,f=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.elementInfo.lock||(t.stopPropagation(),e.selectElement(t,e.elementInfo,n))},p=Object(j["ref"])(-1);Object(j["watch"])(a,(function(){l.value===e.elementInfo.id&&(a.value||-1===p.value||(n.updateElement({id:e.elementInfo.id,props:{height:p.value}}),p.value=-1))}));var m=function(t){var o=t[0].contentRect;if(i.value){var l=o.height;e.elementInfo.height!==l&&(a.value?p.value=l:n.updateElement({id:e.elementInfo.id,props:{height:l}}))}},b=new ResizeObserver(m);Object(j["onMounted"])((function(){i.value&&b.observe(i.value)})),Object(j["onUnmounted"])((function(){i.value&&b.unobserve(i.value)}));var v=function(t){n.updateElement({id:e.elementInfo.id,props:{content:t}}),r()};return{elementRef:i,shadowStyle:d,updateContent:v,handleSelectElement:f}}});n("b30b");const ia=Bn()(ra,[["render",al],["__scopeId","data-v-07373968"]]);var ua=ia,sa={key:0},da=["transform"],fa=["d","fill","stroke","stroke-width","stroke-dasharray"],pa=["innerHTML"];function ma(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("GradientDefs"),r=Object(j["resolveComponent"])("SvgWrapper"),i=Object(j["resolveComponent"])("ProsemirrorEditor"),u=Object(j["resolveDirective"])("contextmenu");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["editable-element-shape",{lock:e.elementInfo.lock}]),style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[Object(j["withDirectives"])(Object(j["createElementVNode"])("div",{class:"element-content",style:Object(j["normalizeStyle"])({opacity:e.elementInfo.opacity,filter:e.shadowStyle?"drop-shadow(".concat(e.shadowStyle,")"):"",transform:e.flipStyle,color:e.text.defaultColor,fontFamily:e.text.defaultFontName}),onMousedown:t[2]||(t[2]=function(t){return e.handleSelectElement(t)}),onDblclick:t[3]||(t[3]=function(t){return e.enterEditing()})},[Object(j["createVNode"])(r,{overflow:"visible",width:e.elementInfo.width,height:e.elementInfo.height},{default:Object(j["withCtx"])((function(){return[e.elementInfo.gradient?(Object(j["openBlock"])(),Object(j["createElementBlock"])("defs",sa,[Object(j["createVNode"])(c,{id:"editabel-gradient-".concat(e.elementInfo.id),type:e.elementInfo.gradient.type,color1:e.elementInfo.gradient.color[0],color2:e.elementInfo.gradient.color[1],rotate:e.elementInfo.gradient.rotate},null,8,["id","type","color1","color2","rotate"])])):Object(j["createCommentVNode"])("",!0),Object(j["createElementVNode"])("g",{transform:"scale(".concat(e.elementInfo.width/e.elementInfo.viewBox,", ").concat(e.elementInfo.height/e.elementInfo.viewBox,") translate(0,0) matrix(1,0,0,1,0,0)")},[Object(j["createElementVNode"])("path",{"vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8","stroke-linejoin":"",d:e.elementInfo.path,fill:e.elementInfo.gradient?"url(#editabel-gradient-".concat(e.elementInfo.id,")"):e.elementInfo.fill,stroke:e.outlineColor,"stroke-width":e.outlineWidth,"stroke-dasharray":"dashed"===e.outlineStyle?"10 6":"0 0"},null,8,fa)],8,da)]})),_:1},8,["width","height"]),Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["shape-text",e.text.align])},[e.editable?(Object(j["openBlock"])(),Object(j["createBlock"])(i,{key:0,elementId:e.elementInfo.id,defaultColor:e.text.defaultColor,defaultFontName:e.text.defaultFontName,editable:!e.elementInfo.lock,autoFocus:!0,value:e.text.content,onUpdate:t[0]||(t[0]=function(t){return e.updateText(t)}),onMousedown:t[1]||(t[1]=Object(j["withModifiers"])((function(){}),["stop"]))},null,8,["elementId","defaultColor","defaultFontName","editable","value"])):(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{key:1,class:"show-text ProseMirror-static",innerHTML:e.text.content},null,8,pa))],2)],36),[[u,e.contextmenus]])],4)],6)}var ba=["id","gradientTransform"],va=["stop-color"],ha=["stop-color"],Oa=["id"],ja=["stop-color"],ga=["stop-color"];function ya(e,t,n,o,l,a){return"linear"===e.type?(Object(j["openBlock"])(),Object(j["createElementBlock"])("linearGradient",{key:0,id:e.id,x1:"0%",y1:"0%",x2:"100%",y2:"0%",gradientTransform:"rotate(".concat(e.rotate,",0.5,0.5)")},[Object(j["createElementVNode"])("stop",{offset:"0%","stop-color":e.color1},null,8,va),Object(j["createElementVNode"])("stop",{offset:"100%","stop-color":e.color2},null,8,ha)],8,ba)):(Object(j["openBlock"])(),Object(j["createElementBlock"])("radialGradient",{key:1,id:e.id},[Object(j["createElementVNode"])("stop",{offset:"0%","stop-color":e.color1},null,8,ja),Object(j["createElementVNode"])("stop",{offset:"100%","stop-color":e.color2},null,8,ga)],8,Oa))}var xa=Object(j["defineComponent"])({name:"gradient-defs",props:{id:{type:String,required:!0},type:{type:String},color1:{type:String,required:!0},color2:{type:String,required:!0},rotate:{type:Number,default:0}}});const Ca=Bn()(xa,[["render",ya]]);var ka=Ca,wa=Object(j["defineComponent"])({name:"editable-element-shape",components:{GradientDefs:ka,ProsemirrorEditor:ca},props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup:function(e){var t=$(),n=Q(),o=Object(g["c"])(t),l=o.handleElementId,a=Pe(),c=a.addHistorySnapshot,r=function(t){e.elementInfo.lock||(t.stopPropagation(),e.selectElement(t,e.elementInfo))},i=Object(j["computed"])((function(){return e.elementInfo.outline})),u=Io(i),s=u.outlineWidth,d=u.outlineStyle,f=u.outlineColor,p=Object(j["computed"])((function(){return e.elementInfo.shadow})),m=jo(p),b=m.shadowStyle,v=Object(j["computed"])((function(){return e.elementInfo.flipH})),h=Object(j["computed"])((function(){return e.elementInfo.flipV})),O=go(v,h),y=O.flipStyle,x=Object(j["ref"])(!1),C=function(){x.value=!0,t.setEditingShapeElementId(e.elementInfo.id)},k=function(){x.value=!1,t.setEditingShapeElementId("")};Object(j["watch"])(l,(function(){l.value!==e.elementInfo.id&&x.value&&k()}));var w=Object(j["computed"])((function(){var t={content:"",defaultFontName:"微软雅黑",defaultColor:"#000",align:"middle"};return e.elementInfo.text?e.elementInfo.text:t})),E=function(t){var o=Object(S["a"])(Object(S["a"])({},w.value),{},{content:t});n.updateElement({id:e.elementInfo.id,props:{text:o}}),c()};return{shadowStyle:b,outlineWidth:s,outlineStyle:d,outlineColor:f,flipStyle:y,editable:x,text:w,handleSelectElement:r,updateText:E,enterEditing:C}}});n("02fc");const Ea=Bn()(wa,[["render",ma],["__scopeId","data-v-b7337b76"]]);var Na=Ea,Ia=["d","stroke","stroke-width","stroke-dasharray","marker-start","marker-end"],Va=["d"];function Sa(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("LinePointMarker"),r=Object(j["resolveComponent"])("SvgWrapper"),i=Object(j["resolveDirective"])("contextmenu");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["editable-element-shape",{lock:e.elementInfo.lock}]),style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px"})},[Object(j["createElementVNode"])("div",{class:"element-content",style:Object(j["normalizeStyle"])({filter:e.shadowStyle?"drop-shadow(".concat(e.shadowStyle,")"):""})},[Object(j["createVNode"])(r,{overflow:"visible",width:e.svgWidth,height:e.svgHeight},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("defs",null,[e.elementInfo.points[0]?(Object(j["openBlock"])(),Object(j["createBlock"])(c,{key:0,id:e.elementInfo.id,position:"start",type:e.elementInfo.points[0],color:e.elementInfo.color,baseSize:e.elementInfo.width},null,8,["id","type","color","baseSize"])):Object(j["createCommentVNode"])("",!0),e.elementInfo.points[1]?(Object(j["openBlock"])(),Object(j["createBlock"])(c,{key:1,id:e.elementInfo.id,position:"end",type:e.elementInfo.points[1],color:e.elementInfo.color,baseSize:e.elementInfo.width},null,8,["id","type","color","baseSize"])):Object(j["createCommentVNode"])("",!0)]),Object(j["createElementVNode"])("path",{d:e.path,stroke:e.elementInfo.color,"stroke-width":e.elementInfo.width,"stroke-dasharray":e.lineDashArray,fill:"none","stroke-linecap":"","stroke-linejoin":"","stroke-miterlimit":"","marker-start":e.elementInfo.points[0]?"url(#".concat(e.elementInfo.id,"-").concat(e.elementInfo.points[0],"-start)"):"","marker-end":e.elementInfo.points[1]?"url(#".concat(e.elementInfo.id,"-").concat(e.elementInfo.points[1],"-end)"):""},null,8,Ia),Object(j["withDirectives"])(Object(j["createElementVNode"])("path",{class:"line-path",d:e.path,stroke:"transparent","stroke-width":"20",fill:"none",onMousedown:t[0]||(t[0]=function(t){return e.handleSelectElement(t)})},null,40,Va),[[i,e.contextmenus]])]})),_:1},8,["width","height"])],4)],6)}var La=["id","markerWidth","markerHeight","refX","refY"],Ba=["d","fill","transform"];function Ta(e,t,n,o,l,a){return Object(j["openBlock"])(),Object(j["createElementBlock"])("marker",{id:"".concat(e.id,"-").concat(e.type,"-").concat(e.position),markerUnits:"userSpaceOnUse",orient:"auto",markerWidth:3*e.size,markerHeight:3*e.size,refX:1.5*e.size,refY:1.5*e.size},[Object(j["createElementVNode"])("path",{d:e.path,fill:e.color,transform:"scale(".concat(.3*e.size,", ").concat(.3*e.size,") rotate(").concat(e.rotate,", 5, 5)")},null,8,Ba)],8,La)}var Ma={dot:"m0 5a5 5 0 1 0 10 0a5 5 0 1 0 -10 0z",arrow:"M0,0 L10,5 0,10 Z"},_a={"arrow-start":180,"arrow-end":0},Da=Object(j["defineComponent"])({name:"line-point-marker",props:{id:{type:String,required:!0},position:{type:String,required:!0},type:{type:String,required:!0},color:{type:String},baseSize:{type:Number,required:!0}},setup:function(e){var t=Object(j["computed"])((function(){return Ma[e.type]})),n=Object(j["computed"])((function(){return _a["".concat(e.type,"-").concat(e.position)]||0})),o=Object(j["computed"])((function(){return e.baseSize<2?2:e.baseSize}));return{path:t,rotate:n,size:o}}});const za=Bn()(Da,[["render",Ta]]);var Aa=za,Ra=Object(j["defineComponent"])({name:"editable-element-shape",components:{LinePointMarker:Aa},props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup:function(e){var t=function(t){e.elementInfo.lock||(t.stopPropagation(),e.selectElement(t,e.elementInfo))},n=Object(j["computed"])((function(){return e.elementInfo.shadow})),o=jo(n),l=o.shadowStyle,a=Object(j["computed"])((function(){var t=Math.abs(e.elementInfo.start[0]-e.elementInfo.end[0]);return t<24?24:t})),c=Object(j["computed"])((function(){var t=Math.abs(e.elementInfo.start[1]-e.elementInfo.end[1]);return t<24?24:t})),r=Object(j["computed"])((function(){return"dashed"===e.elementInfo.style?"10 6":"0 0"})),i=Object(j["computed"])((function(){return Ae(e.elementInfo)}));return{handleSelectElement:t,shadowStyle:l,svgWidth:a,svgHeight:c,lineDashArray:r,path:i}}});n("0d71");const Fa=Bn()(Ra,[["render",Sa],["__scopeId","data-v-1d4bfa98"]]);var Pa=Fa;function Ha(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("ElementOutline"),r=Object(j["resolveComponent"])("Chart"),i=Object(j["resolveDirective"])("contextmenu");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["editable-element-chart",{lock:e.elementInfo.lock}]),style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[Object(j["withDirectives"])(Object(j["createElementVNode"])("div",{class:"element-content",style:Object(j["normalizeStyle"])({backgroundColor:e.elementInfo.fill}),onMousedown:t[0]||(t[0]=function(t){return e.handleSelectElement(t)}),onDblclick:t[1]||(t[1]=function(t){return e.openDataEditor()})},[Object(j["createVNode"])(c,{width:e.elementInfo.width,height:e.elementInfo.height,outline:e.elementInfo.outline},null,8,["width","height","outline"]),Object(j["createVNode"])(r,{width:e.elementInfo.width,height:e.elementInfo.height,type:e.elementInfo.chartType,data:e.elementInfo.data,options:e.elementInfo.options,themeColor:e.elementInfo.themeColor,gridColor:e.elementInfo.gridColor,legends:e.elementInfo.data.legends,legend:e.elementInfo.legend||""},null,8,["width","height","type","data","options","themeColor","gridColor","legends","legend"])],36),[[i,e.contextmenus]])],4)],6)}function qa(e,t,n,o,l,a){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"chart",style:Object(j["normalizeStyle"])({flexDirection:"top"===e.legend?"column-reverse":"column"})},[Object(j["createElementVNode"])("div",{class:"chart-content",ref:"chartRef",style:Object(j["normalizeStyle"])({width:e.width+"px",height:e.chartHeight+"px",transform:"scale(".concat(1/e.slideScale,")")})},null,4),e.legend?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{key:0,class:"legends",style:Object(j["normalizeStyle"])({transform:"scale(".concat(1/e.slideScale,")")})},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.legends,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"legend",key:n,style:Object(j["normalizeStyle"])({color:e.gridColor})},[Object(j["createElementVNode"])("div",{class:"block",style:Object(j["normalizeStyle"])({backgroundColor:e.themeColors[n]})},null,4),Object(j["createTextVNode"])(" "+Object(j["toDisplayString"])(t),1)],4)})),128))],4)):Object(j["createCommentVNode"])("",!0)],4)}var Wa=n("ba48"),Xa=n.n(Wa),Ga=(n("aa97"),Object(j["defineComponent"])({name:"chart",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},type:{type:String,required:!0},data:{type:Object,required:!0},options:{type:Object},themeColor:{type:Array,required:!0},legends:{type:Array,required:!0},gridColor:{type:String},legend:{type:String}},setup:function(e){var t,n=Object(j["ref"])(),o=Object(j["inject"])("slideScale")||Object(j["ref"])(1),l=Object(j["computed"])((function(){return e.legend?e.height-20:e.height})),a=function(){var t=e.options||{},n=Object(S["a"])(Object(S["a"])({},t),{},{width:e.width*o.value,height:l.value*o.value}),a="pie"===e.type?Object(S["a"])(Object(S["a"])({},e.data),{},{series:e.data.series[0]}):e.data;return{data:a,options:n}},c=function(){if(n.value){var o=Object(Y["upperFirst"])(e.type),l=a(),c=l.data,r=l.options;t=new Xa.a[o](n.value,c,r)}},r=function(){if(t){var e=a(),n=e.data,o=e.options;t.update(n,o)}else c()};Object(j["watch"])([function(){return e.width},function(){return e.height},function(){return e.data},o],r),Object(j["onMounted"])(c);var i=Object(j["computed"])((function(){var t=[];if(e.themeColor.length>=10)t=e.themeColor;else if(1===e.themeColor.length)t=U()(e.themeColor[0]).analogous(10).map((function(e){return e.toHexString()}));else{var n=e.themeColor.length,o=U()(e.themeColor[n-1]).analogous(11-n).map((function(e){return e.toHexString()}));t=[].concat(Object(X["a"])(e.themeColor.slice(0,n-1)),Object(X["a"])(o))}return t})),u=function(){if(n.value)for(var e=0;e<10;e++)n.value.style.setProperty("--theme-color-".concat(e+1),i.value[e])};Object(j["watch"])(i,u),Object(j["onMounted"])(u);var s=function(){n.value&&e.gridColor&&n.value.style.setProperty("--grid-color",e.gridColor)};return Object(j["watch"])((function(){return e.gridColor}),s),Object(j["onMounted"])(s),{chartHeight:l,themeColors:i,slideScale:o,chartRef:n}}}));n("9a8f"),n("383f");const Ua=Bn()(Ga,[["render",qa],["__scopeId","data-v-3ac5559a"]]);var Ya=Ua,Za=Object(j["defineComponent"])({name:"editable-element-chart",components:{ElementOutline:sl,Chart:Ya},props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup:function(e){var t=function(t){e.elementInfo.lock||(t.stopPropagation(),e.selectElement(t,e.elementInfo))},n=function(){$l.emit(pl.OPEN_CHART_DATA_EDITOR)};return{handleSelectElement:t,openDataEditor:n}}});n("b05d");const Ja=Bn()(Za,[["render",Ha],["__scopeId","data-v-c09631b6"]]);var Ka=Ja,Qa={class:"element-content"};function $a(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("EditableTable"),r=Object(j["resolveDirective"])("contextmenu");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["editable-element-table",{lock:e.elementInfo.lock}]),ref:"elementRef",style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px"})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[Object(j["withDirectives"])(Object(j["createElementVNode"])("div",Qa,[Object(j["createVNode"])(c,{onMousedown:t[0]||(t[0]=Object(j["withModifiers"])((function(){}),["stop"])),data:e.elementInfo.data,width:e.elementInfo.width,colWidths:e.elementInfo.colWidths,outline:e.elementInfo.outline,theme:e.elementInfo.theme,editable:e.editable,onChange:t[1]||(t[1]=function(t){return e.updateTableCells(t)}),onChangeColWidths:t[2]||(t[2]=function(t){return e.updateColWidths(t)}),onChangeSelectedCells:t[3]||(t[3]=function(t){return e.updateSelectedCells(t)})},null,8,["data","width","colWidths","outline","theme","editable"]),!e.editable||e.elementInfo.lock?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{key:0,class:Object(j["normalizeClass"])(["table-mask",{lock:e.elementInfo.lock}]),onDblclick:t[4]||(t[4]=function(t){return e.startEdit()}),onMousedown:t[5]||(t[5]=function(t){return e.handleSelectElement(t)})},[Object(j["createElementVNode"])("div",{class:"mask-tip",style:Object(j["normalizeStyle"])({transform:"scale(".concat(1/e.canvasScale,")")})},"双击编辑",4)],34)):Object(j["createCommentVNode"])("",!0)],512),[[r,e.contextmenus]])],4)],6)}var ec={key:0,class:"handler"},tc=["onMousedown"],nc=["width"],oc=["rowspan","colspan","data-cell-index","onMousedown","onMouseenter"],lc=["innerHTML"];function ac(e,t,n,o,l,a){var c,r,i,u,s,d=Object(j["resolveComponent"])("CustomTextarea"),f=Object(j["resolveDirective"])("contextmenu");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"editable-table",style:Object(j["normalizeStyle"])({width:e.totalWidth+"px"})},[e.editable?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",ec,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.dragLinePosition,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"drag-line",key:n,style:Object(j["normalizeStyle"])({left:t+"px"}),onMousedown:function(t){return e.handleMousedownColHandler(t,n)}},null,44,tc)})),128))])):Object(j["createCommentVNode"])("",!0),Object(j["createElementVNode"])("table",{class:Object(j["normalizeClass"])({theme:e.theme,"row-header":null===(c=e.theme)||void 0===c?void 0:c.rowHeader,"row-footer":null===(r=e.theme)||void 0===r?void 0:r.rowFooter,"col-header":null===(i=e.theme)||void 0===i?void 0:i.colHeader,"col-footer":null===(u=e.theme)||void 0===u?void 0:u.colFooter}),style:Object(j["normalizeStyle"])("--themeColor: ".concat(null===(s=e.theme)||void 0===s?void 0:s.color,"; --subThemeColor1: ").concat(e.subThemeColor[0],"; --subThemeColor2: ").concat(e.subThemeColor[1]))},[Object(j["createElementVNode"])("colgroup",null,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.colSizeList,(function(e,t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("col",{span:"1",key:t,width:e},null,8,nc)})),128))]),Object(j["createElementVNode"])("tbody",null,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.tableCells,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("tr",{key:n},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(t,(function(t,o){return Object(j["withDirectives"])((Object(j["openBlock"])(),Object(j["createElementBlock"])("td",{class:Object(j["normalizeClass"])(["cell",{selected:e.selectedCells.includes("".concat(n,"_").concat(o))&&e.selectedCells.length>1,active:e.activedCell==="".concat(n,"_").concat(o)}]),style:Object(j["normalizeStyle"])(Object(S["a"])({borderStyle:e.outline.style,borderColor:e.outline.color,borderWidth:e.outline.width+"px"},e.getTextStyle(t.style))),key:t.id,rowspan:t.rowspan,colspan:t.colspan,"data-cell-index":"".concat(n,"_").concat(o),onMousedown:function(t){return e.handleCellMousedown(t,n,o)},onMouseenter:function(t){return e.handleCellMouseenter(n,o)}},[e.activedCell==="".concat(n,"_").concat(o)?(Object(j["openBlock"])(),Object(j["createBlock"])(d,{key:0,class:Object(j["normalizeClass"])(["cell-text",{active:e.activedCell==="".concat(n,"_").concat(o)}]),contenteditable:"plaintext-only",value:t.text,onUpdateValue:function(t){return e.handleInput(t,n,o)},onInsertExcelData:function(t){return e.insertExcelData(t,n,o)}},null,8,["class","value","onUpdateValue","onInsertExcelData"])):(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{key:1,class:"cell-text",innerHTML:e.formatText(t.text)},null,8,lc))],46,oc)),[[j["vShow"],!e.hideCells.includes("".concat(n,"_").concat(o))],[f,function(t){return e.contextmenus(t)}]])})),128))])})),128))])],6)],4)}var cc=function(e){if(!e)return{};var t=e.bold,n=e.em,o=e.underline,l=e.strikethrough,a=e.color,c=e.backcolor,r=e.fontsize,i=e.fontname,u=e.align,s="".concat(o?"underline":""," ").concat(l?"line-through":"");return" "===s&&(s="none"),{fontWeight:t?"bold":"normal",fontStyle:n?"italic":"normal",textDecoration:s,color:a||"#000",backgroundColor:c||"",fontSize:r||"14px",fontFamily:i||"微软雅黑",textAlign:u||"left"}},rc=function(e){return e.replace(/\n/g,"</br>").replace(/ /g,"&nbsp;")},ic=function(e){var t=Object(j["computed"])((function(){for(var t=[],n=0;n<e.value.length;n++)for(var o=e.value[n],l=0;l<o.length;l++){var a=o[l];if(a.colspan>1||a.rowspan>1)for(var c=n;c<n+a.rowspan;c++)for(var r=c===n?l+1:l;r<l+a.colspan;r++)t.push("".concat(c,"_").concat(r))}return t}));return{hideCells:t}},uc=function(e){var t=Object(j["ref"])(["",""]);return Object(j["watch"])((function(){return e.value}),(function(){e.value&&(t.value=ze(e.value.color))}),{immediate:!0}),{subThemeColor:t}},sc=["contenteditable","innerHTML"];function dc(e,t,n,o,l,a){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"custom-textarea",ref:"textareaRef",contenteditable:e.contenteditable,onFocus:t[0]||(t[0]=function(){return e.handleFocus&&e.handleFocus.apply(e,arguments)}),onBlur:t[1]||(t[1]=function(){return e.handleBlur&&e.handleBlur.apply(e,arguments)}),onInput:t[2]||(t[2]=function(t){return e.handleInput(t)}),innerHTML:e.text},null,40,sc)}var fc=Object(j["defineComponent"])({name:"custom-textarea",emits:["updateValue","insertExcelData"],props:{value:{type:String,default:""},contenteditable:{type:[Boolean,String],default:!1}},setup:function(e,t){var n=t.emit,o=Object(j["ref"])(),l=Object(j["ref"])(""),a=Object(j["ref"])(!1);Object(j["watch"])((function(){return e.value}),(function(){a.value||(l.value=e.value,o.value&&(o.value.innerHTML=e.value))}),{immediate:!0});var c=function(){if(o.value){var e=o.value.innerHTML;n("updateValue",e)}},r=function(){a.value=!0,o.value&&(o.value.onpaste=function(e){if(e.preventDefault(),e.clipboardData){var t=e.clipboardData.items[0];t&&"string"===t.kind&&"text/plain"===t.type&&t.getAsString((function(e){var t=Ve(e);if("object"!==Object(Re["a"])(t)){var l=Se(e);if(l)return n("insertExcelData",l),void(o.value&&(o.value.innerHTML=l[0][0]));n("updateValue",e),document.execCommand("insertText",!1,e)}}))}})},i=function(){a.value=!1,o.value&&(o.value.onpaste=null)};return Object(j["onUnmounted"])((function(){o.value&&(o.value.onpaste=null)})),{textareaRef:o,handleFocus:r,handleInput:c,handleBlur:i,text:l}}});n("f33f");const pc=Bn()(fc,[["render",dc],["__scopeId","data-v-59f468e0"]]);var mc=pc,bc=Object(j["defineComponent"])({name:"editable-table",emits:["change","changeColWidths","changeSelectedCells"],components:{CustomTextarea:mc},props:{data:{type:Array,required:!0},width:{type:Number,required:!0},colWidths:{type:Array,required:!0},outline:{type:Object,required:!0},theme:{type:Object},editable:{type:Boolean,default:!0}},setup:function(e,t){var n=t.emit,o=Object(g["c"])($()),l=o.canvasScale,a=Object(j["ref"])(!1),c=Object(j["ref"])([]),r=Object(j["ref"])([]),i=Object(j["computed"])({get:function(){return e.data},set:function(e){n("change",e)}}),u=Object(j["computed"])((function(){return e.theme})),s=uc(u),d=s.subThemeColor,f=Object(j["ref"])([]),p=Object(j["computed"])((function(){return f.value.reduce((function(e,t){return e+t}))}));Object(j["watch"])([function(){return e.colWidths},function(){return e.width}],(function(){f.value=e.colWidths.map((function(t){return t*e.width}))}),{immediate:!0});var m=function(){c.value=[],r.value=[]};Object(j["watch"])((function(){return e.editable}),(function(){e.editable||m()}));var b=Object(j["computed"])((function(){for(var e=[],t=1;t<f.value.length+1;t++){var n=f.value.slice(0,t).reduce((function(e,t){return e+t}));e.push(n)}return e})),v=Object(j["computed"])((function(){return e.data})),h=ic(v),O=h.hideCells,y=Object(j["computed"])((function(){if(!c.value.length)return[];var e=Object(zt["a"])(c.value,2),t=e[0],n=e[1];if(!r.value.length)return["".concat(t,"_").concat(n)];var o=Object(zt["a"])(r.value,2),l=o[0],a=o[1];if(t===l&&n===a)return["".concat(t,"_").concat(n)];for(var u=[],s=Math.min(t,l),d=Math.min(n,a),f=Math.max(t,l),p=Math.max(n,a),m=0;m<i.value.length;m++)for(var b=i.value[m],v=0;v<b.length;v++)m>=s&&m<=f&&v>=d&&v<=p&&u.push("".concat(m,"_").concat(v));return u}));Object(j["watch"])(y,(function(e,t){Object(Y["isEqual"])(e,t)||n("changeSelectedCells",y.value)}));var x=Object(j["computed"])((function(){return y.value.length>1?null:y.value[0]})),C=Object(j["computed"])((function(){if(!c.value.length)return null;var e=Object(zt["a"])(c.value,2),t=e[0],n=e[1];if(!r.value.length)return{row:[t,t],col:[n,n]};var o=Object(zt["a"])(r.value,2),l=o[0],a=o[1];if(t===l&&n===a)return{row:[t,t],col:[n,n]};var i=Math.min(t,l),u=Math.min(n,a),s=Math.max(t,l),d=Math.max(n,a);return{row:[i,s],col:[u,d]}})),k=function(){return a.value=!1},w=function(e,t,n){0===e.button&&(r.value=[],a.value=!0,c.value=[t,n])},E=function(e,t){a.value&&(r.value=[e,t])};Object(j["onMounted"])((function(){document.addEventListener("mouseup",k)})),Object(j["onUnmounted"])((function(){document.removeEventListener("mouseup",k)}));var I=function(e,t){return O.value.includes("".concat(e,"_").concat(t))},V=function(e){var t=i.value.length-1;c.value=[0,e],r.value=[t,e]},L=function(e){var t=i.value[e].length-1;c.value=[e,0],r.value=[e,t]},B=function(){var e=i.value.length-1,t=i.value[e].length-1;c.value=[0,0],r.value=[e,t]},T=function(e){for(var t=JSON.parse(JSON.stringify(i.value)),n=i.value[e],o=[],l=0;l<n.length;l++)I(e,l)&&o.push(l);for(var a=0,c=o;a<c.length;a++)for(var r=c[a],u=e;u>=0;u--)if(!I(u,r)){t[u][r].rowspan=t[u][r].rowspan-1;break}t.splice(e,1),i.value=t},M=function(e){for(var t=JSON.parse(JSON.stringify(i.value)),o=[],l=0;l<i.value.length;l++)I(l,e)&&o.push(l);for(var a=0,c=o;a<c.length;a++)for(var r=c[a],u=e;u>=0;u--)if(!I(r,u)){t[r][u].colspan=t[r][u].colspan-1;break}i.value=t.map((function(t){return t.splice(e,1),t})),f.value.splice(e,1),n("changeColWidths",f.value)},_=function(e){for(var t=JSON.parse(JSON.stringify(i.value)),n=[],o=0;o<t[0].length;o++)n.push({colspan:1,rowspan:1,text:"",id:Oe()});t.splice(e,0,n),i.value=t},D=function(e){i.value=i.value.map((function(t){var n={colspan:1,rowspan:1,text:"",id:Oe()};return t.splice(e,0,n),t})),f.value.splice(e,0,100),n("changeColWidths",f.value)},z=function(e,t){var o=JSON.parse(JSON.stringify(i.value)),l={colspan:1,rowspan:1,text:""};if(e){for(var a=[],c=0;c<e;c++){for(var r=[],u=0;u<o[0].length;u++)r.push(Object(S["a"])(Object(S["a"])({},l),{},{id:Oe()}));a.push(r)}o=[].concat(Object(X["a"])(o),a)}t&&(o=o.map((function(e){for(var n=[],o=0;o<t;o++){var a=Object(S["a"])(Object(S["a"])({},l),{},{id:Oe()});n.push(a)}return[].concat(Object(X["a"])(e),n)})),f.value=[].concat(Object(X["a"])(f.value),Object(X["a"])(new Array(t).fill(100))),n("changeColWidths",f.value)),i.value=o},A=function(){var e=Object(zt["a"])(c.value,2),t=e[0],n=e[1],o=Object(zt["a"])(r.value,2),l=o[0],a=o[1],u=Math.min(t,l),s=Math.min(n,a),d=Math.max(t,l),f=Math.max(n,a),p=JSON.parse(JSON.stringify(i.value));p[u][s].rowspan=d-u+1,p[u][s].colspan=f-s+1,i.value=p,m()},R=function(e,t){var n=JSON.parse(JSON.stringify(i.value));n[e][t].rowspan=1,n[e][t].colspan=1,i.value=n,m()},F=function(e,t){m();var o=!0,a=f.value[t],c=e.pageX,r=50;document.onmousemove=function(e){if(o){var n=(e.pageX-c)/l.value,i=a+n<r?r:Math.round(a+n);f.value[t]=i}},document.onmouseup=function(){o=!1,document.onmousemove=null,document.onmouseup=null,n("changeColWidths",f.value)}},P=function(){for(var e=JSON.parse(JSON.stringify(i.value)),t=0;t<e.length;t++)for(var n=0;n<e[t].length;n++)y.value.includes("".concat(t,"_").concat(n))&&(e[t][n].text="");i.value=e},H=function(){var e=function e(t,n){return i.value[t]?i.value[t][n]?I(t,n)?e(t,n+1):[t,n]:e(t+1,0):null};r.value=[];var t=c.value[0],n=c.value[1]+1,o=e(t,n);o?c.value=o:(_(t+1),c.value=[t+1,0]),Object(j["nextTick"])((function(){var e=document.querySelector(".cell-text.active");e&&e.focus()}))},q=function(t){if(e.editable&&y.value.length){var n=t.key.toUpperCase();if(y.value.length<2){if(n===N.TAB&&(t.preventDefault(),H()),t.ctrlKey&&n===N.UP){t.preventDefault();var o=+y.value[0].split("_")[0];_(o)}if(t.ctrlKey&&n===N.DOWN){t.preventDefault();var l=+y.value[0].split("_")[0];_(l+1)}if(t.ctrlKey&&n===N.LEFT){t.preventDefault();var a=+y.value[0].split("_")[1];D(a)}if(t.ctrlKey&&n===N.RIGHT){t.preventDefault();var c=+y.value[0].split("_")[1];D(c+1)}}else n===N.DELETE&&P()}};Object(j["onMounted"])((function(){document.addEventListener("keydown",q)})),Object(j["onUnmounted"])((function(){document.removeEventListener("keydown",q)}));var W=Object(Y["debounce"])((function(e,t,o){i.value[t][o].text=e,n("change",i.value)}),300,{trailing:!0}),G=function(e,t,o){var l=e.length,a=e[0].length,c=0,r=0;t+l>i.value.length&&(c=t+l-i.value.length),o+a>i.value[0].length&&(r=o+a-i.value[0].length),(c||r)&&z(c,r),Object(j["nextTick"])((function(){for(var c=0;c<l;c++)for(var r=0;r<a;r++)i.value[t+c][o+r]&&(i.value[t+c][o+r].text=e[c][r]);n("change",i.value)}))},U=function(){for(var e=[],t=0;t<i.value.length;t++){for(var n=i.value[t],o=[],l=0;l<n.length;l++)I(t,l)||o.push(n[l]);o.length&&e.push(o)}return e},Z=function(){var e=U(),t=e.length>1,n=e[0].length>1;return{canDeleteRow:t,canDeleteCol:n}},J=function(e,t){var n=y.value.length>1,o=i.value[e][t],l=n,a=!n&&(o.rowspan>1||o.colspan>1);return{canMerge:l,canSplit:a}},K=function(e){var t=e.dataset.cellIndex,n=+t.split("_")[0],o=+t.split("_")[1];y.value.includes("".concat(n,"_").concat(o))||(c.value=[n,o],r.value=[]);var l=J(n,o),a=l.canMerge,i=l.canSplit,u=Z(),s=u.canDeleteRow,d=u.canDeleteCol;return[{text:"插入列",children:[{text:"到左侧",handler:function(){return D(o)}},{text:"到右侧",handler:function(){return D(o+1)}}]},{text:"插入行",children:[{text:"到上方",handler:function(){return _(n)}},{text:"到下方",handler:function(){return _(n+1)}}]},{text:"删除列",disable:!d,handler:function(){return M(o)}},{text:"删除行",disable:!s,handler:function(){return T(n)}},{divider:!0},{text:"合并单元格",disable:!a,handler:A},{text:"取消合并单元格",disable:!i,handler:function(){return R(n,o)}},{divider:!0},{text:"选中当前列",handler:function(){return V(o)}},{text:"选中当前行",handler:function(){return L(n)}},{text:"选中全部单元格",handler:B}]};return{getTextStyle:cc,dragLinePosition:b,tableCells:i,colSizeList:f,totalWidth:p,hideCells:O,selectedCells:y,activedCell:x,selectedRange:C,handleCellMousedown:w,handleCellMouseenter:E,selectCol:V,selectRow:L,handleMousedownColHandler:F,contextmenus:K,handleInput:W,insertExcelData:G,subThemeColor:d,formatText:rc}}});n("9909");const vc=Bn()(bc,[["render",ac],["__scopeId","data-v-17d21c4b"]]);var hc=vc,Oc=Object(j["defineComponent"])({name:"editable-element-table",components:{EditableTable:hc},props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup:function(e){var t=$(),n=Q(),o=Object(g["c"])(t),l=o.canvasScale,a=o.handleElementId,c=o.isScaling,r=Object(j["ref"])(),i=Pe(),u=i.addHistorySnapshot,s=function(t){e.elementInfo.lock||(t.stopPropagation(),e.selectElement(t,e.elementInfo))},d=Object(j["ref"])(!1);Object(j["watch"])(a,(function(){a.value!==e.elementInfo.id&&(d.value=!1)})),Object(j["watch"])(d,(function(){t.setDisableHotkeysState(d.value)}));var f=function(){e.elementInfo.lock||(d.value=!0)},p=Object(j["ref"])(-1);Object(j["watch"])(c,(function(){a.value===e.elementInfo.id&&(c.value&&(d.value=!1),c.value||-1===p.value||(n.updateElement({id:e.elementInfo.id,props:{height:p.value}}),p.value=-1))}));var m=function(t){var o=t[0].contentRect;if(r.value){var l=o.height;e.elementInfo.height!==l&&(c.value?p.value=l:n.updateElement({id:e.elementInfo.id,props:{height:l}}))}},b=new ResizeObserver(m);Object(j["onMounted"])((function(){r.value&&b.observe(r.value)})),Object(j["onUnmounted"])((function(){r.value&&b.unobserve(r.value)}));var v=function(t){n.updateElement({id:e.elementInfo.id,props:{data:t}}),u()},h=function(t){var o=t.reduce((function(e,t){return e+t})),l=t.map((function(e){return e/o}));n.updateElement({id:e.elementInfo.id,props:{width:o,colWidths:l}}),u()},O=function(e){Object(j["nextTick"])((function(){return t.setSelectedTableCells(e)}))};return{elementRef:r,canvasScale:l,handleSelectElement:s,updateTableCells:v,updateColWidths:h,editable:d,startEdit:f,updateSelectedCells:O}}});n("11f0");const jc=Bn()(Oc,[["render",$a],["__scopeId","data-v-426704b7"]]);var gc=jc,yc=["transform"],xc=["d"];function Cc(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("SvgWrapper"),r=Object(j["resolveDirective"])("contextmenu");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["editable-element-latex",{lock:e.elementInfo.lock}]),style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[Object(j["withDirectives"])(Object(j["createElementVNode"])("div",{class:"element-content",onMousedown:t[0]||(t[0]=function(t){return e.handleSelectElement(t)}),onDblclick:t[1]||(t[1]=function(t){return e.openLatexEditor()})},[Object(j["createVNode"])(c,{overflow:"visible",width:e.elementInfo.width,height:e.elementInfo.height,stroke:e.elementInfo.color,"stroke-width":e.elementInfo.strokeWidth,fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("g",{transform:"scale(".concat(e.elementInfo.width/e.elementInfo.viewBox[0],", ").concat(e.elementInfo.height/e.elementInfo.viewBox[1],") translate(0,0) matrix(1,0,0,1,0,0)")},[Object(j["createElementVNode"])("path",{d:e.elementInfo.path},null,8,xc)],8,yc)]})),_:1},8,["width","height","stroke","stroke-width"])],544),[[r,e.contextmenus]])],4)],6)}var kc=Object(j["defineComponent"])({name:"editable-element-latex",props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup:function(e){var t=function(t){e.elementInfo.lock||(t.stopPropagation(),e.selectElement(t,e.elementInfo))},n=function(){$l.emit(pl.OPEN_LATEX_EDITOR)};return{handleSelectElement:t,openLatexEditor:n}}});n("752d");const wc=Bn()(kc,[["render",Cc],["__scopeId","data-v-60b1b1f4"]]);var Ec=wc;function Nc(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("VideoPlayer"),r=Object(j["resolveDirective"])("contextmenu");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["editable-element-video",{lock:e.elementInfo.lock}]),style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[Object(j["withDirectives"])(Object(j["createElementVNode"])("div",{class:"element-content",onMousedown:t[1]||(t[1]=function(t){return e.handleSelectElement(t,!1)})},[Object(j["createVNode"])(c,{width:e.elementInfo.width,height:e.elementInfo.height,src:e.elementInfo.src,poster:e.elementInfo.poster,scale:e.canvasScale},null,8,["width","height","src","poster","scale"]),(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(["t","b","l","r"],(function(n){return Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["handler-border",n]),key:n,onMousedown:t[0]||(t[0]=function(t){return e.handleSelectElement(t)})},null,34)})),64))],544),[[r,e.contextmenus]])],4)],6)}var Ic=function(e){return Object(j["pushScopeId"])("data-v-19996a45"),e=e(),Object(j["popScopeId"])(),e},Vc=["src","poster"],Sc={class:"bezel"},Lc=Ic((function(){return Object(j["createElementVNode"])("div",{class:"controller-mask"},null,-1)})),Bc={class:"controller"},Tc={class:"icons icons-left"},Mc={class:"icon-content"},_c={class:"volume"},Dc={class:"icon-content"},zc={class:"volume-bar",ref:"volumeBarRef"},Ac=Ic((function(){return Object(j["createElementVNode"])("span",{class:"thumb"},null,-1)})),Rc=[Ac],Fc={class:"time"},Pc={class:"ptime"},Hc=Object(j["createTextVNode"])(" / "),qc={class:"dtime"},Wc={class:"icons icons-right"},Xc={class:"speed"},Gc={class:"icon speed-icon"},Uc=["onClick"],Yc=Ic((function(){return Object(j["createElementVNode"])("span",{class:"icon-content"},"循环",-1)})),Zc=[Yc],Jc={class:"bar"},Kc=Ic((function(){return Object(j["createElementVNode"])("span",{class:"thumb"},null,-1)})),Qc=[Kc];function $c(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("IconPause"),r=Object(j["resolveComponent"])("IconPlayOne"),i=Object(j["resolveComponent"])("IconVolumeMute"),u=Object(j["resolveComponent"])("IconVolumeNotice"),s=Object(j["resolveComponent"])("IconVolumeSmall");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["player",{"hide-controller":e.hideController}]),style:Object(j["normalizeStyle"])({width:e.width*e.scale+"px",height:e.height*e.scale+"px",transform:"scale(".concat(1/e.scale,")")}),ref:"containerRef",onMousemove:t[22]||(t[22]=function(t){return e.autoHideController()}),onClick:t[23]||(t[23]=function(t){return e.autoHideController()})},[Object(j["createElementVNode"])("div",{class:"video-wrap",onClick:t[8]||(t[8]=function(t){return e.toggle()})},[Object(j["createElementVNode"])("video",{class:"video",ref:"videoRef",src:e.src,poster:e.poster,"webkit-playsinline":"",playsinline:"",onDurationchange:t[0]||(t[0]=function(t){return e.handleDurationchange()}),onTimeupdate:t[1]||(t[1]=function(t){return e.handleTimeupdate()}),onEnded:t[2]||(t[2]=function(t){return e.handleEnded()}),onProgress:t[3]||(t[3]=function(t){return e.handleProgress()}),onPlay:t[4]||(t[4]=function(t){return e.autoHideController()}),onPause:t[5]||(t[5]=function(t){return e.autoHideController()}),onError:t[6]||(t[6]=function(t){return e.handleError()})},null,40,Vc),Object(j["createElementVNode"])("div",Sc,[Object(j["createElementVNode"])("span",{class:Object(j["normalizeClass"])(["bezel-icon",{"bezel-transition":e.bezelTransition}]),onAnimationend:t[7]||(t[7]=function(t){return e.bezelTransition=!1})},[e.paused?(Object(j["openBlock"])(),Object(j["createBlock"])(c,{key:0})):(Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:1}))],34)])]),Lc,Object(j["createElementVNode"])("div",Bc,[Object(j["createElementVNode"])("div",Tc,[Object(j["createElementVNode"])("div",{class:"icon play-icon",onClick:t[9]||(t[9]=function(t){return e.toggle()})},[Object(j["createElementVNode"])("span",Mc,[e.paused?(Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:0})):(Object(j["openBlock"])(),Object(j["createBlock"])(c,{key:1}))])]),Object(j["createElementVNode"])("div",_c,[Object(j["createElementVNode"])("div",{class:"icon volume-icon",onClick:t[10]||(t[10]=function(t){return e.toggleVolume()})},[Object(j["createElementVNode"])("span",Dc,[0===e.volume?(Object(j["openBlock"])(),Object(j["createBlock"])(i,{key:0})):1===e.volume?(Object(j["openBlock"])(),Object(j["createBlock"])(u,{key:1})):(Object(j["openBlock"])(),Object(j["createBlock"])(s,{key:2}))])]),Object(j["createElementVNode"])("div",{class:"volume-bar-wrap",onMousedown:t[11]||(t[11]=function(t){return e.handleMousedownVolumeBar(t)}),onTouchstart:t[12]||(t[12]=function(t){return e.handleMousedownVolumeBar(t)}),onClick:t[13]||(t[13]=function(t){return e.handleClickVolumeBar(t)})},[Object(j["createElementVNode"])("div",zc,[Object(j["createElementVNode"])("div",{class:"volume-bar-inner",style:Object(j["normalizeStyle"])({width:e.volumeBarWidth})},Rc,4)],512)],32)]),Object(j["createElementVNode"])("span",Fc,[Object(j["createElementVNode"])("span",Pc,Object(j["toDisplayString"])(e.ptime),1),Hc,Object(j["createElementVNode"])("span",qc,Object(j["toDisplayString"])(e.dtime),1)])]),Object(j["createElementVNode"])("div",Wc,[Object(j["createElementVNode"])("div",Xc,[Object(j["createElementVNode"])("div",Gc,[Object(j["createElementVNode"])("span",{class:"icon-content",onClick:t[14]||(t[14]=function(t){return e.speedMenuVisible=!e.speedMenuVisible})},"倍速"),e.speedMenuVisible?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{key:0,class:"speed-menu",onMouseleave:t[15]||(t[15]=function(t){return e.speedMenuVisible=!1})},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.speedOptions,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["speed-menu-item",{active:t.value===e.playbackRate}]),key:t.label,onClick:function(n){return e.speed(t.value)}},Object(j["toDisplayString"])(t.label),11,Uc)})),128))],32)):Object(j["createCommentVNode"])("",!0)])]),Object(j["createElementVNode"])("div",{class:"loop",onClick:t[16]||(t[16]=function(t){return e.toggleLoop()})},[Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["icon loop-icon",{active:e.loop}])},Zc,2)])]),Object(j["createElementVNode"])("div",{class:"bar-wrap",ref:"playBarWrap",onMousedown:t[17]||(t[17]=function(t){return e.handleMousedownPlayBar(t)}),onTouchstart:t[18]||(t[18]=function(t){return e.handleMousedownPlayBar(t)}),onMousemove:t[19]||(t[19]=function(t){return e.handleMousemovePlayBar(t)}),onMouseenter:t[20]||(t[20]=function(t){return e.playBarTimeVisible=!0}),onMouseleave:t[21]||(t[21]=function(t){return e.playBarTimeVisible=!1})},[Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["bar-time",{hidden:!e.playBarTimeVisible}]),style:Object(j["normalizeStyle"])({left:e.playBarTimeLeft})},Object(j["toDisplayString"])(e.playBarTime),7),Object(j["createElementVNode"])("div",Jc,[Object(j["createElementVNode"])("div",{class:"loaded",style:Object(j["normalizeStyle"])({width:e.loadedBarWidth})},null,4),Object(j["createElementVNode"])("div",{class:"played",style:Object(j["normalizeStyle"])({width:e.playedBarWidth})},Qc,4)])],544)])],38)}var er=function(e,t){Object(j["onMounted"])((function(){if(t.value){var n="normal";if(/m3u8(#|\?|$)/i.exec(e)?n="hls":/.flv(#|\?|$)/i.exec(e)&&(n="flv"),t.value&&"hls"===n&&(t.value.canPlayType("application/x-mpegURL")||t.value.canPlayType("application/vnd.apple.mpegURL"))&&(n="normal"),"hls"===n){var o=window.Hls;if(o&&o.isSupported()){var l=new o;l.loadSource(e),l.attachMedia(t.value)}}else if("flv"===n){var a=window.flvjs;if(a&&a.isSupported()){var c=a.createPlayer({type:"flv",url:e});c.attachMediaElement(t.value),c.load()}}}}))},tr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(0===e||isNaN(e))return"00:00";var t=function(e){return e<10?"0"+e:""+e},n=Math.floor(e/3600),o=Math.floor((e-3600*n)/60),l=Math.floor(e-3600*n-60*o);return(n>0?[n,o,l]:[o,l]).map(t).join(":")},nr=function(e){return e.getBoundingClientRect().left},or=Object(j["defineComponent"])({name:"Player",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},src:{type:String,required:!0},poster:{type:String,default:""},scale:{type:Number,default:1}},setup:function(e){var t=Object(j["ref"])(),n=Object(j["ref"])(),o=Object(j["ref"])(),l=Object(j["ref"])(),a=Object(j["ref"])(.5),c=Object(j["ref"])(!0),r=Object(j["ref"])(0),i=Object(j["ref"])(0),u=Object(j["ref"])(0),s=Object(j["ref"])(!1),d=Object(j["ref"])(!1),f=Object(j["ref"])(1),p=Object(j["ref"])(!1),m=Object(j["ref"])("00:00"),b=Object(j["ref"])("0"),v=Object(j["computed"])((function(){return tr(r.value)})),h=Object(j["computed"])((function(){return tr(i.value)})),O=Object(j["computed"])((function(){return r.value/i.value*100+"%"})),g=Object(j["computed"])((function(){return u.value/i.value*100+"%"})),y=Object(j["computed"])((function(){return 100*a.value+"%"})),x=Object(j["ref"])(!1),C=[{label:"2x",value:2},{label:"1.5x",value:1.5},{label:"1.25x",value:1.25},{label:"1x",value:1},{label:"0.75x",value:.75},{label:"0.5x",value:.5}],k=function(e){n.value&&(e=Math.max(e,0),e=Math.min(e,i.value),n.value.currentTime=e,r.value=e)},w=function(){n.value&&(c.value=!1,n.value.play(),d.value=!0)},E=function(){n.value&&(c.value=!0,n.value.pause(),d.value=!0)},N=function(){c.value?w():E()},I=function(e){n.value&&(e=Math.max(e,0),e=Math.min(e,1),n.value.volume=e,a.value=e,n.value.muted&&0!==e&&(n.value.muted=!1))},V=function(e){n.value&&(n.value.playbackRate=e),f.value=e},S=function(){var e;i.value=(null===(e=n.value)||void 0===e?void 0:e.duration)||0},L=function(){var e;r.value=(null===(e=n.value)||void 0===e?void 0:e.currentTime)||0},B=function(){s.value?(k(0),w()):E()},T=function(){var e;u.value=null!==(e=n.value)&&void 0!==e&&e.buffered.length?n.value.buffered.end(n.value.buffered.length-1):0},M=function(){return he["a"].error("视频加载失败")},_=function(e){if(n.value&&o.value){var t="clientX"in e?e.clientX:e.changedTouches[0].clientX,l=(t-nr(o.value))/o.value.clientWidth;l=Math.max(l,0),l=Math.min(l,1);var a=l*i.value;n.value.currentTime=a,r.value=a}},D=function e(t){if(n.value&&o.value){var l="clientX"in t?t.clientX:t.changedTouches[0].clientX,a=(l-nr(o.value))/o.value.clientWidth;a=Math.max(a,0),a=Math.min(a,1);var c=a*i.value;n.value.currentTime=c,r.value=c,document.removeEventListener("mousemove",_),document.removeEventListener("touchmove",_),document.removeEventListener("mouseup",e),document.removeEventListener("touchend",e)}},z=function(){document.addEventListener("mousemove",_),document.addEventListener("touchmove",_),document.addEventListener("mouseup",D),document.addEventListener("touchend",D)},A=function(e){if(l.value){var t="clientX"in e?e.clientX:e.changedTouches[0].clientX,n=(t-nr(l.value)-5.5)/35;I(n)}},R=function e(){document.removeEventListener("mousemove",A),document.removeEventListener("touchmove",A),document.removeEventListener("mouseup",e),document.removeEventListener("touchend",e)},F=function(){document.addEventListener("mousemove",A),document.addEventListener("touchmove",A),document.addEventListener("mouseup",R),document.addEventListener("touchend",R)},P=function(e){if(l.value){var t=(e.clientX-nr(l.value)-5.5)/35;I(t)}},H=function(e){if(i.value&&o.value){var t=o.value.getBoundingClientRect().left,n=e.clientX-t;if(n<0||n>o.value.offsetWidth)return;var l=i.value*(n/o.value.offsetWidth);b.value="".concat(n-(l>=3600?25:20),"px"),m.value=tr(l),p.value=!0}},q=function(){n.value&&(n.value.muted?(n.value.muted=!1,I(.5)):(n.value.muted=!0,I(0)))},W=function(){s.value=!s.value},X=Object(j["ref"])(-1),G=Object(j["ref"])(!1),U=function(){G.value=!1,clearTimeout(X.value),X.value=setTimeout((function(){var e;null!==(e=n.value)&&void 0!==e&&e.played.length&&(G.value=!0)}),3e3)};return er(e.src,n),{containerRef:t,videoRef:n,playBarWrap:o,volumeBarRef:l,volume:a,loop:s,paused:c,ptime:v,dtime:h,playBarTime:m,playBarTimeVisible:p,playBarTimeLeft:b,playedBarWidth:O,loadedBarWidth:g,volumeBarWidth:y,hideController:G,bezelTransition:d,playbackRate:f,speedMenuVisible:x,speedOptions:C,seek:k,play:w,pause:E,toggle:N,setVolume:I,speed:V,handleDurationchange:S,handleTimeupdate:L,handleEnded:B,handleProgress:T,handleMousedownPlayBar:z,handleMousedownVolumeBar:F,handleClickVolumeBar:P,handleMousemovePlayBar:H,toggleVolume:q,toggleLoop:W,autoHideController:U,handleError:M}}});n("715e");const lr=Bn()(or,[["render",$c],["__scopeId","data-v-19996a45"]]);var ar=lr,cr=Object(j["defineComponent"])({name:"editable-element-video",components:{VideoPlayer:ar},props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup:function(e){var t=Object(g["c"])($()),n=t.canvasScale,o=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.elementInfo.lock||(t.stopPropagation(),e.selectElement(t,e.elementInfo,n))};return{canvasScale:n,handleSelectElement:o}}});n("de30");const rr=Bn()(cr,[["render",Nc],["__scopeId","data-v-7f80f8ee"]]);var ir=rr,ur=Object(j["defineComponent"])({name:"editable-element",props:{elementInfo:{type:Object,required:!0},elementIndex:{type:Number,required:!0},isMultiSelect:{type:Boolean,required:!0},selectElement:{type:Function,required:!0},openLinkDialog:{type:Function,required:!0}},setup:function(e){var t=Object(j["computed"])((function(){var t,n=(t={},Object(ae["a"])(t,po.IMAGE,ll),Object(ae["a"])(t,po.TEXT,ua),Object(ae["a"])(t,po.SHAPE,Na),Object(ae["a"])(t,po.LINE,Pa),Object(ae["a"])(t,po.CHART,Ka),Object(ae["a"])(t,po.TABLE,gc),Object(ae["a"])(t,po.LATEX,Ec),Object(ae["a"])(t,po.VIDEO,ir),t);return n[e.elementInfo.type]||null})),n=et(),o=n.orderElement,l=mo(),a=l.alignElementToCanvas,c=Je(),r=c.combineElements,i=c.uncombineElements,u=Ze(),s=u.deleteElement,d=Ye(),f=d.lockElement,p=d.unlockElement,m=Ke(),b=m.copyElement,v=m.pasteElement,h=m.cutElement,O=Qe(),g=O.selectAllElement,y=function(){return e.elementInfo.lock?[{text:"解锁",handler:function(){return p(e.elementInfo)}}]:[{text:"剪切",subText:"Ctrl + X",handler:h},{text:"复制",subText:"Ctrl + C",handler:b},{text:"粘贴",subText:"Ctrl + V",handler:v},{divider:!0},{text:"水平居中",handler:function(){return a(C.HORIZONTAL)},children:[{text:"水平垂直居中",handler:function(){return a(C.CENTER)}},{text:"水平居中",handler:function(){return a(C.HORIZONTAL)}},{text:"左对齐",handler:function(){return a(C.LEFT)}},{text:"右对齐",handler:function(){return a(C.RIGHT)}}]},{text:"垂直居中",handler:function(){return a(C.VERTICAL)},children:[{text:"水平垂直居中",handler:function(){return a(C.CENTER)}},{text:"垂直居中",handler:function(){return a(C.VERTICAL)}},{text:"顶部对齐",handler:function(){return a(C.TOP)}},{text:"底部对齐",handler:function(){return a(C.BOTTOM)}}]},{divider:!0},{text:"置于顶层",disable:e.isMultiSelect&&!e.elementInfo.groupId,handler:function(){return o(e.elementInfo,x.TOP)},children:[{text:"置于顶层",handler:function(){return o(e.elementInfo,x.TOP)}},{text:"上移一层",handler:function(){return o(e.elementInfo,x.UP)}}]},{text:"置于底层",disable:e.isMultiSelect&&!e.elementInfo.groupId,handler:function(){return o(e.elementInfo,x.BOTTOM)},children:[{text:"置于底层",handler:function(){return o(e.elementInfo,x.BOTTOM)}},{text:"下移一层",handler:function(){return o(e.elementInfo,x.DOWN)}}]},{divider:!0},{text:"设置链接",handler:e.openLinkDialog},{text:e.elementInfo.groupId?"取消组合":"组合",subText:"Ctrl + G",handler:e.elementInfo.groupId?i:r,hide:!e.isMultiSelect},{text:"全选",subText:"Ctrl + A",handler:g},{text:"锁定",subText:"Ctrl + L",handler:f},{text:"删除",subText:"Delete",handler:s}]};return{currentElementComponent:t,contextmenus:y}}});const sr=Bn()(ur,[["render",fo]]);var dr=sr;function fr(e,t,n,o,l,a){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])("mouse-selection quadrant-".concat(n.quadrant)),style:Object(j["normalizeStyle"])({top:n.top+"px",left:n.left+"px",width:n.width+"px",height:n.height+"px"})},null,6)}var pr={name:"mouse-selection",props:{top:{type:Number,required:!0},left:{type:Number,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0},quadrant:{type:Number,required:!0,validator:function(e){return[1,2,3,4].includes(e)}}}};n("2007");const mr=Bn()(pr,[["render",fr],["__scopeId","data-v-1619c258"]]);var br=mr;function vr(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("GridLines");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"viewport-background",style:Object(j["normalizeStyle"])(e.backgroundStyle)},[e.showGridLines?(Object(j["openBlock"])(),Object(j["createBlock"])(c,{key:0})):Object(j["createCommentVNode"])("",!0)],4)}var hr=["d","stroke"];function Or(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("SvgWrapper");return Object(j["openBlock"])(),Object(j["createBlock"])(c,{class:"grid-lines"},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("path",{style:Object(j["normalizeStyle"])({transform:"scale(".concat(e.canvasScale,")")}),d:e.path,fill:"none",stroke:e.gridColor,"stroke-width":"0.3","stroke-dasharray":"5"},null,12,hr)]})),_:1})}var jr=Object(j["defineComponent"])({name:"grid-lines",setup:function(){var e=Object(g["c"])($()),t=e.canvasScale,n=Object(g["c"])(Q()),o=n.currentSlide,l=n.viewportRatio,a=Object(j["computed"])((function(){var e;return null===(e=o.value)||void 0===e?void 0:e.background})),c=Object(j["computed"])((function(){var e,t=(null===(e=a.value)||void 0===e?void 0:e.color)||"#fff",n=["#000","#fff"];return U.a.mostReadable(t,n,{includeFallbackColors:!0}).setAlpha(.5).toRgbString()})),r=50,i=function(){for(var e=We,t=We*l.value,n="",o=0;o<=Math.floor(t/r);o++)n+="M0 ".concat(o*r," L").concat(e," ").concat(o*r," ");for(var a=0;a<=Math.floor(e/r);a++)n+="M".concat(a*r," 0 L").concat(a*r," ").concat(t," ");return n};return{canvasScale:t,gridColor:c,width:We,height:We*l.value,path:i()}}});n("1a04");const gr=Bn()(jr,[["render",Or],["__scopeId","data-v-c01bfc20"]]);var yr=gr,xr=function(e){var t=Object(j["computed"])((function(){if(!e.value)return{backgroundColor:"#fff"};var t=e.value,n=t.type,o=t.color,l=t.image,a=t.imageSize,c=t.gradientColor,r=t.gradientRotate,i=t.gradientType;if("solid"===n)return{backgroundColor:o};if("image"===n)return l?"repeat"===a?{backgroundImage:"url(".concat(l),backgroundRepeat:"repeat",backgroundSize:"contain"}:{backgroundImage:"url(".concat(l),backgroundRepeat:"no-repeat",backgroundSize:a||"cover"}:{backgroundColor:"#fff"};if("gradient"===n){var u=r||0,s=c?c[0]:"#fff",d=c?c[1]:"#fff";return"radial"===i?{backgroundImage:"radial-gradient(".concat(s,", ").concat(d)}:{backgroundImage:"linear-gradient(".concat(u,"deg, ").concat(s,", ").concat(d)}}return{backgroundColor:"#fff"}}));return{backgroundStyle:t}},Cr=Object(j["defineComponent"])({name:"viewport-background",components:{GridLines:yr},setup:function(){var e=Object(g["c"])($()),t=e.showGridLines,n=Object(g["c"])(Q()),o=n.currentSlide,l=Object(j["computed"])((function(){var e;return null===(e=o.value)||void 0===e?void 0:e.background})),a=xr(l),c=a.backgroundStyle;return{showGridLines:t,backgroundStyle:c}}});n("06b6");const kr=Bn()(Cr,[["render",vr],["__scopeId","data-v-4d0018d8"]]);var wr=kr;function Er(e,t,n,o,l,a){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"alignment-line",style:Object(j["normalizeStyle"])({left:e.left,top:e.top})},[Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["line",e.type]),style:Object(j["normalizeStyle"])(e.sizeStyle)},null,6)],4)}var Nr=Object(j["defineComponent"])({name:"alignment-line",props:{type:{type:String,required:!0},axis:{type:Object,required:!0},length:{type:Number,required:!0}},setup:function(e){var t=Object(g["c"])($()),n=t.canvasScale,o=Object(j["computed"])((function(){return e.axis.x*n.value+"px"})),l=Object(j["computed"])((function(){return e.axis.y*n.value+"px"})),a=Object(j["computed"])((function(){return"vertical"===e.type?{height:e.length*n.value+"px"}:{width:e.length*n.value+"px"}}));return{left:o,top:l,sizeStyle:a}}});n("c790");const Ir=Bn()(Nr,[["render",Er],["__scopeId","data-v-62c9018e"]]);var Vr=Ir,Sr=["d"];function Lr(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("SvgWrapper");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"element-create-selection",ref:"selectionRef",onMousedown:t[0]||(t[0]=Object(j["withModifiers"])((function(t){return e.createSelection(t)}),["stop"])),onContextmenu:t[1]||(t[1]=Object(j["withModifiers"])((function(){}),["stop","prevent"]))},[e.start&&e.end?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{key:0,class:Object(j["normalizeClass"])(["selection",e.creatingElement.type]),style:Object(j["normalizeStyle"])(e.position)},["line"===e.creatingElement.type&&e.lineData?(Object(j["openBlock"])(),Object(j["createBlock"])(c,{key:0,overflow:"visible",width:e.lineData.svgWidth,height:e.lineData.svgHeight},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("path",{d:e.lineData.path,stroke:"#d14424",fill:"none","stroke-width":"1","stroke-linecap":"","stroke-linejoin":"","stroke-miterlimit":""},null,8,Sr)]})),_:1},8,["width","height"])):Object(j["createCommentVNode"])("",!0)],6)):Object(j["createCommentVNode"])("",!0)],544)}var Br=Object(j["defineComponent"])({name:"element-create-selection",emits:["created"],setup:function(e,t){var n=t.emit,o=$(),l=Object(g["c"])(o),a=l.creatingElement,c=Object(g["c"])(se()),r=c.ctrlOrShiftKeyActive,i=Object(j["ref"])(),u=Object(j["ref"])(),s=Object(j["ref"])(),d=Object(j["reactive"])({x:0,y:0});Object(j["onMounted"])((function(){if(s.value){var e=s.value.getBoundingClientRect(),t=e.x,n=e.y;d.x=t,d.y=n}}));var f=function(e){var t=!0,l=e.pageX,c=e.pageY;i.value=[l,c],document.onmousemove=function(e){if(a.value&&t){var n=e.pageX,o=e.pageY;if(r.value){var i=n-l,s=o-c,d=Math.abs(i),f=Math.abs(s);if("shape"===a.value.type){var p=s>0&&i<0||s<0&&i>0;d>f?o=p?c-i:c+i:n=p?l-s:l+s}else"line"===a.value.type&&(d>f?o=c:n=l)}u.value=[n,o]}},document.onmouseup=function(e){var r,s;if(document.onmousemove=null,document.onmouseup=null,2!==e.button){t=!1;var d=e.pageX,f=e.pageY,p=30;if("line"===(null===(r=a.value)||void 0===r?void 0:r.type)&&(Math.abs(d-l)>=p||Math.abs(f-c)>=p))n("created",{start:i.value,end:u.value});else if("line"!==(null===(s=a.value)||void 0===s?void 0:s.type)&&Math.abs(d-l)>=p&&Math.abs(f-c)>=p)n("created",{start:i.value,end:u.value});else{var m=200,b=Math.min(d,l),v=Math.min(f,c),h=Math.max(d,l),O=Math.max(f,c),j=h-b>=p?h-b:m,g=O-v>=p?O-v:m;n("created",{start:[b,v],end:[b+j,v+g]})}}else setTimeout((function(){return o.setCreatingElement(null)}),0)}},p=Object(j["computed"])((function(){if(!i.value||!u.value)return null;if(!a.value||"line"!==a.value.type)return null;var e=Object(zt["a"])(i.value,2),t=e[0],n=e[1],o=Object(zt["a"])(u.value,2),l=o[0],c=o[1],r=Math.min(t,l),s=Math.max(t,l),d=Math.min(n,c),f=Math.max(n,c),p=s-r>=24?s-r:24,m=f-d>=24?f-d:24,b=t===r?0:s-r,v=n===d?0:f-d,h=l===r?0:s-r,O=c===d?0:f-d,j="M".concat(b,", ").concat(v," L").concat(h,", ").concat(O);return{svgWidth:p,svgHeight:m,startX:b,startY:v,endX:h,endY:O,path:j}})),m=Object(j["computed"])((function(){if(!i.value||!u.value)return{};var e=Object(zt["a"])(i.value,2),t=e[0],n=e[1],o=Object(zt["a"])(u.value,2),l=o[0],a=o[1],c=Math.min(t,l),r=Math.max(t,l),s=Math.min(n,a),f=Math.max(n,a),p=r-c,m=f-s;return{left:c-d.x+"px",top:s-d.y+"px",width:p+"px",height:m+"px"}}));return{selectionRef:s,start:i,end:u,creatingElement:a,createSelection:f,lineData:p,position:m}}});n("44ef");const Tr=Bn()(Br,[["render",Lr],["__scopeId","data-v-d084c624"]]);var Mr=Tr;function _r(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("BorderLine"),r=Object(j["resolveComponent"])("ResizeHandler");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"multi-select-operate",style:Object(j["normalizeStyle"])({left:e.minX*e.canvasScale+"px",top:e.minY*e.canvasScale+"px"})},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.borderLines,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(c,{key:e.type,type:e.type,style:Object(j["normalizeStyle"])(e.style)},null,8,["type","style"])})),128)),e.disableResize?Object(j["createCommentVNode"])("",!0):(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],{key:0},Object(j["renderList"])(e.resizeHandlers,(function(t){return Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:t.direction,type:t.direction,style:Object(j["normalizeStyle"])(t.style),onMousedown:Object(j["withModifiers"])((function(n){return e.scaleMultiElement(n,{minX:e.minX,maxX:e.maxX,minY:e.minY,maxY:e.maxY},t.direction)}),["stop"])},null,8,["type","style","onMousedown"])})),128))],4)}var Dr=function(e,t){var n=Object(j["computed"])((function(){return[{direction:w.LEFT_TOP,style:{}},{direction:w.TOP,style:{left:e.value/2+"px"}},{direction:w.RIGHT_TOP,style:{left:e.value+"px"}},{direction:w.LEFT,style:{top:t.value/2+"px"}},{direction:w.RIGHT,style:{left:e.value+"px",top:t.value/2+"px"}},{direction:w.LEFT_BOTTOM,style:{top:t.value+"px"}},{direction:w.BOTTOM,style:{left:e.value/2+"px",top:t.value+"px"}},{direction:w.RIGHT_BOTTOM,style:{left:e.value+"px",top:t.value+"px"}}]})),o=Object(j["computed"])((function(){return[{direction:w.LEFT,style:{top:t.value/2+"px"}},{direction:w.RIGHT,style:{left:e.value+"px",top:t.value/2+"px"}}]})),l=Object(j["computed"])((function(){return[{type:k.T,style:{width:e.value+"px"}},{type:k.B,style:{top:t.value+"px",width:e.value+"px"}},{type:k.L,style:{height:t.value+"px"}},{type:k.R,style:{left:e.value+"px",height:t.value+"px"}}]}));return{resizeHandlers:n,textElementResizeHandlers:o,borderLines:l}};function zr(e,t,n,o,l,a){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["resize-handler",e.rotateClassName,e.type])},null,2)}var Ar=Object(j["defineComponent"])({name:"resize-handler",props:{type:{type:String,default:""},rotate:{type:Number,default:0}},setup:function(e){var t=Object(j["computed"])((function(){var t="rotate-",n=e.rotate;return n>-22.5&&n<=22.5?t+0:n>22.5&&n<=67.5?t+45:n>67.5&&n<=112.5?t+90:n>112.5&&n<=157.5?t+135:n>157.5||n<=-157.5?t+0:n>-157.5&&n<=-112.5?t+45:n>-112.5&&n<=-67.5?t+90:n>-67.5&&n<=-22.5?t+135:t+0}));return{rotateClassName:t}}});n("0606");const Rr=Bn()(Ar,[["render",zr],["__scopeId","data-v-680e5917"]]);var Fr=Rr;function Pr(e,t,n,o,l,a){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["border-line",n.type,{wide:n.isWide}])},null,2)}var Hr={name:"border-line",props:{type:{type:String,required:!0},isWide:{type:Boolean,default:!1}}};n("fb1d");const qr=Bn()(Hr,[["render",Pr],["__scopeId","data-v-630e246b"]]);var Wr=qr,Xr=Object(j["defineComponent"])({name:"multi-select-operate",components:{ResizeHandler:Fr,BorderLine:Wr},props:{elementList:{type:Array,required:!0},scaleMultiElement:{type:Function,required:!0}},setup:function(e){var t=Object(g["c"])($()),n=t.activeElementIdList,o=t.canvasScale,l=Object(j["computed"])((function(){return e.elementList.filter((function(e){return n.value.includes(e.id)}))})),a=Object(j["reactive"])({minX:0,maxX:0,minY:0,maxY:0}),c=Object(j["computed"])((function(){return(a.maxX-a.minX)*o.value})),r=Object(j["computed"])((function(){return(a.maxY-a.minY)*o.value})),i=Dr(c,r),u=i.resizeHandlers,s=i.borderLines,d=function(){var e=Me(l.value),t=e.minX,n=e.maxX,o=e.minY,c=e.maxY;a.minX=t,a.maxX=n,a.minY=o,a.maxY=c};Object(j["watchEffect"])(d);var f=Object(j["computed"])((function(){return l.value.some((function(e){return!!("image"!==e.type&&"shape"!==e.type||e.rotate)}))}));return Object(S["a"])(Object(S["a"])({},Object(j["toRefs"])(a)),{},{canvasScale:o,borderLines:s,disableResize:f,resizeHandlers:u})}});n("a60f");const Gr=Bn()(Xr,[["render",_r],["__scopeId","data-v-2d010d5c"]]);var Ur=Gr,Yr={key:1,class:"animation-index"};function Zr(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("LinkHandler");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["operate",{"multi-select":e.isMultiSelect&&!e.isActive}]),style:Object(j["normalizeStyle"])({top:e.elementInfo.top*e.canvasScale+"px",left:e.elementInfo.left*e.canvasScale+"px",transform:"rotate(".concat(e.elementInfo.rotate,"deg)"),transformOrigin:"".concat(e.elementInfo.width*e.canvasScale/2,"px ").concat(e.elementInfo.height*e.canvasScale/2,"px")})},[e.isSelected?(Object(j["openBlock"])(),Object(j["createBlock"])(Object(j["resolveDynamicComponent"])(e.currentOperateComponent),{key:0,elementInfo:e.elementInfo,handlerVisible:!e.elementInfo.lock&&(e.isActiveGroupElement||!e.isMultiSelect),rotateElement:e.rotateElement,scaleElement:e.scaleElement,dragLineElement:e.dragLineElement},null,8,["elementInfo","handlerVisible","rotateElement","scaleElement","dragLineElement"])):Object(j["createCommentVNode"])("",!0),"elAnimation"===e.toolbarState&&-1!==e.elementIndexInAnimation?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Yr,Object(j["toDisplayString"])(e.elementIndexInAnimation+1),1)):Object(j["createCommentVNode"])("",!0),e.isActive&&e.elementInfo.link?(Object(j["openBlock"])(),Object(j["createBlock"])(c,{key:2,elementInfo:e.elementInfo,openLinkDialog:e.openLinkDialog,onMousedown:t[0]||(t[0]=Object(j["withModifiers"])((function(){}),["stop"]))},null,8,["elementInfo","openLinkDialog"])):Object(j["createCommentVNode"])("",!0)],6)}function Jr(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("BorderLine"),r=Object(j["resolveComponent"])("ResizeHandler"),i=Object(j["resolveComponent"])("RotateHandler");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["image-element-operate",{cliping:e.isCliping}])},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.borderLines,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(c,{class:"operate-border-line",key:e.type,type:e.type,style:Object(j["normalizeStyle"])(e.style)},null,8,["type","style"])})),128)),e.handlerVisible?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:0},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.resizeHandlers,(function(t){return Object(j["openBlock"])(),Object(j["createBlock"])(r,{class:"operate-resize-handler",key:t.direction,type:t.direction,rotate:e.elementInfo.rotate,style:Object(j["normalizeStyle"])(t.style),onMousedown:Object(j["withModifiers"])((function(n){return e.scaleElement(n,e.elementInfo,t.direction)}),["stop"])},null,8,["type","rotate","style","onMousedown"])})),128)),Object(j["createVNode"])(i,{class:"operate-rotate-handler",style:Object(j["normalizeStyle"])({left:e.scaleWidth/2+"px"}),onMousedown:t[0]||(t[0]=Object(j["withModifiers"])((function(t){return e.rotateElement(e.elementInfo)}),["stop"]))},null,8,["style"])],64)):Object(j["createCommentVNode"])("",!0)],2)}var Kr={class:"rotate-handler"};function Qr(e,t,n,o,l,a){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Kr)}var $r={name:"rotate-handler"};n("8754");const ei=Bn()($r,[["render",Qr],["__scopeId","data-v-9a549510"]]);var ti=ei,ni=Object(j["defineComponent"])({name:"image-element-operate",inheritAttrs:!1,components:{RotateHandler:ti,ResizeHandler:Fr,BorderLine:Wr},props:{elementInfo:{type:Object,required:!0},handlerVisible:{type:Boolean,required:!0},rotateElement:{type:Function,required:!0},scaleElement:{type:Function,required:!0}},setup:function(e){var t=Object(g["c"])($()),n=t.canvasScale,o=t.clipingImageElementId,l=Object(j["computed"])((function(){return o.value===e.elementInfo.id})),a=Object(j["computed"])((function(){return e.elementInfo.width*n.value})),c=Object(j["computed"])((function(){return e.elementInfo.height*n.value})),r=Dr(a,c),i=r.resizeHandlers,u=r.borderLines;return{isCliping:l,scaleWidth:a,resizeHandlers:i,borderLines:u}}});n("7ec9");const oi=Bn()(ni,[["render",Jr],["__scopeId","data-v-24706869"]]);var li=oi,ai={class:"text-element-operate"};function ci(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("BorderLine"),r=Object(j["resolveComponent"])("ResizeHandler"),i=Object(j["resolveComponent"])("RotateHandler");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",ai,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.borderLines,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(c,{class:"operate-border-line",key:e.type,type:e.type,style:Object(j["normalizeStyle"])(e.style)},null,8,["type","style"])})),128)),e.handlerVisible?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:0},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.textElementResizeHandlers,(function(t){return Object(j["openBlock"])(),Object(j["createBlock"])(r,{class:"operate-resize-handler",key:t.direction,type:t.direction,rotate:e.elementInfo.rotate,style:Object(j["normalizeStyle"])(t.style),onMousedown:Object(j["withModifiers"])((function(n){return e.scaleElement(n,e.elementInfo,t.direction)}),["stop"])},null,8,["type","rotate","style","onMousedown"])})),128)),Object(j["createVNode"])(i,{class:"operate-rotate-handler",style:Object(j["normalizeStyle"])({left:e.scaleWidth/2+"px"}),onMousedown:t[0]||(t[0]=Object(j["withModifiers"])((function(t){return e.rotateElement(e.elementInfo)}),["stop"]))},null,8,["style"])],64)):Object(j["createCommentVNode"])("",!0)])}var ri=Object(j["defineComponent"])({name:"text-element-operate",inheritAttrs:!1,components:{RotateHandler:ti,ResizeHandler:Fr,BorderLine:Wr},props:{elementInfo:{type:Object,required:!0},handlerVisible:{type:Boolean,required:!0},rotateElement:{type:Function,required:!0},scaleElement:{type:Function,required:!0}},setup:function(e){var t=Object(g["c"])($()),n=t.canvasScale,o=Object(j["computed"])((function(){return e.elementInfo.width*n.value})),l=Object(j["computed"])((function(){return e.elementInfo.height*n.value})),a=Dr(o,l),c=a.textElementResizeHandlers,r=a.borderLines;return{scaleWidth:o,textElementResizeHandlers:c,borderLines:r}}});const ii=Bn()(ri,[["render",ci]]);var ui=ii,si={class:"shape-element-operate"};function di(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("BorderLine"),r=Object(j["resolveComponent"])("ResizeHandler"),i=Object(j["resolveComponent"])("RotateHandler");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",si,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.borderLines,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(c,{class:"operate-border-line",key:e.type,type:e.type,style:Object(j["normalizeStyle"])(e.style)},null,8,["type","style"])})),128)),e.handlerVisible?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:0},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.resizeHandlers,(function(t){return Object(j["openBlock"])(),Object(j["createBlock"])(r,{class:"operate-resize-handler",key:t.direction,type:t.direction,rotate:e.elementInfo.rotate,style:Object(j["normalizeStyle"])(t.style),onMousedown:Object(j["withModifiers"])((function(n){return e.scaleElement(n,e.elementInfo,t.direction)}),["stop"])},null,8,["type","rotate","style","onMousedown"])})),128)),Object(j["createVNode"])(i,{class:"operate-rotate-handler",style:Object(j["normalizeStyle"])({left:e.scaleWidth/2+"px"}),onMousedown:t[0]||(t[0]=Object(j["withModifiers"])((function(t){return e.rotateElement(e.elementInfo)}),["stop"]))},null,8,["style"])],64)):Object(j["createCommentVNode"])("",!0)])}var fi=Object(j["defineComponent"])({name:"shape-element-operate",inheritAttrs:!1,components:{RotateHandler:ti,ResizeHandler:Fr,BorderLine:Wr},props:{elementInfo:{type:Object,required:!0},handlerVisible:{type:Boolean,required:!0},rotateElement:{type:Function,required:!0},scaleElement:{type:Function,required:!0}},setup:function(e){var t=Object(g["c"])($()),n=t.canvasScale,o=Object(j["computed"])((function(){return e.elementInfo.width*n.value})),l=Object(j["computed"])((function(){return e.elementInfo.height*n.value})),a=Dr(o,l),c=a.resizeHandlers,r=a.borderLines;return{scaleWidth:o,resizeHandlers:c,borderLines:r}}});const pi=Bn()(fi,[["render",di]]);var mi=pi,bi={class:"text-element-operate"};function vi(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("ResizeHandler");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",bi,[e.handlerVisible?(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],{key:0},Object(j["renderList"])(e.resizeHandlers,(function(t){return Object(j["openBlock"])(),Object(j["createBlock"])(c,{class:"operate-resize-handler",key:t.direction,type:t.direction,style:Object(j["normalizeStyle"])(t.style),onMousedown:Object(j["withModifiers"])((function(n){return e.dragLineElement(n,e.elementInfo,t.handler)}),["stop"])},null,8,["type","style","onMousedown"])})),128)):Object(j["createCommentVNode"])("",!0)])}var hi=Object(j["defineComponent"])({name:"text-element-operate",inheritAttrs:!1,components:{ResizeHandler:Fr},props:{elementInfo:{type:Object,required:!0},handlerVisible:{type:Boolean,required:!0},dragLineElement:{type:Function,required:!0}},setup:function(e){var t=Object(g["c"])($()),n=t.canvasScale,o=Object(j["computed"])((function(){var t=[{handler:E.START,style:{left:e.elementInfo.start[0]*n.value+"px",top:e.elementInfo.start[1]*n.value+"px"}},{handler:E.END,style:{left:e.elementInfo.end[0]*n.value+"px",top:e.elementInfo.end[1]*n.value+"px"}}];if(e.elementInfo.curve||e.elementInfo.broken){var o=e.elementInfo.curve||e.elementInfo.broken;t.push({handler:E.MID,style:{left:o[0]*n.value+"px",top:o[1]*n.value+"px"}})}return t}));return{resizeHandlers:o}}});const Oi=Bn()(hi,[["render",vi]]);var ji=Oi,gi={class:"table-element-operate"};function yi(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("BorderLine"),r=Object(j["resolveComponent"])("ResizeHandler"),i=Object(j["resolveComponent"])("RotateHandler");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",gi,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.borderLines,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(c,{class:"operate-border-line",key:e.type,type:e.type,style:Object(j["normalizeStyle"])(e.style)},null,8,["type","style"])})),128)),e.handlerVisible?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:0},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.textElementResizeHandlers,(function(t){return Object(j["openBlock"])(),Object(j["createBlock"])(r,{class:"operate-resize-handler",key:t.direction,type:t.direction,rotate:e.elementInfo.rotate,style:Object(j["normalizeStyle"])(t.style),onMousedown:Object(j["withModifiers"])((function(n){return e.scaleElement(n,e.elementInfo,t.direction)}),["stop"])},null,8,["type","rotate","style","onMousedown"])})),128)),Object(j["createVNode"])(i,{class:"operate-rotate-handler",style:Object(j["normalizeStyle"])({left:e.scaleWidth/2+"px"}),onMousedown:t[0]||(t[0]=Object(j["withModifiers"])((function(t){return e.rotateElement(e.elementInfo)}),["stop"]))},null,8,["style"])],64)):Object(j["createCommentVNode"])("",!0)])}var xi=Object(j["defineComponent"])({name:"table-element-operate",inheritAttrs:!1,components:{RotateHandler:ti,ResizeHandler:Fr,BorderLine:Wr},props:{elementInfo:{type:Object,required:!0},handlerVisible:{type:Boolean,required:!0},rotateElement:{type:Function,required:!0},scaleElement:{type:Function,required:!0}},setup:function(e){var t=Object(g["c"])($()),n=t.canvasScale,o=Object(j["computed"])((function(){return e.elementInfo.outline.width||1})),l=Object(j["computed"])((function(){return(e.elementInfo.width+o.value)*n.value})),a=Object(j["computed"])((function(){return e.elementInfo.height*n.value})),c=Dr(l,a),r=c.textElementResizeHandlers,i=c.borderLines;return{scaleWidth:l,textElementResizeHandlers:r,borderLines:i}}});const Ci=Bn()(xi,[["render",yi]]);var ki=Ci,wi={class:"common-element-operate"};function Ei(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("BorderLine"),r=Object(j["resolveComponent"])("ResizeHandler"),i=Object(j["resolveComponent"])("RotateHandler");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",wi,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.borderLines,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(c,{class:"operate-border-line",key:e.type,type:e.type,style:Object(j["normalizeStyle"])(e.style)},null,8,["type","style"])})),128)),e.handlerVisible?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:0},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.resizeHandlers,(function(t){return Object(j["openBlock"])(),Object(j["createBlock"])(r,{class:"operate-resize-handler",key:t.direction,type:t.direction,rotate:e.elementInfo.rotate,style:Object(j["normalizeStyle"])(t.style),onMousedown:Object(j["withModifiers"])((function(n){return e.scaleElement(n,e.elementInfo,t.direction)}),["stop"])},null,8,["type","rotate","style","onMousedown"])})),128)),Object(j["createVNode"])(i,{class:"operate-rotate-handler",style:Object(j["normalizeStyle"])({left:e.scaleWidth/2+"px"}),onMousedown:t[0]||(t[0]=Object(j["withModifiers"])((function(t){return e.rotateElement(e.elementInfo)}),["stop"]))},null,8,["style"])],64)):Object(j["createCommentVNode"])("",!0)])}var Ni=Object(j["defineComponent"])({name:"common-element-operate",inheritAttrs:!1,components:{RotateHandler:ti,ResizeHandler:Fr,BorderLine:Wr},props:{elementInfo:{type:Object,required:!0},handlerVisible:{type:Boolean,required:!0},rotateElement:{type:Function,required:!0},scaleElement:{type:Function,required:!0}},setup:function(e){var t=Object(g["c"])($()),n=t.canvasScale,o=Object(j["computed"])((function(){return e.elementInfo.width*n.value})),l=Object(j["computed"])((function(){return e.elementInfo.height*n.value})),a=Dr(o,l),c=a.resizeHandlers,r=a.borderLines;return{scaleWidth:o,resizeHandlers:c,borderLines:r}}});const Ii=Bn()(Ni,[["render",Ei]]);var Vi=Ii,Si=["href"],Li={class:"btns"};function Bi(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("Divider");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"link-handler",style:Object(j["normalizeStyle"])({top:e.elementInfo.height*e.canvasScale+10+"px"})},[Object(j["createElementVNode"])("a",{class:"link",href:e.elementInfo.link,target:"_blank"},Object(j["toDisplayString"])(e.elementInfo.link),9,Si),Object(j["createElementVNode"])("div",Li,[Object(j["createElementVNode"])("div",{class:"btn",onClick:t[0]||(t[0]=function(t){return e.openLinkDialog()})},"更换"),Object(j["createVNode"])(c,{type:"vertical"}),Object(j["createElementVNode"])("div",{class:"btn",onClick:t[1]||(t[1]=function(t){return e.removeLink(e.elementInfo)})},"移除")])],4)}var Ti=function(){var e=Q(),t=Pe(),n=t.addHistorySnapshot,o=function(t,o){var l=/^(https?):\/\/[\w\-]+(\.[\w\-]+)+([\w\-.,@?^=%&:\/~+#]*[\w\-@?^=%&\/~+#])?$/;if(!o||!l.test(o))return he["a"].error("不是正确的网页链接地址"),!1;var a={link:o};return e.updateElement({id:t.id,props:a}),n(),!0},l=function(t){e.removeElementProps({id:t.id,propName:"link"}),n()};return{setLink:o,removeLink:l}},Mi=Object(j["defineComponent"])({name:"link-handler",props:{elementInfo:{type:Object,required:!0},openLinkDialog:{type:Function,required:!0}},setup:function(){var e=Object(g["c"])($()),t=e.canvasScale,n=Ti(),o=n.removeLink;return{canvasScale:t,removeLink:o}}});n("8b69");const _i=Bn()(Mi,[["render",Bi],["__scopeId","data-v-1563d5ec"]]);var Di=_i,zi=Object(j["defineComponent"])({name:"operate",components:{LinkHandler:Di},props:{elementInfo:{type:Object,required:!0},isSelected:{type:Boolean,required:!0},isActive:{type:Boolean,required:!0},isActiveGroupElement:{type:Boolean,required:!0},isMultiSelect:{type:Boolean,required:!0},rotateElement:{type:Function,required:!0},scaleElement:{type:Function,required:!0},dragLineElement:{type:Function,required:!0},openLinkDialog:{type:Function,required:!0}},setup:function(e){var t=Object(g["c"])($()),n=t.canvasScale,o=t.toolbarState,l=Object(g["c"])(Q()),a=l.currentSlide,c=Object(j["computed"])((function(){var t,n=(t={},Object(ae["a"])(t,po.IMAGE,li),Object(ae["a"])(t,po.TEXT,ui),Object(ae["a"])(t,po.SHAPE,mi),Object(ae["a"])(t,po.LINE,ji),Object(ae["a"])(t,po.TABLE,ki),Object(ae["a"])(t,po.CHART,Vi),Object(ae["a"])(t,po.LATEX,Vi),Object(ae["a"])(t,po.VIDEO,Vi),t);return n[e.elementInfo.type]||null})),r=Object(j["computed"])((function(){var t=a.value.animations||[];return t.findIndex((function(t){return t.elId===e.elementInfo.id}))}));return{currentOperateComponent:c,canvasScale:n,toolbarState:o,elementIndexInAnimation:r}}});n("cb5b");const Ai=Bn()(zi,[["render",Zr],["__scopeId","data-v-630cfc70"]]);var Ri=Ai,Fi={class:"link-dialog"},Pi={class:"btns"},Hi=Object(j["createTextVNode"])("取消"),qi=Object(j["createTextVNode"])("确认");function Wi(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("Input"),r=Object(j["resolveComponent"])("Button");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Fi,[Object(j["createVNode"])(c,{value:e.link,"onUpdate:value":t[0]||(t[0]=function(t){return e.link=t}),placeholder:"请输入网页链接地址"},null,8,["value"]),Object(j["createElementVNode"])("div",Pi,[Object(j["createVNode"])(r,{onClick:t[1]||(t[1]=function(t){return e.close()}),style:{"margin-right":"10px"}},{default:Object(j["withCtx"])((function(){return[Hi]})),_:1}),Object(j["createVNode"])(r,{type:"primary",onClick:t[2]||(t[2]=function(t){return e.save()})},{default:Object(j["withCtx"])((function(){return[qi]})),_:1})])])}var Xi=Object(j["defineComponent"])({name:"link-dialog",emits:["close"],setup:function(e,t){var n=t.emit,o=Object(g["c"])($()),l=o.handleElement,a=Object(j["ref"])(""),c=Ti(),r=c.setLink;Object(j["onMounted"])((function(){var e;null!==(e=l.value)&&void 0!==e&&e.link&&(a.value=l.value.link)}));var i=function(){return n("close")},u=function(){if(l.value){var e=r(l.value,a.value);e?i():a.value=""}};return{link:a,close:i,save:u}}});n("17ef");const Gi=Bn()(Xi,[["render",Wi],["__scopeId","data-v-0e06dba8"]]);var Ui=Gi,Yi=Object(j["defineComponent"])({name:"editor-canvas",components:{EditableElement:dr,MouseSelection:br,ViewportBackground:wr,AlignmentLine:Vr,ElementCreateSelection:Mr,MultiSelectOperate:Ur,Operate:Ri,LinkDialog:Ui},setup:function(){var e=$(),t=Object(g["c"])(e),n=t.activeElementIdList,o=t.activeGroupElementId,l=t.handleElementId,a=t.editorAreaFocus,c=t.showGridLines,r=t.creatingElement,i=t.canvasScale,u=Q(),s=Object(g["c"])(u),d=s.currentSlide,f=Vn(),p=f.getQuery("id");p?f.getJSON(p).then((function(e){if(e&&200==e.status){var t=e.data.data;u.setSlides(JSON.parse(t.content)),f.setTitle(t.title)}})):f.clearTitle();var m=Object(g["c"])(se()),b=m.ctrlKeyState,v=m.ctrlOrShiftKeyActive,h=Object(j["ref"])(),O=Object(j["ref"])([]),y=Object(j["ref"])(!1),x=function(){return y.value=!0};Object(j["watch"])(l,(function(){e.setActiveGroupElementId("")}));var C=Object(j["ref"])([]),k=function(){C.value=d.value?JSON.parse(JSON.stringify(d.value.elements)):[]};Object(j["watchEffect"])(k);var w=Object(j["ref"])(),E=Jn(w),I=E.viewportStyles;Qn(w);var V=Kn(C,h),S=V.mouseSelectionState,L=V.updateMouseSelection,B=ro(C,O),T=B.dragElement,M=io(C),_=M.dragLineElement,D=co(C,T),z=D.selectElement,A=ao(C,O),R=A.scaleElement,F=A.scaleMultiElement,P=eo(C,h),H=P.rotateElement,q=Qe(),W=q.selectAllElement,X=Ze(),G=X.deleteAllElements,U=Ke(),Z=U.pasteElement,J=lt(),K=J.enterScreening,ee=Ue(),te=ee.updateSlideIndex,ne=function(t){e.setActiveElementIdList([]),v.value||L(t),a.value||e.setEditorareaFocus(!0),Zn()},oe=function(){a.value&&e.setEditorareaFocus(!1)},le=at(),ae=le.scaleCanvas,ce=Object(Y["throttle"])(ae,100,{leading:!0,trailing:!1}),re=Object(Y["throttle"])(te,300,{leading:!0,trailing:!1}),ie=function(e){e.preventDefault(),b.value?e.deltaY>0?ce("-"):e.deltaY<0&&ce("+"):e.deltaY>0?re(N.DOWN):e.deltaY<0&&re(N.UP)},ue=function(){e.setGridLinesState(!c.value)},de=uo(h),fe=de.insertElementFromCreateSelection,pe=function(){return[{text:"粘贴",subText:"Ctrl + V",handler:Z},{text:"全选",subText:"Ctrl + A",handler:W},{text:"网格线",subText:c.value?"√":"",handler:ue},{text:"重置当前页",handler:G},{divider:!0},{text:"从当前页演示",subText:"Ctrl+F",handler:K}]};return Object(j["provide"])("slideScale",i),{elementList:C,activeElementIdList:n,handleElementId:l,activeGroupElementId:o,canvasRef:w,viewportRef:h,viewportStyles:I,canvasScale:i,mouseSelectionState:S,currentSlide:d,creatingElement:r,alignmentLines:O,linkDialogVisible:y,openLinkDialog:x,handleClickBlankArea:ne,removeEditorAreaFocus:oe,insertElementFromCreateSelection:fe,selectElement:z,rotateElement:H,scaleElement:R,dragLineElement:_,scaleMultiElement:F,handleMousewheelCanvas:ie,contextmenus:pe}}});n("3f10");const Zi=Bn()(Yi,[["render",Yn],["__scopeId","data-v-8e2e6430"]]);var Ji=Zi,Ki={class:"canvas-tool"},Qi={class:"left-handler"},$i={class:"add-element-handler"},eu={class:"right-handler"},tu={class:"text"};function nu(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("IconBack"),r=Object(j["resolveComponent"])("Tooltip"),i=Object(j["resolveComponent"])("IconNext"),u=Object(j["resolveComponent"])("IconFontSize"),s=Object(j["resolveComponent"])("IconPicture"),d=Object(j["resolveComponent"])("FileInput"),f=Object(j["resolveComponent"])("ShapePool"),p=Object(j["resolveComponent"])("IconGraphicDesign"),m=Object(j["resolveComponent"])("Popover"),b=Object(j["resolveComponent"])("LinePool"),v=Object(j["resolveComponent"])("IconConnection"),h=Object(j["resolveComponent"])("ChartPool"),O=Object(j["resolveComponent"])("IconChartProportion"),g=Object(j["resolveComponent"])("TableGenerator"),y=Object(j["resolveComponent"])("IconInsertTable"),x=Object(j["resolveComponent"])("IconFormula"),C=Object(j["resolveComponent"])("VideoInput"),k=Object(j["resolveComponent"])("IconVideoTwo"),w=Object(j["resolveComponent"])("IconMinus"),E=Object(j["resolveComponent"])("IconPlus"),N=Object(j["resolveComponent"])("IconFullScreen"),I=Object(j["resolveComponent"])("LaTeXEditor"),V=Object(j["resolveComponent"])("Modal");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Ki,[Object(j["createElementVNode"])("div",Qi,[Object(j["createVNode"])(r,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"撤销"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(c,{class:Object(j["normalizeClass"])(["handler-item",{disable:!e.canUndo}]),onClick:t[0]||(t[0]=function(t){return e.undo()})},null,8,["class"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(r,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"重做"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{class:Object(j["normalizeClass"])(["handler-item",{disable:!e.canRedo}]),onClick:t[1]||(t[1]=function(t){return e.redo()})},null,8,["class"])]})),_:1},8,["mouseEnterDelay"])]),Object(j["createElementVNode"])("div",$i,[Object(j["createVNode"])(r,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入文字"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,{class:"handler-item",onClick:t[2]||(t[2]=function(t){return e.drawText()})})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(d,{onChange:t[3]||(t[3]=function(t){return e.insertImageElement(t)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入图片"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(s,{class:"handler-item"})]})),_:1},8,["mouseEnterDelay"])]})),_:1}),Object(j["createVNode"])(m,{trigger:"click",visible:e.shapePoolVisible,"onUpdate:visible":t[5]||(t[5]=function(t){return e.shapePoolVisible=t})},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(f,{onSelect:t[4]||(t[4]=function(t){return e.drawShape(t)})})]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入形状"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(p,{class:"handler-item"})]})),_:1},8,["mouseEnterDelay"])]})),_:1},8,["visible"]),Object(j["createVNode"])(m,{trigger:"click",visible:e.linePoolVisible,"onUpdate:visible":t[7]||(t[7]=function(t){return e.linePoolVisible=t})},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(b,{onSelect:t[6]||(t[6]=function(t){return e.drawLine(t)})})]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入线条"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(v,{class:"handler-item"})]})),_:1},8,["mouseEnterDelay"])]})),_:1},8,["visible"]),Object(j["createVNode"])(m,{trigger:"click",visible:e.chartPoolVisible,"onUpdate:visible":t[9]||(t[9]=function(t){return e.chartPoolVisible=t})},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(h,{onSelect:t[8]||(t[8]=function(t){e.createChartElement(t),e.chartPoolVisible=!1})})]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入图表"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(O,{class:"handler-item"})]})),_:1},8,["mouseEnterDelay"])]})),_:1},8,["visible"]),Object(j["createVNode"])(m,{trigger:"click",visible:e.tableGeneratorVisible,"onUpdate:visible":t[12]||(t[12]=function(t){return e.tableGeneratorVisible=t})},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(g,{onClose:t[10]||(t[10]=function(t){return e.tableGeneratorVisible=!1}),onInsert:t[11]||(t[11]=function(t){var n=t.row,o=t.col;e.createTableElement(n,o),e.tableGeneratorVisible=!1})})]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入表格"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(y,{class:"handler-item"})]})),_:1},8,["mouseEnterDelay"])]})),_:1},8,["visible"]),Object(j["createVNode"])(r,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入公式"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(x,{class:"handler-item",onClick:t[13]||(t[13]=function(t){return e.latexEditorVisible=!0})})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(m,{trigger:"click",visible:e.videoInputVisible,"onUpdate:visible":t[16]||(t[16]=function(t){return e.videoInputVisible=t})},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(C,{onClose:t[14]||(t[14]=function(t){return e.videoInputVisible=!1}),onInsert:t[15]||(t[15]=function(t){e.createVideoElement(t),e.videoInputVisible=!1})})]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入视频"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(k,{class:"handler-item"})]})),_:1},8,["mouseEnterDelay"])]})),_:1},8,["visible"])]),Object(j["createElementVNode"])("div",eu,[Object(j["createVNode"])(w,{class:"handler-item viewport-size",onClick:t[17]||(t[17]=function(t){return e.scaleCanvas("-")})}),Object(j["createElementVNode"])("span",tu,Object(j["toDisplayString"])(e.canvasScalePercentage),1),Object(j["createVNode"])(E,{class:"handler-item viewport-size",onClick:t[18]||(t[18]=function(t){return e.scaleCanvas("+")})}),Object(j["createVNode"])(r,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"适配屏幕"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(N,{class:"handler-item viewport-size-adaptation",onClick:t[19]||(t[19]=function(t){return e.setCanvasPercentage(90)})})]})),_:1},8,["mouseEnterDelay"])]),Object(j["createVNode"])(V,{visible:e.latexEditorVisible,"onUpdate:visible":t[22]||(t[22]=function(t){return e.latexEditorVisible=t}),footer:null,centered:"",width:880,destroyOnClose:""},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(I,{onClose:t[20]||(t[20]=function(t){return e.latexEditorVisible=!1}),onUpdate:t[21]||(t[21]=function(t){e.createLatexElement(t),e.latexEditorVisible=!1})})]})),_:1},8,["visible"])])}var ou={class:"shape-pool"},lu={class:"category-name"},au={class:"shape-list"},cu=["onClick"],ru=["transform"],iu=["d"];function uu(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("SvgWrapper");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",ou,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.shapeList,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"category",key:t.type},[Object(j["createElementVNode"])("div",lu,Object(j["toDisplayString"])(t.type),1),Object(j["createElementVNode"])("div",au,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(t.children,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"shape-item",key:n},[Object(j["createElementVNode"])("div",{class:"shape-content",onClick:function(n){return e.selectShape(t)}},[Object(j["createVNode"])(c,{overflow:"visible",width:"18",height:"18"},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("g",{transform:"scale(".concat(18/t.viewBox,", ").concat(18/t.viewBox,") translate(0,0) matrix(1,0,0,1,0,0)")},[Object(j["createElementVNode"])("path",{class:"shape-path","vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8","stroke-linejoin":"",fill:"transparent",stroke:"#999","stroke-width":"2",d:t.path},null,8,iu)],8,ru)]})),_:2},1024)],8,cu)])})),128))])])})),128))])}var su=[{type:"矩形",children:[{viewBox:200,path:"M 0 0 L 200 0 L 200 200 L 0 200 Z"},{viewBox:200,path:"M 20 0 L 180 0 Q 200 0 200 20 L 200 180 Q 200 200 180 200 L 20 200 Q 0 200 0 180 L 0 20 Q 0 0 20 0 Z"},{viewBox:200,path:"M 0 150 L 0 0 L 150 0 L 200 50 L 200 200 L 50 200 L 0 150 Z"},{viewBox:200,path:"M 0 200 L 0 0 L 150 0 L 200 50 L 200 200 L 0 200"},{viewBox:200,path:"M 0 50 L 50 0 L 150 0 L 200 50 L 200 200 L 0 200 L 0 50 Z"},{viewBox:200,path:"M 0 0 L 140 0 Q 200 0 200 60 L 200 200 L 60 200 Q 0 200 0 140 L 0 0 Z"},{viewBox:200,path:"M 0 0 L 140 0 Q 200 0 200 60 L 200 200 L 0 200 L 0 0 Z"},{viewBox:200,path:"M 0 50 Q 0 0 50 0 L 150 0 Q 200 0 200 50 L 200 200 L 0 200 L 0 50 Z"}]},{type:"常用形状",children:[{viewBox:200,path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z"},{viewBox:200,path:"M 0 200 A 50 100 0 1 1 200 200 L 0 200 Z"},{viewBox:200,path:"M 100 0 A 100 100 102 1 0 200 100 L 100 100 L 100 0 Z"},{viewBox:200,path:"M 100 0 A 100 100 102 1 0 200 100 L 100 0 Z"},{viewBox:200,path:"M 100 0 A 100 100 102 1 0 200 100 L 200 0 L 100 0 Z"},{viewBox:200,path:"M 0 0 L 200 0 Q 200 200 0 200 L 0 0 Z"},{viewBox:200,path:"M 100 0 L 0 200 L 200 200 L 100 0 Z"},{viewBox:200,path:"M 0 0 L 0 200 L 200 200 Z"},{viewBox:200,path:"M 50 0 L 200 0 L 150 200 L 0 200 L 50 0 Z"},{viewBox:200,path:"M 0 0 L 150 0 L 200 200 L 50 200 L 0 0 Z"},{viewBox:200,path:"M 50 0 L 150 0 L 200 200 L 0 200 L 50 0 Z"},{viewBox:200,path:"M 100 0 L 0 100 L 100 200 L 200 100 L 100 0 Z"},{viewBox:200,path:"M 100 0 L 0 90 L 50 200 L 150 200 L 200 90 L 100 0 Z"},{viewBox:200,path:"M 100 0 L 0 60 L 0 140 L 100 200 L 200 140 L 200 60 L 100 0 Z"},{viewBox:200,path:"M 60 0 L 140 0 L 200 60 L 200 140 L 140 200 L 60 200 L 0 140 L 0 60 L 60 0 Z"},{viewBox:200,path:"M 75 0 L 125 0 L 175 25 L 200 75 L 200 125 L 175 175 L 125 200 L 75 200 L 25 175 L 0 125 L 0 75 L 25 25 L 75 0 Z"},{viewBox:200,path:"M 100 0 L 0 50 L 0 200 L 200 200 L 200 50 L 100 0 Z"},{viewBox:200,path:"M 150 0 A 50 100 0 1 1 150 200 L 0 200 L 0 0 L 150 0 Z"},{viewBox:200,path:"M 150 0 A 50 100 0 1 1 150 200 L 0 200 A 50 100 0 0 0 0 0 L 150 0 Z"},{viewBox:200,path:"M 200 100 L 150 0 L 0 0 L 50 100 L 0 200 L 150 200 L 200 100 Z"},{viewBox:200,path:"M 200 0 L 200 200 L 0 200 L 0 100 L 200 0 Z"},{viewBox:200,path:"M 0 0 L 200 100 L 200 200 L 0 200 L 0 0 Z"},{viewBox:200,path:"M 200 0 L 100 0 L 0 100 L 0 200 L 200 0 Z"},{viewBox:200,path:"M 50 0 L 150 0 L 150 50 L 200 50 L 200 150 L 150 150 L 150 200 L 50 200 L 50 150 L 0 150 L 0 50 L 50 50 L 50 0 Z"},{viewBox:200,path:"M 0 0 L 0 200 L 200 200 L 200 140 L 60 140 L 60 0 L 0 0 Z"},{viewBox:200,path:"M0 0 L200 0 L200 200 L0 200 L0 0 Z M50 50 L50 150 L150 150 L150 50 Z"},{viewBox:200,path:"M0 100 A100 100 0 1 1 0 101 Z M150 100 A50 50 0 1 0 150 101 Z"},{viewBox:200,path:"M 70 0 L 70 70 L 0 70 L 0 130 L 70 130 L 70 200 L 130 200 L 130 130 L 200 130 L 200 70 L 130 70 L 130 0 L 70 0 Z"},{viewBox:200,path:"M 40 0 L 0 40 L 60 100 L 0 160 L 40 200 L 100 140 L 160 200 L 200 160 L 140 100 L 200 40 L 160 0 L 100 60 L 40 0 Z"},{viewBox:200,path:"M 0 0 L 200 0 L 200 160 L 100 160 L 60 200 L 60 160 L 0 160 L 0 0 Z"},{viewBox:200,path:"M 0 40 Q 0 0 40 0 L 160 0 Q 200 0 200 40 L 200 120 Q 200 160 160 160 L 100 160 L 60 200 L 60 160 L 40 160 Q 0 160 0 120 L 0 40 Z"},{viewBox:200,path:"M 180 160 A 100 100 0 1 0 100 200 L 200 200 L 200 160 L 180 160 Z"},{viewBox:200,path:"M 200 0 L 0 0 L 200 200 L 0 200 L 200 0 Z"},{viewBox:200,path:"M 0 20 C 60 60 140 -40 200 20 L 200 180 C 140 140 60 240 0 180 L 0 20 Z"},{viewBox:200,path:"M 0 20 C 40 -40 60 60 100 20 C 140 -40 160 60 200 20 L 200 180 C 140 240 160 140 100 180 C 40 240 60 140 0 180 L 0 20 Z"}]},{type:"箭头",children:[{viewBox:200,path:"M 100 0 L 0 100 L 50 100 L 50 200 L 150 200 L 150 100 L 200 100 L 100 0 Z"},{viewBox:200,path:"M 100 200 L 200 100 L 150 100 L 150 0 L 50 0 L 50 100 L 0 100 L 100 200 Z"},{viewBox:200,path:"M 0 100 L 100 0 L 100 50 L 200 50 L 200 150 L 100 150 L 100 200 L 0 100 Z"},{viewBox:200,path:"M 200 100 L 100 0 L 100 50 L 0 50 L 0 150 L 100 150 L 100 200 L 200 100 Z"},{viewBox:200,path:"M 100 0 L 0 60 L 60 60 L 60 140 L 0 140 L 100 200 L 200 140 L 140 140 L 140 60 L 200 60 L 100 0 Z"},{viewBox:200,path:"M 0 100 L 60 0 L 60 60 L 140 60 L 140 0 L 200 100 L 140 200 L 140 140 L 60 140 L 60 200 L 0 100 Z"},{viewBox:200,path:"M 100 0 L 60 40 L 80 40 L 80 80 L 40 80 L 40 60 L 0 100 L 40 140 L 40 120 L 80 120 L 80 160 L 60 160 L 100 200 L 140 160 L 120 160 L 120 120 L 160 120 L 160 140 L 200 100 L 160 60 L 160 80 L 120 80 L 120 40 L 140 40 L 100 0 Z"},{viewBox:200,path:"M 0 100 L 100 0 L 100 50 L 200 50 L 150 100 L 200 150 L 100 150 L 100 200 L 0 100 Z"},{viewBox:200,path:"M 200 100 L 100 0 L 100 50 L 0 50 L 50 100 L 0 150 L 100 150 L 100 200 L 200 100 Z"},{viewBox:200,path:"M 0 100 L 80 20 L 80 80 L 120 80 L 120 0 L 200 0 L 200 200 L 120 200 L 120 120 L 80 120 L 80 180 L 0 100 Z"},{viewBox:200,path:"M 200 100 L 120 20 L 120 80 L 80 80 L 80 0 L 0 0 L 0 200 L 80 200 L 80 120 L 120 120 L 120 180 L 200 100 Z"},{viewBox:200,path:"M 0 0 L 120 0 L 200 100 L 120 200 L 0 200 L 80 100 L 0 0 Z"},{viewBox:200,path:"M 80 0 L 200 0 L 120 100 L 200 200 L 80 200 L 0 100 L 80 0 Z"},{viewBox:200,path:"M 0 0 L 140 0 L 200 100 L 140 200 L 0 200 L 0 100 L 0 0 Z"},{viewBox:200,path:"M 60 0 L 200 0 L 200 100 L 200 200 L 60 200 L 0 100 L 60 0 Z"},{viewBox:200,path:"M 0 0 L 200 100 L 0 200 L 60 100 L 0 0 Z"},{viewBox:200,path:"M 200 0 L 0 100 L 200 200 L 140 100 L 200 0 Z"},{viewBox:200,path:"M 0 0 L 80 0 L 200 100 L 80 200 L 0 200 L 120 100 L 0 0 Z"},{viewBox:200,path:"M 200 0 L 120 0 L 0 100 L 120 200 L 200 200 L 80 100 L 200 0 Z"},{viewBox:200,path:"M 0 200 L 180 200 L 180 40 L 200 40 L 160 0 L 120 40 L 140 40 L 140 160 L 0 160 L 0 200 Z"},{viewBox:200,path:"M 0 200 L 0 20 L 160 20 L 160 0 L 200 40 L 160 80 L 160 60 L 40 60 L 40 200 L 0 200 Z"},{viewBox:200,path:"M 40 180 L 180 180 L 180 40 L 200 40 L 160 0 L 120 40 L 140 40 L 140 140 L 40 140 L 40 120 L 0 160 L 40 200 L 40 180 Z"},{viewBox:1024,path:"M398.208 302.912V64L0 482.112l398.208 418.176V655.36c284.48 0 483.584 95.552 625.792 304.64-56.896-298.688-227.584-597.312-625.792-657.088z",special:!0},{viewBox:1024,path:"M625.792 302.912V64L1024 482.112l-398.208 418.176V655.36C341.312 655.36 142.208 750.912 0 960c56.896-298.688 227.584-597.312 625.792-657.088z",special:!0}]},{type:"其他形状",children:[{viewBox:1024,path:"M995.336 243.4016c-15.7584-36.5736-38.3376-69.26639999-66.91440001-97.37280001-28.5768-27.98879999-61.73999999-49.8624-98.78399999-65.26799998-38.22-15.876-78.6744-23.8728-120.4224-23.87280001-57.97680001 0-114.5424 15.876-163.69919999 45.864-11.76 7.17360001-22.932 15.05279999-33.51600001 23.63760001-10.584-8.5848-21.75600001-16.46400001-33.51600001-23.63760001-49.1568-29.98799999-105.7224-45.86399999-163.69919999-45.864-41.74799999 0-82.2024 7.9968-120.4224 23.87280001-36.9264 15.28799999-70.2072 37.27919999-98.78399999 65.26799998-28.6944 28.10640001-51.156 60.79919999-66.91440001 97.37280001-16.34639999 37.9848-24.696 78.3216-24.696 119.83439999 0 39.1608 7.9968 79.96800001 23.8728 121.48080001 13.28880001 34.692 32.34000001 70.67760001 56.6832 107.016 38.57279999 57.5064 91.61040001 117.4824 157.4664 178.28160001 109.1328 100.78319999 217.2072 170.4024 221.79359999 173.22479998l27.87120001 17.8752c12.348 7.8792 28.224 7.8792 40.572 0l27.87119999-17.8752c4.58639999-2.94 112.54319999-72.44159999 221.79360001-173.22479998 65.85599999-60.79919999 118.89359999-120.7752 157.4664-178.28160001 24.3432-36.33839999 43.512-72.324 56.68319999-107.016 15.876-41.5128 23.8728-82.32 23.87280001-121.48080001 0.1176-41.5128-8.232-81.8496-24.5784-119.83439999z",special:!0},{viewBox:1024,path:"M985.20746667 343.50079998l-303.32586667-44.08319999L546.28693333 24.5248c-3.70346666-7.5264-9.79626667-13.6192-17.32266665-17.32266668-18.87573334-9.3184-41.81333333-1.55306667-51.25120001 17.32266668L342.1184 299.41759999l-303.32586667 44.08319999c-8.36266667 1.19466667-16.00853333 5.13706667-21.8624 11.11040001-14.69440001 15.17226667-14.45546667 39.30453334 0.71679999 54.1184l219.46026668 213.9648-51.84853333 302.1312c-1.43359999 8.24320001-0.11946667 16.8448 3.82293333 24.25173333 9.79626667 18.6368 32.9728 25.92426667 51.6096 16.00853334L512 822.44266665l271.3088 142.64320001c7.40693333 3.9424 16.00853333 5.25653333 24.25173333 3.82293333 20.78719999-3.584 34.7648-23.296 31.1808-44.0832l-51.84853333-302.1312 219.46026668-213.9648c5.97333334-5.85386666 9.91573333-13.49973334 11.11039999-21.8624 3.2256-20.90666667-11.34933333-40.26026667-32.256-43.36640001z",special:!0},{viewBox:1024,path:"M852.65066667 405.84533333C800.54044445 268.40177778 667.76177778 170.66666667 512.22755555 170.66666667S223.91466667 268.288 171.80444445 405.73155555C74.29688889 431.33155555 2.27555555 520.07822222 2.27555555 625.77777778c0 125.72444445 101.83111111 227.55555555 227.44177778 227.55555555h564.56533334C919.89333333 853.33333333 1021.72444445 751.50222222 1021.72444445 625.77777778c0-105.472-71.79377778-194.21866667-169.07377778-219.93244445z",special:!0},{viewBox:1024,path:"M926.25224691 323.7371485H654.6457886L898.88200917 15.14388241c5.05486373-6.53433603 0.49315743-16.02761669-7.76722963-16.02761668H418.30008701c-3.45210206 0-6.78091476 1.84934039-8.50696579 4.93157436L90.35039154 555.76772251c-3.82197013 6.53433603 0.86302552 14.7947231 8.50696578 14.79472311h215.01664245l-110.22068713 440.88274851c-2.34249783 9.61657002 9.24670194 16.39748478 16.39748477 9.49328065L933.03316167 340.62779071c6.41104668-6.0411786 2.09591911-16.8906422-6.78091476-16.89064221z",special:!0},{viewBox:1024,path:"M878.47822222 463.30311111c-22.18666667-49.83466667-53.93066667-93.98044445-94.32177777-131.072l-33.10933334-30.37866666c-4.89244445-4.32355555-12.62933333-2.38933333-14.79111111 3.75466666l-14.79111111 42.43911111c-9.216 26.624-26.16888889 53.81688889-50.176 80.55466667-1.59288889 1.70666667-3.41333333 2.16177778-4.66488889 2.27555556-1.25155555 0.11377778-3.18577778-0.11377778-4.89244445-1.70666667-1.59288889-1.36533333-2.38933333-3.41333333-2.27555555-5.46133333 4.20977778-68.49422222-16.27022222-145.74933333-61.09866667-229.83111112C561.26577778 124.01777778 509.72444445 69.51822222 445.32622222 31.51644445l-46.99022222-27.648c-6.144-3.64088889-13.99466667 1.13777778-13.65333333 8.30577777l2.50311111 54.61333333c1.70666667 37.31911111-2.61688889 70.31466667-12.85688889 97.73511112-12.51555555 33.56444445-30.49244445 64.73955555-53.47555556 92.72888888-16.15644445 19.56977778-34.24711111 37.20533333-54.04444444 52.45155556-47.90044445 36.75022222-87.38133333 84.65066667-114.11911111 138.24C125.72444445 502.10133333 111.50222222 562.74488889 111.50222222 623.50222222c0 53.70311111 10.58133333 105.69955555 31.51644445 154.73777778 20.25244445 47.21777778 49.152 89.77066667 85.90222222 126.17955555 36.864 36.40888889 79.64444445 65.08088889 127.31733333 84.992C405.61777778 1010.11911111 457.95555555 1020.58666667 512 1020.58666667s106.38222222-10.46755555 155.76177778-31.06133334c47.67288889-19.91111111 90.56711111-48.46933333 127.31733333-84.992 36.864-36.40888889 65.76355555-78.96177778 85.90222222-126.17955555 20.93511111-49.03822222 31.51644445-101.03466667 31.51644445-154.73777778 0-55.52355555-11.37777778-109.45422222-34.01955556-160.31288889z",special:!0},{viewBox:1024,path:"M968.20337778 20.11591112H705.44042667c-22.17301333 0-41.92483556 15.16430222-47.14951111 37.33731555C642.36202666 124.73685332 582.08711111 173.03324444 512 173.03324444s-130.36202666-48.29639112-146.29091556-115.58001777c-5.22467555-22.17301333-24.84906667-37.33731556-47.14951111-37.33731555H55.79662222c-30.96576 0-56.06968889 25.10392889-56.06968888 56.06968888v321.12639999c0 30.96576 25.10392889 56.06968889 56.06968888 56.06968889h95.57333334v494.43271112c0 30.96576 25.10392889 56.06968889 56.06968889 56.06968888h609.1207111c30.96576 0 56.06968889-25.10392889 56.06968889-56.06968888V453.38168888h95.57333334c30.96576 0 56.06968889-25.10392889 56.06968888-56.06968889V76.1856c0-30.96576-25.10392889-56.06968889-56.06968888-56.06968888z",special:!0},{viewBox:1024,path:"M980.94648889 239.80714666H523.46880001L373.99210666 96.82944c-1.91146667-1.78403556-4.46008889-2.80348444-7.00871111-2.80348445H43.05351111c-22.55530667 0-40.77795555 18.22264888-40.77795555 40.77795557v754.39217776c0 22.55530667 18.22264888 40.77795555 40.77795555 40.77795557h937.89297778c22.55530667 0 40.77795555-18.22264888 40.77795555-40.77795557V280.58510222c0-22.55530667-18.22264888-40.77795555-40.77795555-40.77795556z",special:!0},{viewBox:1024,path:"M972.60904597 164.57058577L841.30587843 33.39070759c-18.86327195-18.86327195-44.1375906-29.34286748-70.64480282-29.3428675-26.75379095 0-51.90482023 10.47959553-70.76809219 29.3428675L558.60337778 174.68031322c-18.86327195 18.86327195-29.34286748 44.1375906-29.34286749 70.64480283 0 26.75379095 10.47959553 51.90482023 29.34286749 70.76809218l103.31648301 103.31648302c-24.28800376 53.50758189-57.69942011 101.59043198-99.24793416 143.13894603-41.42522469 41.67180341-89.63136414 75.08321976-143.13894603 99.61780223L316.21649759 558.84995649c-18.86327195-18.86327195-44.1375906-29.34286748-70.64480283-29.34286747-26.75379095 0-51.90482023 10.47959553-70.76809217 29.34286747L33.39070759 700.01627278c-18.86327195 18.86327195-29.34286748 44.1375906-29.3428675 70.76809217 0 26.75379095 10.47959553 51.90482023 29.3428675 70.76809219l131.05658883 131.05658883c30.08260365 30.205893 71.63111769 47.34311394 114.28923598 47.34311394 9.00012323 0 17.63037836-0.73973616 26.13734414-2.21920846 166.19405621-27.37023774 331.03192945-115.76870829 464.06114804-248.67463751C901.84095379 636.27567408 990.11613498 471.56109018 1017.85624079 304.87387654c8.38367642-50.91850535-8.50696579-103.31648302-45.24719482-140.30329077z",special:!0},{viewBox:1024,path:"M910.60451556 640.96028445c-20.38897778-65.49959112-43.83630221-120.54983112-79.89930667-210.64362666C836.31217778 193.67708444 737.93535999 2.27555556 511.36284444 2.27555556 282.24170667 2.27555556 186.03121778 197.50001778 192.14791111 430.31665779c-36.19043555 90.22122667-59.51032888 144.88917333-79.89930667 210.64362666-43.32657778 139.53706668-29.30915556 197.26336001-18.60494222 198.53767111 22.9376 2.80348444 89.32920888-105.00323556 89.32920889-105.00323556 0 62.44124445 32.11264001 143.86972444 101.69002667 202.61546667-33.64181333 10.32192-109.20846222 38.10190221-91.24067556 68.55793777 14.52714667 24.59420444 250.01984 15.67402668 317.94062222 8.02816 67.92078222 7.64586667 303.41347556 16.56604444 317.94062223-8.02816 17.96778667-30.32860444-57.72629333-58.23601779-91.24067555-68.55793777 69.57738667-58.87317334 101.69002667-140.30165333 101.69002667-202.61546667 0 0 66.39160889 107.80672 89.32920888 105.00323556 10.83164445-1.40174222 24.84906667-59.12803556-18.47751111-198.53767111z",special:!0},{viewBox:1024,path:"M1016.86992592 199.24764445c-37.13706667 16.01991111-77.55093333 27.54939259-119.17842962 32.03982222 42.96248889-25.60758518 75.60912592-66.02145185 91.02222222-114.08118519-39.68568889 23.66577778-84.58998518 41.02068148-131.31472593 50.00154074C819.53374815 126.79395555 765.76995555 101.79318518 706.18074075 101.79318518c-114.688 0-206.92385185 92.96402963-206.92385186 207.04521482 0 16.01991111 1.94180741 32.03982222 5.09724444 47.45291852-171.72859259-8.98085925-324.88865185-91.02222222-426.71217778-216.63288889-17.96171852 30.82619259-28.15620741 66.02145185-28.1562074 104.49351112 0 71.84687408 36.53025185 135.19834075 92.23585185 172.45677036-33.98162963-1.33499259-66.02145185-10.92266667-93.57084445-26.33576296v2.54862222c0 100.6098963 71.1186963 183.98625185 165.90317037 203.1616-17.3549037 4.49042963-35.92343703 7.03905185-54.49197037 7.03905185-13.47128889 0-26.2144-1.33499259-39.07887407-3.15543704C146.69748148 681.90814815 223.03478518 741.49736297 313.93564445 743.43917037c-71.1186963 55.7056-160.19911111 88.4736-256.9253926 88.4736-17.3549037 0-33.37481482-0.60681482-50.00154074-2.54862222C98.75911111 888.22518518 207.62168889 922.20681482 324.85831111 922.20681482 705.45256297 922.20681482 913.71140741 606.90583703 913.71140741 333.23235555c0-8.98085925 0-17.96171852-0.60681482-26.94257777 40.2925037-29.4912 75.60912592-66.02145185 103.76533333-107.04213333z",special:!0},{viewBox:1024,path:"M917.96720197 1.08889505H106.03279803C53.56084718 1.08889505 9.37393998 45.27580225 9.37393998 97.74775309v5.52336372c0 19.33177108 8.28504494 41.42522469 22.0934536 55.23363205l331.40179753 392.15879462v325.87843379c0 16.57008987 8.28504494 30.37849854 22.09345359 35.90186098l209.88780469 104.94390299 2.76168121 2.76168121c27.61681602 11.04672615 55.23363335-8.28504494 55.23363335-38.66354218V550.66354348l331.40179753-392.15879462c35.90186097-41.42522469 30.37849854-102.18222047-11.04672616-135.32240022-11.04672615-13.80840865-33.14017975-22.0934536-55.23363335-22.09345359z",special:!0},{viewBox:1024,path:"M491.70164031 97.48884502a25.89076502 25.89076502 0 0 1 40.59671938 0L745.66415762 367.01171317a25.89076502 25.89076502 0 0 0 30.49932208 7.72839349l208.00640948-89.14190458a25.89076502 25.89076502 0 0 1 35.56096592 29.06238339l-115.18801541 554.96855704A103.56306132 103.56306132 0 0 1 803.14165689 952.14301275H220.85834311a103.56306132 103.56306132 0 0 1-101.4011828-82.51387024l-115.18801541-554.96855704a25.89076502 25.89076502 0 0 1 35.54802012-29.06238339l208.01935528 89.14190458a25.89076502 25.89076502 0 0 0 30.49932208-7.72839349l213.36579793-269.52286815z",special:!0},{viewBox:1024,path:"M643.02466884 387.7801525c19.85376751-88.69205333 33.718272-152.84087467 41.61900049-192.57389433C704.52292267 95.17283515 652.90057916 2.27555515 550.58614084 2.27555515c-92.26012484 0-138.59407685 45.84971417-165.91530666 137.49816969l-0.70087152 2.67605334c-16.40038399 74.13942085-41.47882668 131.61085116-74.6746315 172.73287031a189.06953915 189.06953915 0 0 1-143.04142182 70.44391902l-26.17434983 0.5606965C77.66380049 387.52529067 27.76177817 438.90551468 27.76177817 501.84374084V881.55022182c0 77.4144 62.25009818 140.17422182 139.05282766 140.17422303h492.82707951c101.23127467 0 191.59267516-63.995904 225.93535999-159.98976l102.37815468-286.22301868c26.04691951-72.82688-11.39234134-153.15945284-83.63303784-179.42300483a138.04612267 138.04612267 0 0 0-47.17499733-8.30850884H643.02466884z",special:!0},{viewBox:1024,path:"M512 512c140.82958222 0 254.86222222-114.03264 254.86222222-254.86222222S652.82958222 2.27555555 512 2.27555555a254.78940445 254.78940445 0 0 0-254.86222222 254.86222223C257.13777778 397.96736 371.17041778 512 512 512z m0 72.81777778c-170.10232889 0-509.72444445 97.57582222-509.72444445 291.27111111v145.63555556h1019.4488889v-145.63555556c0-193.69528889-339.62211555-291.27111111-509.72444445-291.27111111z",special:!0},{viewBox:1024,path:"M1019.81297778 564.50161779l-138.89991111-472.51456c-8.66531556-25.99594668-29.43658667-43.45400889-57.21656889-43.45400891s-50.33528889 15.67402668-59.00060446 41.66997334l-92.00526221 274.48661334H351.69166222L259.6864 90.33045333c-8.66531556-25.99594668-31.22062222-41.66997333-59.00060444-41.66997332s-50.33528889 17.33063112-57.2165689 43.45400887L4.69674667 564.50161779c-5.22467555 17.33063112 1.78403556 36.44529778 15.67402667 46.89464887l491.11950221 368.27591113 492.77610666-368.27591113c13.76256-10.32192 20.77127111-29.43658667 15.54659557-46.89464887z",special:!0},{viewBox:1024,path:"M927.78951111 340.39277037c-12.01493333-47.81700741 12.01493333-124.03294815 89.08041481-150.97552592l-82.40545184-4.36906667s-31.19028148-109.22666667-174.27721483-118.9357037c-143.08693333-9.8304-236.65777778-3.64088889-236.65777777-3.6408889s106.07122963 67.47780741 63.5941926 187.74850371c-31.06891852 63.71555555-79.85682963 116.02299259-132.04290371 175.61220741-1.57771852 1.57771852-3.03407408 3.15543703-4.2477037 4.49042962C278.25493333 624.86755555 7.13007408 934.34311111 7.13007408 934.34311111c298.43152592 78.15774815 498.43768889-7.64586667 616.76657777-110.56165926 24.87940741-0.24272592 43.5693037-0.36408889 56.19105185-0.36408888 164.8109037 0 304.13558518-142.72284445 298.43152593-301.4656-3.88361482-109.1053037-38.71478518-133.74198518-50.72971852-181.5589926z",special:!0}]}],du=Object(j["defineComponent"])({name:"shape-pool",emits:["select"],setup:function(e,t){var n=t.emit,o=su,l=function(e){n("select",e)};return{shapeList:o,selectShape:l}}});n("e202");const fu=Bn()(du,[["render",uu],["__scopeId","data-v-612b80ef"]]);var pu=fu,mu={class:"line-pool"},bu={class:"category-name"},vu={class:"line-list"},hu=["onClick"],Ou=["d","stroke-dasharray","marker-start","marker-end"];function ju(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("LinePointMarker"),r=Object(j["resolveComponent"])("SvgWrapper");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",mu,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.lineList,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"category",key:t.type},[Object(j["createElementVNode"])("div",bu,Object(j["toDisplayString"])(t.type),1),Object(j["createElementVNode"])("div",vu,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(t.children,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"line-item",key:n},[Object(j["createElementVNode"])("div",{class:"line-content",onClick:function(n){return e.selectLine(t)}},[Object(j["createVNode"])(r,{overflow:"visible",width:"20",height:"20"},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("defs",null,[t.points[0]?(Object(j["openBlock"])(),Object(j["createBlock"])(c,{key:0,class:"line-marker",id:"preset-line-".concat(n),position:"start",type:t.points[0],color:"currentColor",baseSize:2},null,8,["id","type"])):Object(j["createCommentVNode"])("",!0),t.points[1]?(Object(j["openBlock"])(),Object(j["createBlock"])(c,{key:1,class:"line-marker",id:"preset-line-".concat(n),position:"end",type:t.points[1],color:"currentColor",baseSize:2},null,8,["id","type"])):Object(j["createCommentVNode"])("",!0)]),Object(j["createElementVNode"])("path",{class:"line-path",d:t.path,stroke:"currentColor",fill:"none","stroke-width":"2","stroke-dasharray":"solid"===t.style?"0, 0":"4, 1","stroke-linecap":"","stroke-linejoin":"","stroke-miterlimit":"","marker-start":t.points[0]?"url(#".concat("preset-line-".concat(n),"-",t.points[0],"-start)"):"","marker-end":t.points[1]?"url(#".concat("preset-line-".concat(n),"-",t.points[1],"-end)"):""},null,8,Ou)]})),_:2},1024)],8,hu)])})),128))])])})),128))])}var gu=[{type:"直线",children:[{path:"M 0 0 L 20 20",style:"solid",points:["",""]},{path:"M 0 0 L 20 20",style:"dashed",points:["",""]},{path:"M 0 0 L 20 20",style:"solid",points:["","arrow"]},{path:"M 0 0 L 20 20",style:"dashed",points:["","arrow"]},{path:"M 0 0 L 20 20",style:"solid",points:["","dot"]}]},{type:"折线、曲线",children:[{path:"M 0 0 L 0 20 L 20 20",style:"solid",points:["","arrow"],isBroken:!0},{path:"M 0 0 Q 0 20 20 20",style:"solid",points:["","arrow"],isCurve:!0}]}],yu=Object(j["defineComponent"])({name:"line-pool",emits:["select"],components:{LinePointMarker:Aa},setup:function(e,t){var n=t.emit,o=gu,l=function(e){n("select",e)};return{lineList:o,selectLine:l}}});n("805f");const xu=Bn()(yu,[["render",ju],["__scopeId","data-v-6302e570"]]);var Cu=xu,ku={class:"chart-pool"},wu=["onClick"];function Eu(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("IconChartLine"),r=Object(j["resolveComponent"])("IconChartHistogram"),i=Object(j["resolveComponent"])("IconChartPie");return Object(j["openBlock"])(),Object(j["createElementBlock"])("ul",ku,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.chartList,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("li",{class:"chart-item",key:n},[Object(j["createElementVNode"])("div",{class:"chart-content",onClick:function(n){return e.selectChart(t)}},["line"===t?(Object(j["openBlock"])(),Object(j["createBlock"])(c,{key:0,size:"24"})):"bar"===t?(Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:1,size:"24"})):"pie"===t?(Object(j["openBlock"])(),Object(j["createBlock"])(i,{key:2,size:"24"})):Object(j["createCommentVNode"])("",!0)],8,wu)])})),128))])}var Nu=Object(j["defineComponent"])({name:"chart-pool",emits:["select"],setup:function(e,t){var n=t.emit,o=["bar","line","pie"],l=function(e){n("select",e)};return{chartList:o,selectChart:l}}});n("f076");const Iu=Bn()(Nu,[["render",Eu],["__scopeId","data-v-ab6a141a"]]);var Vu=Iu,Su=function(e){return Object(j["pushScopeId"])("data-v-e325ce98"),e=e(),Object(j["popScopeId"])(),e},Lu={class:"table-generator"},Bu={class:"title"},Tu={class:"lef"},Mu=["onMouseenter"],_u={key:1,class:"custom"},Du={class:"row"},zu=Su((function(){return Object(j["createElementVNode"])("div",{class:"label",style:{flex:"1"}},"行数：",-1)})),Au={class:"row"},Ru=Su((function(){return Object(j["createElementVNode"])("div",{class:"label",style:{flex:"1"}},"列数：",-1)})),Fu={class:"btns"},Pu=Object(j["createTextVNode"])("取消"),Hu=Object(j["createTextVNode"])("确认");function qu(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("InputNumber"),r=Object(j["resolveComponent"])("Button");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Lu,[Object(j["createElementVNode"])("div",Bu,[Object(j["createElementVNode"])("div",Tu,"表格 "+Object(j["toDisplayString"])(e.endCell.length?"".concat(e.endCell[0]," x ").concat(e.endCell[1]):""),1),Object(j["createElementVNode"])("div",{class:"right",onClick:t[0]||(t[0]=function(t){return e.isCustom=!e.isCustom})},Object(j["toDisplayString"])(e.isCustom?"返回":"自定义"),1)]),e.isCustom?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",_u,[Object(j["createElementVNode"])("div",Du,[zu,Object(j["createVNode"])(c,{min:1,max:20,value:e.customRow,"onUpdate:value":t[3]||(t[3]=function(t){return e.customRow=t}),style:{flex:"3"}},null,8,["value"])]),Object(j["createElementVNode"])("div",Au,[Ru,Object(j["createVNode"])(c,{min:1,max:20,value:e.customCol,"onUpdate:value":t[4]||(t[4]=function(t){return e.customCol=t}),style:{flex:"3"}},null,8,["value"])]),Object(j["createElementVNode"])("div",Fu,[Object(j["createVNode"])(r,{class:"btn",onClick:t[5]||(t[5]=function(t){return e.close()})},{default:Object(j["withCtx"])((function(){return[Pu]})),_:1}),Object(j["createVNode"])(r,{class:"btn",type:"primary",onClick:t[6]||(t[6]=function(t){return e.insertCustomTable()})},{default:Object(j["withCtx"])((function(){return[Hu]})),_:1})])])):(Object(j["openBlock"])(),Object(j["createElementBlock"])("table",{key:0,onMouseleave:t[1]||(t[1]=function(t){return e.endCell=[]}),onClick:t[2]||(t[2]=function(t){return e.handleClickTable()})},[Object(j["createElementVNode"])("tbody",null,[(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(10,(function(t){return Object(j["createElementVNode"])("tr",{key:t},[(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(10,(function(n){return Object(j["createElementVNode"])("td",{onMouseenter:function(o){return e.endCell=[t,n]},key:n},[Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["cell",{active:e.endCell.length&&t<=e.endCell[0]&&n<=e.endCell[1]}])},null,2)],40,Mu)})),64))])})),64))])],32))])}var Wu=Object(j["defineComponent"])({name:"table-generator",emits:["insert","close"],setup:function(e,t){var n=t.emit,o=Object(j["ref"])([]),l=Object(j["ref"])(3),a=Object(j["ref"])(3),c=Object(j["ref"])(!1),r=function(){if(o.value.length){var e=Object(zt["a"])(o.value,2),t=e[0],l=e[1];n("insert",{row:t,col:l})}},i=function(){return l.value<1||l.value>20||a.value<1||a.value>20?he["a"].warning("行数/列数必须在0~20之间！"):(n("insert",{row:l.value,col:a.value}),void(c.value=!1))},u=function(){n("close"),c.value=!1};return{endCell:o,customRow:l,customCol:a,handleClickTable:r,insertCustomTable:i,isCustom:c,close:u}}});n("5a68");const Xu=Bn()(Wu,[["render",qu],["__scopeId","data-v-e325ce98"]]);var Gu=Xu,Uu={class:"video-input"},Yu={class:"btns"},Zu=Object(j["createTextVNode"])("取消"),Ju=Object(j["createTextVNode"])("确认");function Ku(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("Input"),r=Object(j["resolveComponent"])("Button");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Uu,[Object(j["createVNode"])(c,{value:e.src,"onUpdate:value":t[0]||(t[0]=function(t){return e.src=t}),placeholder:"请输入视频地址，e.g. https://xxx.mp4"},null,8,["value"]),Object(j["createElementVNode"])("div",Yu,[Object(j["createVNode"])(r,{onClick:t[1]||(t[1]=function(t){return e.close()}),style:{"margin-right":"10px"}},{default:Object(j["withCtx"])((function(){return[Zu]})),_:1}),Object(j["createVNode"])(r,{type:"primary",onClick:t[2]||(t[2]=function(t){return e.intsertVideo()})},{default:Object(j["withCtx"])((function(){return[Ju]})),_:1})])])}var Qu=Object(j["defineComponent"])({name:"video-input",emits:["insert","close"],setup:function(e,t){var n=t.emit,o=Object(j["ref"])("https://www.w3school.com.cn/i/movie.ogg"),l=function(){if(!o.value)return he["a"].error("请先输入正确的视频地址");n("insert",o.value)},a=function(){return n("close")};return{src:o,intsertVideo:l,close:a}}});n("aa7e");const $u=Bn()(Qu,[["render",Ku],["__scopeId","data-v-eedf2b12"]]);var es=$u,ts={class:"latex-editor"},ns={class:"container"},os={class:"left"},ls={class:"input-area"},as={class:"preview"},cs={key:0,class:"placeholder"},rs={key:1,class:"preview-content"},is={class:"right"},us={class:"tabs"},ss=["onClick"],ds={class:"content"},fs={key:0,class:"symbol"},ps={class:"symbol-tabs"},ms=["onClick"],bs={class:"symbol-pool"},vs=["onClick"],hs={key:1,class:"formula"},Os={class:"formula-title"},js=["onClick"],gs={class:"footer"},ys=Object(j["createTextVNode"])("取消"),xs=Object(j["createTextVNode"])("确定");function Cs(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("TextArea"),r=Object(j["resolveComponent"])("FormulaContent"),i=Object(j["resolveComponent"])("SymbolContent"),u=Object(j["resolveComponent"])("Button");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",ts,[Object(j["createElementVNode"])("div",ns,[Object(j["createElementVNode"])("div",os,[Object(j["createElementVNode"])("div",ls,[Object(j["createVNode"])(c,{value:e.latex,"onUpdate:value":t[0]||(t[0]=function(t){return e.latex=t}),placeholder:"输入 LaTeX 公式",ref:"textAreaRef"},null,8,["value"])]),Object(j["createElementVNode"])("div",as,[e.latex?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",rs,[Object(j["createVNode"])(r,{width:518,height:138,latex:e.latex},null,8,["latex"])])):(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",cs,"公式预览"))])]),Object(j["createElementVNode"])("div",is,[Object(j["createElementVNode"])("div",us,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.tabs,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["tab",{active:t.value===e.toolbarState}]),key:t.value,onClick:function(n){return e.toolbarState=t.value}},Object(j["toDisplayString"])(t.label),11,ss)})),128))]),Object(j["createElementVNode"])("div",ds,["symbol"===e.toolbarState?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",fs,[Object(j["createElementVNode"])("div",ps,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.symbolList,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["symbol-tab",{active:e.selectedSymbolKey===t.type}]),key:t.type,onClick:function(n){return e.selectedSymbolKey=t.type}},Object(j["toDisplayString"])(t.label),11,ms)})),128))]),Object(j["createElementVNode"])("div",bs,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.symbolPool,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"symbol-item",key:t.latex,onClick:function(n){return e.insertSymbol(t.latex)}},[Object(j["createVNode"])(i,{latex:t.latex},null,8,["latex"])],8,vs)})),128))])])):(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",hs,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.formulaList,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"formula-item",key:t.label},[Object(j["createElementVNode"])("div",Os,Object(j["toDisplayString"])(t.label),1),Object(j["createElementVNode"])("div",{class:"formula-item-content",onClick:function(n){return e.latex=t.latex}},[Object(j["createVNode"])(r,{width:236,height:60,latex:t.latex},null,8,["latex"])],8,js)])})),128))]))])])]),Object(j["createElementVNode"])("div",gs,[Object(j["createVNode"])(u,{class:"btn",onClick:t[1]||(t[1]=function(t){return e.close()})},{default:Object(j["withCtx"])((function(){return[ys]})),_:1}),Object(j["createVNode"])(u,{class:"btn",type:"primary",onClick:t[2]||(t[2]=function(t){return e.update()})},{default:Object(j["withCtx"])((function(){return[xs]})),_:1})])])}var ks=n("e5ca");ks["a"].SUB_SUP_SCALE=.5;var ws=[{label:"高斯公式",latex:"\\int\\int\\int _ { \\Omega } \\left( \\frac { \\partial {P} } { \\partial {x} } + \\frac { \\partial {Q} } { \\partial {y} } + \\frac { \\partial {R} }{ \\partial {z} } \\right) \\mathrm { d } V = \\oint _ { \\partial \\Omega } ( P \\cos \\alpha + Q \\cos \\beta + R \\cos \\gamma ) \\mathrm{ d} S"},{label:"傅里叶级数",latex:"f(x) = \\frac {a_0} 2 + \\sum_{n = 1}^\\infty {({a_n}\\cos {nx} + {b_n}\\sin {nx})}"},{label:"泰勒展开式",latex:"e ^ { x } = 1 + \\frac { x } { 1 ! } + \\frac { x ^ { 2 } } { 2 ! } + \\frac { x ^ { 3 } } { 3 ! } + ... , \\quad - \\infty < x < \\infty"},{label:"定积分",latex:"\\lim_ { n \\rightarrow + \\infty } \\sum _ { i = 1 } ^ { n } f \\left[ a + \\frac { i } { n } ( b - a ) \\right] \\frac { b - a } { n } = \\int _ { a } ^ { b } f ( x ) dx"},{label:"三角恒等式1",latex:"\\sin \\alpha \\pm \\sin \\beta = 2 \\sin \\frac { 1 } { 2 } ( \\alpha \\pm \\beta ) \\cos \\frac { 1 } { 2 } ( \\alpha \\mp \\beta )"},{label:"三角恒等式2",latex:"\\cos \\alpha + \\cos \\beta = 2 \\cos \\frac { 1 } { 2 } ( \\alpha + \\beta ) \\cos \\frac { 1 } { 2 } ( \\alpha - \\beta )"},{label:"和的展开式",latex:"( 1 + x ) ^ { n } = 1 + \\frac { n x } { 1 ! } + \\frac { n ( n - 1 ) x ^ { 2 } } { 2 ! } + ..."},{label:"欧拉公式",latex:" e^{ix} = \\cos {x} + i\\sin {x}"},{label:"贝努利方程",latex:"\\frac {dy} {dx} + P(x)y = Q(x) y^n ({n} \\not= {0,1})"},{label:"全微分方程",latex:"du(x,y) = P(x,y)dx + Q(x,y)dy = 0"},{label:"非齐次方程",latex:"y = (\\int Q(x) e^{\\int {P(x)dx}}dx + C)e^{-\\int {P(x)dx}}"},{label:"柯西中值定理",latex:"\\frac{{f(b) - f(a)}}{{F(b) - F(a)}} = \\frac{{f'(\\xi )}}{{F'(\\xi )}}"},{label:"拉格朗日中值定理",latex:"f(b) - f(a) = f'(\\xi )(b - a)"},{label:"导数公式",latex:"(\\arcsin x)' = \\frac{1}{{\\sqrt {1 - x^2} }}"},{label:"三角函数积分",latex:"\\int {tgxdx = - \\ln \\left| {\\cos x} \\right| + C}"},{label:"二次曲面",latex:"\\frac{{{x^2}}}{{{a^2}}} + \\frac{{{y^2}}}{{{b^2}}} - \\frac{{{z^2}}}{{{c^2}}} = 1"},{label:"二阶微分",latex:"\\frac {{d^2}y} {dx^2} + P(x) \\frac {dy} {dx} + Q(x)y = f(x)"},{label:"方向导数",latex:"\\frac{{\\partial f}}{{\\partial l}} = \\frac{{\\partial f}}{{\\partial x}}\\cos \\phi + \\frac{{\\partial f}}{{\\partial y}}\\sin \\phi"}],Es=[{type:"operators",label:"数学",children:[{latex:"\\cdot"},{latex:"\\pm"},{latex:"\\mp"},{latex:"+"},{latex:"-"},{latex:"\\times"},{latex:"\\div"},{latex:"<"},{latex:">"},{latex:"="},{latex:"\\neq\\ne"},{latex:"\\leqq"},{latex:"\\geqq"},{latex:"\\leq"},{latex:"\\geq"},{latex:"\\propto"},{latex:"\\sim"},{latex:"\\equiv"},{latex:"\\dagger"},{latex:"\\ddagger"},{latex:"\\ell"},{latex:"\\#"},{latex:"\\$"},{latex:"\\&"},{latex:"\\%"},{latex:"\\langle\\rangle"},{latex:"()"},{latex:"[]"},{latex:"\\{\\}"},{latex:"||"},{latex:"\\|"},{latex:"\\exists"},{latex:"\\in"},{latex:"\\subset"},{latex:"\\supset"},{latex:"\\cup"},{latex:"\\cap"},{latex:"\\infty"},{latex:"\\partial"},{latex:"\\nabla"},{latex:"\\aleph"},{latex:"\\wp"},{latex:"\\therefore"},{latex:"\\mid"},{latex:"\\sum"},{latex:"\\prod"},{latex:"\\bigoplus"},{latex:"\\bigodot"},{latex:"\\int"},{latex:"\\oint"},{latex:"\\oplus"},{latex:"\\odot"},{latex:"\\perp"},{latex:"\\angle"},{latex:"\\triangle"},{latex:"\\Box"},{latex:"\\rightarrow"},{latex:"\\to"},{latex:"\\leftarrow"},{latex:"\\gets"},{latex:"\\circ"},{latex:"\\bigcirc"},{latex:"\\bullet"},{latex:"\\star"},{latex:"\\diamond"},{latex:"\\ast"},{latex:","},{latex:"."},{latex:";"},{latex:"!"}]},{type:"group",label:"组合",children:[{latex:"\\frac{a}{b}"},{latex:"\\frac{dx}{dx}"},{latex:"\\frac{\\partial a}{\\partial b}"},{latex:"\\sqrt{x}"},{latex:"\\sqrt[n]{x}"},{latex:"x^{n}"},{latex:"x_{n}"},{latex:"x_a^b"},{latex:"\\int_{a}^{b}"},{latex:"\\oint_a^b"},{latex:"\\lim_{a \\rightarrow b}"},{latex:"\\prod_a^b"},{latex:"\\sum_a^b"},{latex:"\\left(\\begin{array}a \\\\ b\\end{array}\\right)"},{latex:"\\begin{bmatrix}a & b \\\\ c & d \\end{bmatrix}"},{latex:"\\begin{cases}a & x = 0 \\\\ b & x > 0\\end{cases}"},{latex:"\\hat{a}"},{latex:"\\breve{a}"},{latex:"\\acute{a}"},{latex:"\\grave{a}"},{latex:"\\tilde{a}"},{latex:"\\bar{a}"},{latex:"\\vec{a}"},{latex:"\\underline{a}"},{latex:"\\overline{a}"},{latex:"\\widehat{ab}"},{latex:"\\overleftarrow{ab}"},{latex:"\\overrightarrow{ab}"}]},{type:"verbatim",label:"函数",children:[{latex:"\\log"},{latex:"\\ln"},{latex:"\\exp"},{latex:"\\mod"},{latex:"\\lim"},{latex:"\\sin"},{latex:"\\cos"},{latex:"\\tan"},{latex:"\\csc"},{latex:"\\sec"},{latex:"\\cot"},{latex:"\\sinh"},{latex:"\\cosh"},{latex:"\\tanh"},{latex:"\\csch"},{latex:"\\sech"},{latex:"\\coth"},{latex:"\\arcsin"},{latex:"\\arccos"},{latex:"\\arctan"},{latex:"\\arccsc"},{latex:"\\arcsec"},{latex:"\\arccot"}]},{type:"greek",label:"希腊字母",children:[{latex:"\\alpha"},{latex:"\\beta"},{latex:"\\gamma"},{latex:"\\delta"},{latex:"\\varepsilon"},{latex:"\\zeta"},{latex:"\\eta"},{latex:"\\vartheta"},{latex:"\\iota"},{latex:"\\kappa"},{latex:"\\lambda"},{latex:"\\mu"},{latex:"\\nu"},{latex:"\\xi"},{latex:"\\omicron"},{latex:"\\pi"},{latex:"\\rho"},{latex:"\\sigma"},{latex:"\\tau"},{latex:"\\upsilon"},{latex:"\\varphi"},{latex:"\\chi"},{latex:"\\psi"},{latex:"\\omega"},{latex:"\\epsilon"},{latex:"\\theta"},{latex:"\\phi"},{latex:"\\varsigma"},{latex:"\\Alpha"},{latex:"\\Beta"},{latex:"\\Gamma"},{latex:"\\Delta"},{latex:"\\Epsilon"},{latex:"\\Zeta"},{latex:"\\Eta"},{latex:"\\Theta"},{latex:"\\Iota"},{latex:"\\Kappa"},{latex:"\\Lambda"},{latex:"\\Mu"},{latex:"\\Nu"},{latex:"\\Xi"},{latex:"\\Omicron"},{latex:"\\Pi"},{latex:"\\Rho"},{latex:"\\Sigma"},{latex:"\\Tau"},{latex:"\\Upsilon"},{latex:"\\Phi"},{latex:"\\Chi"},{latex:"\\Psi"},{latex:"\\Omega"}]}],Ns=["transform"],Is=["d"];function Vs(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("SvgWrapper");return Object(j["openBlock"])(),Object(j["createBlock"])(c,{class:"formula-content",overflow:"visible",width:e.box.w+32,height:e.box.h+32,stroke:"#000","stroke-width":"1",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("g",{transform:"scale(".concat(e.scale,", ").concat(e.scale,") translate(0,0) matrix(1,0,0,1,0,0)"),"transform-origin":"0 50%"},[Object(j["createElementVNode"])("path",{d:e.pathd},null,8,Is)],8,Ns)]})),_:1},8,["width","height"])}var Ss=Object(j["defineComponent"])({name:"formula-content",props:{latex:{type:String,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0}},setup:function(e){var t=Object(j["ref"])({x:0,y:0,w:0,h:0}),n=Object(j["ref"])("");Object(j["watch"])((function(){return e.latex}),(function(){var o=new ks["b"](e.latex);n.value=o.pathd({}),t.value=o.box({})}),{immediate:!0});var o=Object(j["computed"])((function(){var n=t.value.w+32,o=t.value.h+32;return n>e.width||o>e.height?n/o>e.width/e.height?e.width/n:e.height/o:1}));return{box:t,pathd:n,scale:o}}});const Ls=Bn()(Ss,[["render",Vs]]);var Bs=Ls,Ts=["innerHTML"];function Ms(e,t,n,o,l,a){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"symbol-content",innerHTML:e.svg},null,8,Ts)}var _s=Object(j["defineComponent"])({name:"symbol-content",props:{latex:{type:String,required:!0}},setup:function(e){var t=Object(j["computed"])((function(){var t=new ks["b"](e.latex);return t.svg({SCALE_X:10,SCALE_Y:10})}));return{svg:t}}});const Ds=Bn()(_s,[["render",Ms]]);var zs=Ds,As=[{label:"常用符号",value:"symbol"},{label:"预置公式",value:"formula"}],Rs=Object(j["defineComponent"])({name:"latex-editor",emits:["update","close"],components:{FormulaContent:Bs,SymbolContent:zs},props:{value:{type:String,default:""}},setup:function(e,t){var n=t.emit,o=Object(j["ref"])(""),l=Object(j["ref"])("symbol"),a=Object(j["ref"])(),c=Object(j["ref"])(Es[0].type),r=Object(j["computed"])((function(){var e=Es.find((function(e){return e.type===c.value}));return(null===e||void 0===e?void 0:e.children)||[]}));Object(j["onMounted"])((function(){e.value&&(o.value=e.value)}));var i=function(){if(o.value){var e=new ks["b"](o.value),t=e.pathd({}),l=e.box({});n("update",{latex:o.value,path:t,w:l.w+32,h:l.h+32})}},u=function(){return n("close")},s=function(e){a.value&&(a.value.focus(),document.execCommand("insertText",!1,e))};return{tabs:As,latex:o,toolbarState:l,selectedSymbolKey:c,formulaList:ws,symbolList:Es,symbolPool:r,textAreaRef:a,update:i,close:u,insertSymbol:s}}});n("b824");const Fs=Bn()(Rs,[["render",Cs],["__scopeId","data-v-129e1afa"]]);var Ps=Fs,Hs=Object(j["defineComponent"])({name:"canvas-tool",components:{ShapePool:pu,LinePool:Cu,ChartPool:Vu,TableGenerator:Gu,VideoInput:es,LaTeXEditor:Ps},setup:function(){var e=$(),t=Object(g["c"])(e),n=t.canvasScale,o=Object(g["c"])(ue()),l=o.canUndo,a=o.canRedo,c=Object(j["computed"])((function(){return parseInt(100*n.value+"")+"%"})),r=at(),i=r.scaleCanvas,u=r.setCanvasPercentage,s=Pe(),d=s.redo,f=s.undo,p=Xe(),m=p.createImageElement,b=p.createChartElement,v=p.createTableElement,h=p.createLatexElement,O=p.createVideoElement,y=function(e){var t=e[0];t&&qe(t).then((function(e){return m(e)}))},x=Object(j["ref"])(!1),C=Object(j["ref"])(!1),k=Object(j["ref"])(!1),w=Object(j["ref"])(!1),E=Object(j["ref"])(!1),N=Object(j["ref"])(!1),I=function(){e.setCreatingElement({type:"text"})},V=function(t){e.setCreatingElement({type:"shape",data:t}),x.value=!1},S=function(t){e.setCreatingElement({type:"line",data:t}),C.value=!1};return{scaleCanvas:i,setCanvasPercentage:u,canvasScalePercentage:c,canUndo:l,canRedo:a,redo:d,undo:f,insertImageElement:y,shapePoolVisible:x,linePoolVisible:C,chartPoolVisible:k,tableGeneratorVisible:w,videoInputVisible:E,latexEditorVisible:N,drawText:I,drawShape:V,drawLine:S,createChartElement:b,createTableElement:v,createLatexElement:h,createVideoElement:O}}});n("2fa9");const qs=Bn()(Hs,[["render",nu],["__scopeId","data-v-26ae5066"]]);var Ws=qs,Xs={class:"add-slide"},Gs=Object(j["createTextVNode"])("添加幻灯片"),Us={class:"select-btn"},Ys=["onMousedown"],Zs={class:"label"};function Js(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("IconPlus"),r=Object(j["resolveComponent"])("LayoutPool"),i=Object(j["resolveComponent"])("IconDown"),u=Object(j["resolveComponent"])("Popover"),s=Object(j["resolveComponent"])("ThumbnailSlide"),d=Object(j["resolveComponent"])("Draggable"),f=Object(j["resolveDirective"])("contextmenu"),p=Object(j["resolveDirective"])("click-outside");return Object(j["withDirectives"])((Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"thumbnails",onMousedown:t[3]||(t[3]=function(){return e.setThumbnailsFocus(!0)})},[Object(j["createElementVNode"])("div",Xs,[Object(j["createElementVNode"])("div",{class:"btn",onClick:t[0]||(t[0]=function(t){return e.createSlide()})},[Object(j["createVNode"])(c,{class:"icon"}),Gs]),Object(j["createVNode"])(u,{trigger:"click",placement:"bottomLeft",visible:e.presetLayoutPopoverVisible,"onUpdate:visible":t[2]||(t[2]=function(t){return e.presetLayoutPopoverVisible=t})},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{onSelect:t[1]||(t[1]=function(t){e.createSlideByTemplate(t),e.presetLayoutPopoverVisible=!1})})]})),default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",Us,[Object(j["createVNode"])(i)])]})),_:1},8,["visible"])]),Object(j["createVNode"])(d,{class:"thumbnail-list",modelValue:e.slides,animation:300,scroll:!0,scrollSensitivity:50,setData:null,onEnd:e.handleDragEnd,itemKey:"id"},{item:Object(j["withCtx"])((function(t){var n=t.element,o=t.index;return[Object(j["withDirectives"])(Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["thumbnail-item",{active:e.slideIndex===o,selected:e.selectedSlidesIndex.includes(o)}]),onMousedown:function(t){return e.handleClickSlideThumbnail(t,o)}},[Object(j["createElementVNode"])("div",Zs,Object(j["toDisplayString"])(e.fillDigit(o+1,2)),1),Object(j["createVNode"])(s,{class:"thumbnail",slide:n,size:120},null,8,["slide"])],42,Ys),[[f,e.contextmenusThumbnailItem]])]})),_:1},8,["modelValue","onEnd"])],544)),[[p,function(){return e.setThumbnailsFocus(!1)}],[f,e.contextmenusThumbnails]])}var Ks=n("b76a"),Qs=n.n(Ks);function $s(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("ThumbnailElement");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"thumbnail-slide",style:Object(j["normalizeStyle"])({width:e.size+"px",height:e.size*e.viewportRatio+"px"})},[Object(j["createElementVNode"])("div",{class:"elements",style:Object(j["normalizeStyle"])({width:e.VIEWPORT_SIZE+"px",height:e.VIEWPORT_SIZE*e.viewportRatio+"px",transform:"scale(".concat(e.scale,")")})},[Object(j["createElementVNode"])("div",{class:"background",style:Object(j["normalizeStyle"])(e.backgroundStyle)},null,4),(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.slide.elements,(function(e,t){return Object(j["openBlock"])(),Object(j["createBlock"])(c,{key:e.id,elementInfo:e,elementIndex:t+1},null,8,["elementInfo","elementIndex"])})),128))],4)],4)}function ed(e,t,n,o,l,a){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["base-element","base-element-".concat(e.elementInfo.id)]),style:Object(j["normalizeStyle"])({zIndex:e.elementIndex})},[(Object(j["openBlock"])(),Object(j["createBlock"])(Object(j["resolveDynamicComponent"])(e.currentElementComponent),{elementInfo:e.elementInfo,target:"thumbnail"},null,8,["elementInfo"]))],6)}var td=["src"];function nd(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("ImageOutline");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"base-element-image",style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px",transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[Object(j["createElementVNode"])("div",{class:"element-content",style:Object(j["normalizeStyle"])({filter:e.shadowStyle?"drop-shadow(".concat(e.shadowStyle,")"):"",transform:e.flipStyle})},[Object(j["createVNode"])(c,{elementInfo:e.elementInfo},null,8,["elementInfo"]),Object(j["createElementVNode"])("div",{class:"image-content",style:Object(j["normalizeStyle"])({clipPath:e.clipShape.style})},[Object(j["createElementVNode"])("img",{src:e.elementInfo.src,draggable:!1,style:Object(j["normalizeStyle"])({top:e.imgPosition.top,left:e.imgPosition.left,width:e.imgPosition.width,height:e.imgPosition.height,filter:e.filter}),alt:""},null,12,td)],4)],4)],4)],4)}var od=Object(j["defineComponent"])({name:"base-element-image",components:{ImageOutline:Wo},props:{elementInfo:{type:Object,required:!0}},setup:function(e){var t=Object(j["computed"])((function(){return e.elementInfo.shadow})),n=jo(t),o=n.shadowStyle,l=Object(j["computed"])((function(){return e.elementInfo.flipH})),a=Object(j["computed"])((function(){return e.elementInfo.flipV})),c=go(l,a),r=c.flipStyle,i=Object(j["computed"])((function(){return e.elementInfo.clip})),u=xo(i),s=u.clipShape,d=u.imgPosition,f=Object(j["computed"])((function(){return e.elementInfo.filters})),p=Co(f),m=p.filter;return{imgPosition:d,filter:m,flipStyle:r,shadowStyle:o,clipShape:s}}});n("a576");const ld=Bn()(od,[["render",nd],["__scopeId","data-v-b0d4d1b2"]]);var ad=ld,cd=["innerHTML"];function rd(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("ElementOutline");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"base-element-text",style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px"})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[Object(j["createElementVNode"])("div",{class:"element-content",style:Object(j["normalizeStyle"])({backgroundColor:e.elementInfo.fill,opacity:e.elementInfo.opacity,textShadow:e.shadowStyle,lineHeight:e.elementInfo.lineHeight,letterSpacing:(e.elementInfo.wordSpace||0)+"px",color:e.elementInfo.defaultColor,fontFamily:e.elementInfo.defaultFontName})},[Object(j["createVNode"])(c,{width:e.elementInfo.width,height:e.elementInfo.height,outline:e.elementInfo.outline},null,8,["width","height","outline"]),Object(j["createElementVNode"])("div",{class:"text ProseMirror-static",innerHTML:e.elementInfo.content},null,8,cd)],4)],4)],4)}var id=Object(j["defineComponent"])({name:"base-element-text",components:{ElementOutline:sl},props:{elementInfo:{type:Object,required:!0}},setup:function(e){var t=Object(j["computed"])((function(){return e.elementInfo.shadow})),n=jo(t),o=n.shadowStyle;return{shadowStyle:o}}});n("5264");const ud=Bn()(id,[["render",rd],["__scopeId","data-v-2ec235c4"]]);var sd=ud,dd={key:0},fd=["transform"],pd=["d","fill","stroke","stroke-width","stroke-dasharray"],md=["innerHTML"];function bd(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("GradientDefs"),r=Object(j["resolveComponent"])("SvgWrapper");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"base-element-shape",style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[Object(j["createElementVNode"])("div",{class:"element-content",style:Object(j["normalizeStyle"])({opacity:e.elementInfo.opacity,filter:e.shadowStyle?"drop-shadow(".concat(e.shadowStyle,")"):"",transform:e.flipStyle,color:e.text.defaultColor,fontFamily:e.text.defaultFontName})},[Object(j["createVNode"])(r,{overflow:"visible",width:e.elementInfo.width,height:e.elementInfo.height},{default:Object(j["withCtx"])((function(){return[e.elementInfo.gradient?(Object(j["openBlock"])(),Object(j["createElementBlock"])("defs",dd,[Object(j["createVNode"])(c,{id:"base-gradient-".concat(e.elementInfo.id),type:e.elementInfo.gradient.type,color1:e.elementInfo.gradient.color[0],color2:e.elementInfo.gradient.color[1],rotate:e.elementInfo.gradient.rotate},null,8,["id","type","color1","color2","rotate"])])):Object(j["createCommentVNode"])("",!0),Object(j["createElementVNode"])("g",{transform:"scale(".concat(e.elementInfo.width/e.elementInfo.viewBox,", ").concat(e.elementInfo.height/e.elementInfo.viewBox,") translate(0,0) matrix(1,0,0,1,0,0)")},[Object(j["createElementVNode"])("path",{"vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8","stroke-linejoin":"",d:e.elementInfo.path,fill:e.elementInfo.gradient?"url(#base-gradient-".concat(e.elementInfo.id,")"):e.elementInfo.fill,stroke:e.outlineColor,"stroke-width":e.outlineWidth,"stroke-dasharray":"dashed"===e.outlineStyle?"10 5":"0 0"},null,8,pd)],8,fd)]})),_:1},8,["width","height"]),Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["shape-text",e.text.align])},[Object(j["createElementVNode"])("div",{class:"ProseMirror-static",innerHTML:e.text.content},null,8,md)],2)],4)],4)],4)}var vd=Object(j["defineComponent"])({name:"base-element-shape",components:{GradientDefs:ka},props:{elementInfo:{type:Object,required:!0}},setup:function(e){var t=Object(j["computed"])((function(){return e.elementInfo.outline})),n=Io(t),o=n.outlineWidth,l=n.outlineStyle,a=n.outlineColor,c=Object(j["computed"])((function(){return e.elementInfo.shadow})),r=jo(c),i=r.shadowStyle,u=Object(j["computed"])((function(){return e.elementInfo.flipH})),s=Object(j["computed"])((function(){return e.elementInfo.flipV})),d=go(u,s),f=d.flipStyle,p=Object(j["computed"])((function(){var t={content:"",defaultFontName:"微软雅黑",defaultColor:"#000",align:"middle"};return e.elementInfo.text?e.elementInfo.text:t}));return{shadowStyle:i,outlineWidth:o,outlineStyle:l,outlineColor:a,flipStyle:f,text:p}}});n("052f");const hd=Bn()(vd,[["render",bd],["__scopeId","data-v-3ad164fa"]]);var Od=hd,jd=["d","stroke","stroke-width","stroke-dasharray","marker-start","marker-end"];function gd(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("LinePointMarker"),r=Object(j["resolveComponent"])("SvgWrapper");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"editable-element-shape",style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px"})},[Object(j["createElementVNode"])("div",{class:"element-content",style:Object(j["normalizeStyle"])({filter:e.shadowStyle?"drop-shadow(".concat(e.shadowStyle,")"):""})},[Object(j["createVNode"])(r,{overflow:"visible",width:e.svgWidth,height:e.svgHeight},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("defs",null,[e.elementInfo.points[0]?(Object(j["openBlock"])(),Object(j["createBlock"])(c,{key:0,id:e.elementInfo.id,position:"start",type:e.elementInfo.points[0],color:e.elementInfo.color,baseSize:e.elementInfo.width},null,8,["id","type","color","baseSize"])):Object(j["createCommentVNode"])("",!0),e.elementInfo.points[1]?(Object(j["openBlock"])(),Object(j["createBlock"])(c,{key:1,id:e.elementInfo.id,position:"end",type:e.elementInfo.points[1],color:e.elementInfo.color,baseSize:e.elementInfo.width},null,8,["id","type","color","baseSize"])):Object(j["createCommentVNode"])("",!0)]),Object(j["createElementVNode"])("path",{d:e.path,stroke:e.elementInfo.color,"stroke-width":e.elementInfo.width,"stroke-dasharray":e.lineDashArray,fill:"none","stroke-linecap":"","stroke-linejoin":"","stroke-miterlimit":"","marker-start":e.elementInfo.points[0]?"url(#".concat(e.elementInfo.id,"-").concat(e.elementInfo.points[0],"-start)"):"","marker-end":e.elementInfo.points[1]?"url(#".concat(e.elementInfo.id,"-").concat(e.elementInfo.points[1],"-end)"):""},null,8,jd)]})),_:1},8,["width","height"])],4)],4)}var yd=Object(j["defineComponent"])({name:"editable-element-shape",components:{LinePointMarker:Aa},props:{elementInfo:{type:Object,required:!0}},setup:function(e){var t=Object(j["computed"])((function(){return e.elementInfo.shadow})),n=jo(t),o=n.shadowStyle,l=Object(j["computed"])((function(){var t=Math.abs(e.elementInfo.start[0]-e.elementInfo.end[0]);return t<24?24:t})),a=Object(j["computed"])((function(){var t=Math.abs(e.elementInfo.start[1]-e.elementInfo.end[1]);return t<24?24:t})),c=Object(j["computed"])((function(){return"dashed"===e.elementInfo.style?"10, 5":"0, 0"})),r=Object(j["computed"])((function(){return Ae(e.elementInfo)}));return{shadowStyle:o,svgWidth:l,svgHeight:a,lineDashArray:c,path:r}}});n("9743");const xd=Bn()(yd,[["render",gd],["__scopeId","data-v-448a7ca0"]]);var Cd=xd;function kd(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("ElementOutline"),r=Object(j["resolveComponent"])("Chart");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"base-element-chart",style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[Object(j["createElementVNode"])("div",{class:"element-content",style:Object(j["normalizeStyle"])({backgroundColor:e.elementInfo.fill})},[Object(j["createVNode"])(c,{width:e.elementInfo.width,height:e.elementInfo.height,outline:e.elementInfo.outline},null,8,["width","height","outline"]),Object(j["createVNode"])(r,{class:Object(j["normalizeClass"])({"need-scale":e.needScaleSize}),width:e.chartWidth,height:e.chartHeight,type:e.elementInfo.chartType,data:e.elementInfo.data,options:e.elementInfo.options,themeColor:e.elementInfo.themeColor,gridColor:e.elementInfo.gridColor,legends:e.elementInfo.data.legends,legend:e.elementInfo.legend||""},null,8,["class","width","height","type","data","options","themeColor","gridColor","legends","legend"])],4)],4)],4)}var wd=Object(j["defineComponent"])({name:"base-element-chart",components:{ElementOutline:sl,Chart:Ya},props:{elementInfo:{type:Object,required:!0},needScaleSize:{type:Boolean,default:!0}},setup:function(e){return{chartWidth:Object(j["computed"])((function(){return e.needScaleSize?10*e.elementInfo.width:e.elementInfo.width})),chartHeight:Object(j["computed"])((function(){return e.needScaleSize?10*e.elementInfo.height:e.elementInfo.height}))}}});n("c645");const Ed=Bn()(wd,[["render",kd],["__scopeId","data-v-60d9ae43"]]);var Nd=Ed,Id={class:"element-content"};function Vd(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("StaticTable");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"base-element-table",style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px"})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[Object(j["createElementVNode"])("div",Id,[Object(j["createVNode"])(c,{data:e.elementInfo.data,width:e.elementInfo.width,colWidths:e.elementInfo.colWidths,outline:e.elementInfo.outline,theme:e.elementInfo.theme},null,8,["data","width","colWidths","outline","theme"])])],4)],4)}var Sd=["width"],Ld=["rowspan","colspan"],Bd=["innerHTML"];function Td(e,t,n,o,l,a){var c,r,i,u,s;return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"static-table",style:Object(j["normalizeStyle"])({width:e.totalWidth+"px"})},[Object(j["createElementVNode"])("table",{class:Object(j["normalizeClass"])({theme:e.theme,"row-header":null===(c=e.theme)||void 0===c?void 0:c.rowHeader,"row-footer":null===(r=e.theme)||void 0===r?void 0:r.rowFooter,"col-header":null===(i=e.theme)||void 0===i?void 0:i.colHeader,"col-footer":null===(u=e.theme)||void 0===u?void 0:u.colFooter}),style:Object(j["normalizeStyle"])("--themeColor: ".concat(null===(s=e.theme)||void 0===s?void 0:s.color,"; --subThemeColor1: ").concat(e.subThemeColor[0],"; --subThemeColor2: ").concat(e.subThemeColor[1]))},[Object(j["createElementVNode"])("colgroup",null,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.colSizeList,(function(e,t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("col",{span:"1",key:t,width:e},null,8,Sd)})),128))]),Object(j["createElementVNode"])("tbody",null,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.data,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("tr",{key:n},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(t,(function(t,o){return Object(j["withDirectives"])((Object(j["openBlock"])(),Object(j["createElementBlock"])("td",{class:"cell",style:Object(j["normalizeStyle"])(Object(S["a"])({borderStyle:e.outline.style,borderColor:e.outline.color,borderWidth:e.outline.width+"px"},e.getTextStyle(t.style))),key:t.id,rowspan:t.rowspan,colspan:t.colspan},[Object(j["createElementVNode"])("div",{class:"cell-text",innerHTML:e.formatText(t.text)},null,8,Bd)],12,Ld)),[[j["vShow"],!e.hideCells.includes("".concat(n,"_").concat(o))]])})),128))])})),128))])],6)],4)}var Md=Object(j["defineComponent"])({name:"static-table",props:{data:{type:Array,required:!0},width:{type:Number,required:!0},colWidths:{type:Array,required:!0},outline:{type:Object,required:!0},theme:{type:Object},editable:{type:Boolean,default:!0}},setup:function(e){var t=Object(j["ref"])([]),n=Object(j["computed"])((function(){return t.value.reduce((function(e,t){return e+t}))}));Object(j["watch"])([function(){return e.colWidths},function(){return e.width}],(function(){t.value=e.colWidths.map((function(t){return t*e.width}))}),{immediate:!0});var o=Object(j["computed"])((function(){return e.data})),l=ic(o),a=l.hideCells,c=Object(j["computed"])((function(){return e.theme})),r=uc(c),i=r.subThemeColor;return{colSizeList:t,totalWidth:n,hideCells:a,getTextStyle:cc,formatText:rc,subThemeColor:i}}});n("1360");const _d=Bn()(Md,[["render",Td],["__scopeId","data-v-ccbfe89e"]]);var Dd=_d,zd=Object(j["defineComponent"])({name:"base-element-table",components:{StaticTable:Dd},props:{elementInfo:{type:Object,required:!0}}});n("4607");const Ad=Bn()(zd,[["render",Vd],["__scopeId","data-v-3bbcc75c"]]);var Rd=Ad,Fd={class:"element-content"},Pd=["transform"],Hd=["d"];function qd(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("SvgWrapper");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"base-element-latex",style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[Object(j["createElementVNode"])("div",Fd,[Object(j["createVNode"])(c,{overflow:"visible",width:e.elementInfo.width,height:e.elementInfo.height,stroke:e.elementInfo.color,"stroke-width":e.elementInfo.strokeWidth,fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("g",{transform:"scale(".concat(e.elementInfo.width/e.elementInfo.viewBox[0],", ").concat(e.elementInfo.height/e.elementInfo.viewBox[1],") translate(0,0) matrix(1,0,0,1,0,0)")},[Object(j["createElementVNode"])("path",{d:e.elementInfo.path},null,8,Hd)],8,Pd)]})),_:1},8,["width","height","stroke","stroke-width"])])],4)],4)}var Wd=Object(j["defineComponent"])({name:"base-element-latex",props:{elementInfo:{type:Object,required:!0}}});n("4877");const Xd=Bn()(Wd,[["render",qd],["__scopeId","data-v-3686ddb9"]]);var Gd=Xd;function Ud(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("IconPlayOne");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"base-element-video",style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[Object(j["createElementVNode"])("div",{class:"element-content",style:Object(j["normalizeStyle"])({backgroundImage:"url(".concat(e.elementInfo.poster,")")})},[Object(j["createVNode"])(c,{class:"icon"})],4)],4)],4)}var Yd=Object(j["defineComponent"])({name:"base-element-video",props:{elementInfo:{type:Object,required:!0}}});n("4b15");const Zd=Bn()(Yd,[["render",Ud],["__scopeId","data-v-1c831c75"]]);var Jd=Zd,Kd=Object(j["defineComponent"])({name:"base-element",props:{elementInfo:{type:Object,required:!0},elementIndex:{type:Number,required:!0}},setup:function(e){var t=Object(j["computed"])((function(){var t,n=(t={},Object(ae["a"])(t,po.IMAGE,ad),Object(ae["a"])(t,po.TEXT,sd),Object(ae["a"])(t,po.SHAPE,Od),Object(ae["a"])(t,po.LINE,Cd),Object(ae["a"])(t,po.CHART,Nd),Object(ae["a"])(t,po.TABLE,Rd),Object(ae["a"])(t,po.LATEX,Gd),Object(ae["a"])(t,po.VIDEO,Jd),t);return n[e.elementInfo.type]||null}));return{currentElementComponent:t}}});const Qd=Bn()(Kd,[["render",ed]]);var $d=Qd,ef=Object(j["defineComponent"])({name:"thumbnail-slide",components:{ThumbnailElement:$d},props:{slide:{type:Object,required:!0},size:{type:Number,required:!0}},setup:function(e){var t=Object(g["c"])(Q()),n=t.viewportRatio,o=Object(j["computed"])((function(){return e.slide.background})),l=xr(o),a=l.backgroundStyle,c=Object(j["computed"])((function(){return e.size/We}));return{scale:c,backgroundStyle:a,VIEWPORT_SIZE:We,viewportRatio:n}}});n("94ca1");const tf=Bn()(ef,[["render",$s],["__scopeId","data-v-44adfcb1"]]);var nf=tf,of={class:"layout-pool"},lf=["onClick"];function af(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("ThumbnailSlide");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",of,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.layouts,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"layout-item",key:t.id,onClick:function(n){return e.selectSlideTemplate(t)}},[Object(j["createVNode"])(c,{class:"thumbnail",slide:t,size:180},null,8,["slide"])],8,lf)})),128))])}var cf=Object(j["defineComponent"])({name:"layout-pool",emits:["select"],components:{ThumbnailSlide:nf},setup:function(e,t){var n=t.emit,o=Object(g["c"])(Q()),l=o.layouts,a=function(e){n("select",e)};return{layouts:l,selectSlideTemplate:a}}});n("e7b8");const rf=Bn()(cf,[["render",af],["__scopeId","data-v-741b366e"]]);var uf=rf,sf=Object(j["defineComponent"])({name:"thumbnails",components:{Draggable:Qs.a,ThumbnailSlide:nf,LayoutPool:uf},setup:function(){var e=$(),t=Q(),n=se(),o=Object(g["c"])(e),l=o.selectedSlidesIndex,a=o.thumbnailsFocus,c=Object(g["c"])(t),r=c.slides,i=c.slideIndex,u=Object(g["c"])(n),s=u.ctrlKeyState,d=u.shiftKeyState,f=Object(j["computed"])((function(){return[].concat(Object(X["a"])(l.value),[i.value])})),p=Object(j["ref"])(!1),m=Object(j["computed"])((function(){return 120/We}));Object(j["provide"])("slideScale",m);var b=Ue(),v=b.copySlide,h=b.pasteSlide,O=b.createSlide,y=b.createSlideByTemplate,x=b.copyAndPasteSlide,C=b.deleteSlide,k=b.cutSlide,w=b.selectAllSlide,E=function(n){e.setActiveElementIdList([]),i.value!==n&&t.updateSlideIndex(n)},N=function(t,n){var o=f.value.length>1;if(!o||!f.value.includes(n)||0===t.button)if(s.value)if(i.value===n){if(!o)return;var l=f.value.filter((function(e){return e!==n}));e.updateSelectedSlidesIndex(l),E(f.value[0])}else if(f.value.includes(n)){var a=f.value.filter((function(e){return e!==n}));e.updateSelectedSlidesIndex(a)}else{var c=[].concat(Object(X["a"])(f.value),[n]);e.updateSelectedSlidesIndex(c),E(n)}else if(d.value){if(i.value===n&&!o)return;var r=Math.min.apply(Math,Object(X["a"])(f.value)),u=n;n<r&&(u=Math.max.apply(Math,Object(X["a"])(f.value)),r=n);for(var p=[],m=r;m<=u;m++)p.push(m);e.updateSelectedSlidesIndex(p),E(n)}else e.updateSelectedSlidesIndex([]),E(n)},I=function(t){a.value!==t&&(e.setThumbnailsFocus(t),t||e.updateSelectedSlidesIndex([]))},V=function(e){var n=e.newIndex,o=e.oldIndex;if(o!==n){var l=JSON.parse(JSON.stringify(r.value)),a=l[o];l.splice(o,1),l.splice(n,0,a),t.setSlides(l),t.updateSlideIndex(n)}},S=lt(),L=S.enterScreening,B=function(){return[{text:"粘贴",subText:"Ctrl + V",handler:h},{text:"全选",subText:"Ctrl + A",handler:w},{text:"新建页面",subText:"Enter",handler:O},{text:"开始演示",subText:"Ctrl + F",handler:L}]},T=function(){return[{text:"剪切",subText:"Ctrl + X",handler:k},{text:"复制",subText:"Ctrl + C",handler:v},{text:"粘贴",subText:"Ctrl + V",handler:h},{text:"全选",subText:"Ctrl + A",handler:w},{divider:!0},{text:"新建页面",subText:"Enter",handler:O},{text:"复制页面",subText:"Ctrl + D",handler:x},{text:"删除页面",subText:"Delete",handler:function(){return C()}},{divider:!0},{text:"从当前页演示",subText:"Ctrl + F",handler:L}]};return{slides:r,slideIndex:i,selectedSlidesIndex:f,presetLayoutPopoverVisible:p,createSlide:O,createSlideByTemplate:y,setThumbnailsFocus:I,handleClickSlideThumbnail:N,contextmenusThumbnails:B,contextmenusThumbnailItem:T,fillDigit:je,handleDragEnd:V}}});n("190a");const df=Bn()(sf,[["render",Js],["__scopeId","data-v-752032d6"]]);var ff,pf=df,mf={class:"toolbar"},bf={class:"tabs"},vf=["onClick"],hf={class:"content"};function Of(e,t,n,o,l,a){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",mf,[Object(j["createElementVNode"])("div",bf,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.currentTabs,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["tab",{active:t.value===e.toolbarState}]),key:t.value,onClick:function(n){return e.setToolbarState(t.value)}},Object(j["toDisplayString"])(t.label),11,vf)})),128))]),Object(j["createElementVNode"])("div",hf,[(Object(j["openBlock"])(),Object(j["createBlock"])(Object(j["resolveDynamicComponent"])(e.currentPanelComponent)))])])}(function(e){e["SYMBOL"]="symbol",e["EL_ANIMATION"]="elAnimation",e["EL_STYLE"]="elStyle",e["EL_POSITION"]="elPosition",e["SLIDE_DESIGN"]="slideDesign",e["SLIDE_ANIMATION"]="slideAnimation",e["MULTI_POSITION"]="multiPosition"})(ff||(ff={}));var jf={class:"element-style-panel"},gf={key:0};function yf(e,t,n,o,l,a){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",jf,[e.currentPanelComponent?Object(j["createCommentVNode"])("",!0):(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",gf," 请先选中要编辑的元素 ")),e.handleElement?(Object(j["openBlock"])(),Object(j["createBlock"])(Object(j["resolveDynamicComponent"])(e.currentPanelComponent),{key:1})):Object(j["createCommentVNode"])("",!0)])}var xf=function(e){return Object(j["pushScopeId"])("data-v-2d6233f4"),e=e(),Object(j["popScopeId"])(),e},Cf={class:"text-style-panel"},kf={class:"preset-style"},wf=["onClick"],Ef={class:"row"},Nf=xf((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"行间距：",-1)})),If={class:"row"},Vf=xf((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"字间距：",-1)}));function Sf(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("Divider"),r=Object(j["resolveComponent"])("IconFontSize"),i=Object(j["resolveComponent"])("SelectOption"),u=Object(j["resolveComponent"])("SelectOptGroup"),s=Object(j["resolveComponent"])("Select"),d=Object(j["resolveComponent"])("IconAddText"),f=Object(j["resolveComponent"])("InputGroup"),p=Object(j["resolveComponent"])("ColorPicker"),m=Object(j["resolveComponent"])("IconText"),b=Object(j["resolveComponent"])("Button"),v=Object(j["resolveComponent"])("Tooltip"),h=Object(j["resolveComponent"])("Popover"),O=Object(j["resolveComponent"])("IconBackgroundColor"),g=Object(j["resolveComponent"])("IconFill"),y=Object(j["resolveComponent"])("ButtonGroup"),x=Object(j["resolveComponent"])("IconTextBold"),C=Object(j["resolveComponent"])("CheckboxButton"),k=Object(j["resolveComponent"])("IconTextItalic"),w=Object(j["resolveComponent"])("IconTextUnderline"),E=Object(j["resolveComponent"])("IconStrikethrough"),N=Object(j["resolveComponent"])("CheckboxButtonGroup"),I=Object(j["resolveComponent"])("IconUpOne"),V=Object(j["resolveComponent"])("IconDownOne"),S=Object(j["resolveComponent"])("IconCode"),L=Object(j["resolveComponent"])("IconQuote"),B=Object(j["resolveComponent"])("IconFormat"),T=Object(j["resolveComponent"])("IconAlignTextLeft"),M=Object(j["resolveComponent"])("RadioButton"),_=Object(j["resolveComponent"])("IconAlignTextCenter"),D=Object(j["resolveComponent"])("IconAlignTextRight"),z=Object(j["resolveComponent"])("RadioGroup"),A=Object(j["resolveComponent"])("IconList"),R=Object(j["resolveComponent"])("IconOrderedList"),F=Object(j["resolveComponent"])("IconRowHeight"),P=Object(j["resolveComponent"])("IconFullwidth"),H=Object(j["resolveComponent"])("ElementOutline"),q=Object(j["resolveComponent"])("ElementShadow"),W=Object(j["resolveComponent"])("ElementOpacity");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Cf,[Object(j["createElementVNode"])("div",kf,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.presetStyles,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"preset-style-item",key:t.label,style:Object(j["normalizeStyle"])(t.style),onClick:function(n){return e.emitBatchRichTextCommand(t.cmd)}},Object(j["toDisplayString"])(t.label),13,wf)})),128))]),Object(j["createVNode"])(c),Object(j["createVNode"])(f,{compact:"",class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(s,{style:{flex:"3"},value:e.richTextAttrs.fontname,onChange:t[0]||(t[0]=function(t){return e.emitRichTextCommand("fontname",t)})},{suffixIcon:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r)]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,{label:"系统字体"},{default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.availableFonts,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(i,{key:e.value,value:e.value},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("span",{style:Object(j["normalizeStyle"])({fontFamily:e.value})},Object(j["toDisplayString"])(e.label),5)]})),_:2},1032,["value"])})),128))]})),_:1}),Object(j["createVNode"])(u,{label:"在线字体"},{default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.webFonts,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(i,{key:e.value,value:e.value},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("span",null,Object(j["toDisplayString"])(e.label),1)]})),_:2},1032,["value"])})),128))]})),_:1})]})),_:1},8,["value"]),Object(j["createVNode"])(s,{style:{flex:"2"},value:e.richTextAttrs.fontsize,onChange:t[1]||(t[1]=function(t){return e.emitRichTextCommand("fontsize",t)})},{suffixIcon:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(d)]})),default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.fontSizeOptions,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(i,{key:e,value:e},{default:Object(j["withCtx"])((function(){return[Object(j["createTextVNode"])(Object(j["toDisplayString"])(e),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"])]})),_:1}),Object(j["createVNode"])(y,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(h,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(p,{modelValue:e.richTextAttrs.color,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.emitRichTextCommand("color",t)})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文字颜色"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(b,{class:"text-color-btn",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(m),Object(j["createElementVNode"])("div",{class:"text-color-block",style:Object(j["normalizeStyle"])({backgroundColor:e.richTextAttrs.color})},null,4)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1}),Object(j["createVNode"])(h,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(p,{modelValue:e.richTextAttrs.backcolor,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.emitRichTextCommand("backcolor",t)})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文字高亮"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(b,{class:"text-color-btn",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(O),Object(j["createElementVNode"])("div",{class:"text-color-block",style:Object(j["normalizeStyle"])({backgroundColor:e.richTextAttrs.backcolor})},null,4)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1}),Object(j["createVNode"])(h,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(p,{modelValue:e.fill,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.updateFill(t)})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文本框填充"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(b,{class:"text-color-btn",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(g),Object(j["createElementVNode"])("div",{class:"text-color-block",style:Object(j["normalizeStyle"])({backgroundColor:e.fill})},null,4)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1})]})),_:1}),Object(j["createVNode"])(N,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"加粗"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(C,{style:{flex:"1"},checked:e.richTextAttrs.bold,onClick:t[5]||(t[5]=function(t){return e.emitRichTextCommand("bold")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(x)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"斜体"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(C,{style:{flex:"1"},checked:e.richTextAttrs.em,onClick:t[6]||(t[6]=function(t){return e.emitRichTextCommand("em")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(k)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"下划线"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(C,{style:{flex:"1"},checked:e.richTextAttrs.underline,onClick:t[7]||(t[7]=function(t){return e.emitRichTextCommand("underline")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(w)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"删除线"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(C,{style:{flex:"1"},checked:e.richTextAttrs.strikethrough,onClick:t[8]||(t[8]=function(t){return e.emitRichTextCommand("strikethrough")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(E)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"])]})),_:1}),Object(j["createVNode"])(N,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"上标"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(C,{style:{flex:"1"},checked:e.richTextAttrs.superscript,onClick:t[9]||(t[9]=function(t){return e.emitRichTextCommand("superscript")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(I)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"下标"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(C,{style:{flex:"1"},checked:e.richTextAttrs.subscript,onClick:t[10]||(t[10]=function(t){return e.emitRichTextCommand("subscript")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(V)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"行内代码"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(C,{style:{flex:"1"},checked:e.richTextAttrs.code,onClick:t[11]||(t[11]=function(t){return e.emitRichTextCommand("code")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(S)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"引用"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(C,{style:{flex:"1"},checked:e.richTextAttrs.blockquote,onClick:t[12]||(t[12]=function(t){return e.emitRichTextCommand("blockquote")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(L)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"清除格式"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(C,{style:{flex:"1"},onClick:t[13]||(t[13]=function(t){return e.emitRichTextCommand("clear")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(B)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1}),Object(j["createVNode"])(c),Object(j["createVNode"])(z,{class:"row","button-style":"solid",value:e.richTextAttrs.align,onChange:t[14]||(t[14]=function(t){return e.emitRichTextCommand("align",t.target.value)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"左对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(M,{value:"left",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(T)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"居中"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(M,{value:"center",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(_)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"右对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(M,{value:"right",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(D)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1},8,["value"]),Object(j["createVNode"])(N,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"项目符号"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(C,{style:{flex:"1"},checked:e.richTextAttrs.bulletList,onClick:t[15]||(t[15]=function(t){return e.emitRichTextCommand("bulletList")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(A)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"编号"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(C,{style:{flex:"1"},checked:e.richTextAttrs.orderedList,onClick:t[16]||(t[16]=function(t){return e.emitRichTextCommand("orderedList")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(R)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"])]})),_:1}),Object(j["createVNode"])(c),Object(j["createElementVNode"])("div",Ef,[Nf,Object(j["createVNode"])(s,{style:{flex:"3"},value:e.lineHeight,onChange:t[17]||(t[17]=function(t){return e.updateLineHeight(t)})},{suffixIcon:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(F)]})),default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.lineHeightOptions,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(i,{key:e,value:e},{default:Object(j["withCtx"])((function(){return[Object(j["createTextVNode"])(Object(j["toDisplayString"])(e)+"倍",1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"])]),Object(j["createElementVNode"])("div",If,[Vf,Object(j["createVNode"])(s,{style:{flex:"3"},value:e.wordSpace,onChange:t[18]||(t[18]=function(t){return e.updateWordSpace(t)})},{suffixIcon:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(P)]})),default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.wordSpaceOptions,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(i,{key:e,value:e},{default:Object(j["withCtx"])((function(){return[Object(j["createTextVNode"])(Object(j["toDisplayString"])(e)+"px",1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"])]),Object(j["createVNode"])(c),Object(j["createVNode"])(H),Object(j["createVNode"])(c),Object(j["createVNode"])(q),Object(j["createVNode"])(c),Object(j["createVNode"])(W)])}var Lf=function(e){return Object(j["pushScopeId"])("data-v-f62a02b6"),e=e(),Object(j["popScopeId"])(),e},Bf={class:"element-opacity"},Tf={class:"row"},Mf=Lf((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"不透明度：",-1)}));function _f(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("Slider");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Bf,[Object(j["createElementVNode"])("div",Tf,[Mf,Object(j["createVNode"])(c,{class:"slider",min:0,max:1,step:.1,value:e.opacity,onChange:t[0]||(t[0]=function(t){return e.updateOpacity(t)})},null,8,["step","value"])])])}var Df=Object(j["defineComponent"])({name:"element-opacity",setup:function(){var e=Q(),t=Object(g["c"])($()),n=t.handleElement,o=Object(j["ref"])(1);Object(j["watch"])(n,(function(){n.value&&(o.value="opacity"in n.value&&void 0!==n.value.opacity?n.value.opacity:1)}),{deep:!0,immediate:!0});var l=Pe(),a=l.addHistorySnapshot,c=function(t){if(n.value){var o={opacity:t};e.updateElement({id:n.value.id,props:o}),a()}};return{opacity:o,updateOpacity:c}}});n("be11");const zf=Bn()(Df,[["render",_f],["__scopeId","data-v-f62a02b6"]]);var Af=zf,Rf=(n("c7cd"),function(e){return Object(j["pushScopeId"])("data-v-35c4c4a3"),e=e(),Object(j["popScopeId"])(),e}),Ff={class:"element-outline"},Pf={key:0,class:"row"},Hf=Rf((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"启用边框：",-1)})),qf={class:"switch-wrapper",style:{flex:"3"}},Wf={class:"row"},Xf=Rf((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"边框样式：",-1)})),Gf=Object(j["createTextVNode"])("实线边框"),Uf=Object(j["createTextVNode"])("虚线边框"),Yf={class:"row"},Zf=Rf((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"边框颜色：",-1)})),Jf={class:"row"},Kf=Rf((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"边框粗细：",-1)}));function Qf(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("Switch"),r=Object(j["resolveComponent"])("SelectOption"),i=Object(j["resolveComponent"])("Select"),u=Object(j["resolveComponent"])("ColorPicker"),s=Object(j["resolveComponent"])("ColorButton"),d=Object(j["resolveComponent"])("Popover"),f=Object(j["resolveComponent"])("InputNumber");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Ff,[e.fixed?Object(j["createCommentVNode"])("",!0):(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Pf,[Hf,Object(j["createElementVNode"])("div",qf,[Object(j["createVNode"])(c,{checked:e.hasOutline,onChange:t[0]||(t[0]=function(t){return e.toggleOutline(t)})},null,8,["checked"])])])),e.hasOutline?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:1},[Object(j["createElementVNode"])("div",Wf,[Xf,Object(j["createVNode"])(i,{style:{flex:"3"},value:e.outline.style,onChange:t[1]||(t[1]=function(t){return e.updateOutline({style:t})})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{value:"solid"},{default:Object(j["withCtx"])((function(){return[Gf]})),_:1}),Object(j["createVNode"])(r,{value:"dashed"},{default:Object(j["withCtx"])((function(){return[Uf]})),_:1})]})),_:1},8,["value"])]),Object(j["createElementVNode"])("div",Yf,[Zf,Object(j["createVNode"])(d,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,{modelValue:e.outline.color,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.updateOutline({color:t})})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(s,{color:e.outline.color,style:{flex:"3"}},null,8,["color"])]})),_:1})]),Object(j["createElementVNode"])("div",Jf,[Kf,Object(j["createVNode"])(f,{value:e.outline.width,onChange:t[3]||(t[3]=function(t){return e.updateOutline({width:t})}),style:{flex:"3"}},null,8,["value"])])],64)):Object(j["createCommentVNode"])("",!0)])}function $f(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("IconPlatte"),r=Object(j["resolveComponent"])("Button");return Object(j["openBlock"])(),Object(j["createBlock"])(r,{class:"color-btn"},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",{class:"color-block",style:Object(j["normalizeStyle"])({backgroundColor:n.color})},null,4),Object(j["createVNode"])(c,{class:"color-btn-icon"})]})),_:1})}var ep={name:"color-button",props:{color:{type:String,required:!0}}};n("1401");const tp=Bn()(ep,[["render",$f],["__scopeId","data-v-39016b60"]]);var np=tp,op=Object(j["defineComponent"])({name:"element-outline",components:{ColorButton:np},props:{fixed:{type:Boolean,default:!1}},setup:function(){var e=Q(),t=Object(g["c"])($()),n=t.handleElement,o=Object(j["ref"])(),l=Object(j["ref"])(!1);Object(j["watch"])(n,(function(){n.value&&(o.value="outline"in n.value?n.value.outline:void 0,l.value=!!o.value)}),{deep:!0,immediate:!0});var a=Pe(),c=a.addHistorySnapshot,r=function(t){if(n.value){var l={outline:Object(S["a"])(Object(S["a"])({},o.value),t)};e.updateElement({id:n.value.id,props:l}),c()}},i=function(t){if(n.value){if(t){var o={width:2,color:"#000",style:"solid"};e.updateElement({id:n.value.id,props:{outline:o}})}else e.removeElementProps({id:n.value.id,propName:"outline"});c()}};return{outline:o,hasOutline:l,toggleOutline:i,updateOutline:r}}});n("e3df");const lp=Bn()(op,[["render",Qf],["__scopeId","data-v-35c4c4a3"]]);var ap=lp,cp=function(e){return Object(j["pushScopeId"])("data-v-c77a6414"),e=e(),Object(j["popScopeId"])(),e},rp={class:"element-shadow"},ip={class:"row"},up=cp((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"启用阴影：",-1)})),sp={class:"switch-wrapper",style:{flex:"3"}},dp={class:"row"},fp=cp((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"水平阴影：",-1)})),pp={class:"row"},mp=cp((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"垂直阴影：",-1)})),bp={class:"row"},vp=cp((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"模糊距离：",-1)})),hp={class:"row"},Op=cp((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"阴影颜色：",-1)}));function jp(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("Switch"),r=Object(j["resolveComponent"])("Slider"),i=Object(j["resolveComponent"])("ColorPicker"),u=Object(j["resolveComponent"])("ColorButton"),s=Object(j["resolveComponent"])("Popover");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",rp,[Object(j["createElementVNode"])("div",ip,[up,Object(j["createElementVNode"])("div",sp,[Object(j["createVNode"])(c,{checked:e.hasShadow,onChange:t[0]||(t[0]=function(t){return e.toggleShadow(t)})},null,8,["checked"])])]),e.hasShadow?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:0},[Object(j["createElementVNode"])("div",dp,[fp,Object(j["createVNode"])(r,{class:"slider",min:0,max:10,step:1,value:e.shadow.h,onChange:t[1]||(t[1]=function(t){return e.updateShadow({h:t})})},null,8,["value"])]),Object(j["createElementVNode"])("div",pp,[mp,Object(j["createVNode"])(r,{class:"slider",min:0,max:10,step:1,value:e.shadow.v,onChange:t[2]||(t[2]=function(t){return e.updateShadow({v:t})})},null,8,["value"])]),Object(j["createElementVNode"])("div",bp,[vp,Object(j["createVNode"])(r,{class:"slider",min:1,max:20,step:1,value:e.shadow.blur,onChange:t[3]||(t[3]=function(t){return e.updateShadow({blur:t})})},null,8,["value"])]),Object(j["createElementVNode"])("div",hp,[Op,Object(j["createVNode"])(s,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{modelValue:e.shadow.color,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.updateShadow({color:t})})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,{color:e.shadow.color,style:{flex:"3"}},null,8,["color"])]})),_:1})])],64)):Object(j["createCommentVNode"])("",!0)])}var gp=Object(j["defineComponent"])({name:"element-shadow",components:{ColorButton:np},setup:function(){var e=Q(),t=Object(g["c"])($()),n=t.handleElement,o=Object(j["ref"])(),l=Object(j["ref"])(!1);Object(j["watch"])(n,(function(){n.value&&(o.value="shadow"in n.value?n.value.shadow:void 0,l.value=!!o.value)}),{deep:!0,immediate:!0});var a=Pe(),c=a.addHistorySnapshot,r=function(t){if(n.value&&o.value){var l=Object(S["a"])(Object(S["a"])({},o.value),t);e.updateElement({id:n.value.id,props:{shadow:l}}),c()}},i=function(t){if(n.value){if(t){var o={h:1,v:1,blur:2,color:"#000"};e.updateElement({id:n.value.id,props:{shadow:o}})}else e.removeElementProps({id:n.value.id,propName:"shadow"});c()}};return{shadow:o,hasShadow:l,toggleShadow:i,updateShadow:r}}});n("f9a0");const yp=Bn()(gp,[["render",jp],["__scopeId","data-v-c77a6414"]]);var xp=yp,Cp=[{label:"大标题",style:{fontSize:"26px",fontWeight:700},cmd:[{command:"clear"},{command:"fontsize",value:"48px"},{command:"align",value:"center"},{command:"bold"}]},{label:"小标题",style:{fontSize:"22px",fontWeight:700},cmd:[{command:"clear"},{command:"fontsize",value:"36px"},{command:"align",value:"center"},{command:"bold"}]},{label:"正文",style:{fontSize:"20px"},cmd:[{command:"clear"},{command:"fontsize",value:"20px"}]},{label:"正文[小]",style:{fontSize:"18px"},cmd:[{command:"clear"},{command:"fontsize",value:"18px"}]},{label:"注释 1",style:{fontSize:"16px",fontStyle:"italic"},cmd:[{command:"clear"},{command:"fontsize",value:"16px"},{command:"em"}]},{label:"注释 2",style:{fontSize:"16px",textDecoration:"underline"},cmd:[{command:"clear"},{command:"fontsize",value:"16px"},{command:"underline"}]}],kp=V,wp=Object(j["defineComponent"])({name:"text-style-panel",components:{ElementOpacity:Af,ElementOutline:ap,ElementShadow:xp},setup:function(){var e=Q(),t=Object(g["c"])($()),n=t.handleElement,o=t.handleElementId,l=t.richTextAttrs,a=t.availableFonts,c=Object(j["ref"])(),r=Object(j["ref"])(),i=Object(j["ref"])();Object(j["watch"])(n,(function(){n.value&&"text"===n.value.type&&(c.value=n.value.fill||"#000",r.value=n.value.lineHeight||1.5,i.value=n.value.wordSpace||0)}),{deep:!0,immediate:!0});var u=["12px","14px","16px","18px","20px","22px","24px","28px","32px","36px","40px","44px","48px","54px","60px","66px","72px","76px","80px","88px","96px","104px","112px","120px"],s=[.9,1,1.15,1.2,1.4,1.5,1.8,2,2.5,3],d=[0,1,2,3,4,5,6,8,10],f=function(e,t){$l.emit(pl.RICH_TEXT_COMMAND,{command:e,value:t})},p=function(e){$l.emit(pl.RICH_TEXT_COMMAND,e)},m=Pe(),b=m.addHistorySnapshot,v=function(t){e.updateElement({id:o.value,props:t}),b()},h=function(e){v({lineHeight:e})},O=function(e){v({wordSpace:e})},y=function(e){v({fill:e})};return{fill:c,lineHeight:r,wordSpace:i,richTextAttrs:l,availableFonts:a,webFonts:kp,fontSizeOptions:u,lineHeightOptions:s,wordSpaceOptions:d,updateLineHeight:h,updateWordSpace:O,updateFill:y,emitRichTextCommand:f,emitBatchRichTextCommand:p,presetStyles:Cp}}});n("c68f");const Ep=Bn()(wp,[["render",Sf],["__scopeId","data-v-2d6233f4"]]);var Np=Ep,Ip=function(e){return Object(j["pushScopeId"])("data-v-7a9d92df"),e=e(),Object(j["popScopeId"])(),e},Vp={class:"image-style-panel"},Sp=Object(j["createTextVNode"])(" 裁剪图片"),Lp={class:"clip"},Bp=Ip((function(){return Object(j["createElementVNode"])("div",{class:"title"},"按形状：",-1)})),Tp={class:"shape-clip"},Mp=["onClick"],_p={key:0,class:"title"},Dp={class:"filter"},zp={class:"name"},Ap={class:"value"},Rp=Object(j["createTextVNode"])(" 设置滤镜"),Fp=Object(j["createTextVNode"])(" 替换图片"),Pp=Object(j["createTextVNode"])(" 重置样式"),Hp=Object(j["createTextVNode"])(" 设为背景");function qp(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("IconTailoring"),r=Object(j["resolveComponent"])("Button"),i=Object(j["resolveComponent"])("ButtonGroup"),u=Object(j["resolveComponent"])("IconDown"),s=Object(j["resolveComponent"])("Popover"),d=Object(j["resolveComponent"])("Slider"),f=Object(j["resolveComponent"])("IconColorFilter"),p=Object(j["resolveComponent"])("ElementFlip"),m=Object(j["resolveComponent"])("Divider"),b=Object(j["resolveComponent"])("ElementOutline"),v=Object(j["resolveComponent"])("ElementShadow"),h=Object(j["resolveComponent"])("IconTransform"),O=Object(j["resolveComponent"])("FileInput"),g=Object(j["resolveComponent"])("IconUndo"),y=Object(j["resolveComponent"])("IconTheme");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Vp,[Object(j["createElementVNode"])("div",{class:"origin-image",style:Object(j["normalizeStyle"])({backgroundImage:"url(".concat(e.handleElement.src,")")})},null,4),Object(j["createVNode"])(i,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"5"},onClick:t[0]||(t[0]=function(t){return e.clipImage()})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(c,{class:"btn-icon"}),Sp]})),_:1}),Object(j["createVNode"])(s,{trigger:"click",visible:e.clipPanelVisible,"onUpdate:visible":t[1]||(t[1]=function(t){return e.clipPanelVisible=t})},{content:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",Lp,[Bp,Object(j["createElementVNode"])("div",Tp,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.shapeClipPathOptions,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"shape-clip-item",key:n,onClick:function(t){return e.presetImageClip(n)}},[Object(j["createElementVNode"])("div",{class:"shape",style:Object(j["normalizeStyle"])({clipPath:t.style})},null,4)],8,Mp)})),128))]),(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.ratioClipOptions,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:t.label},[t.label?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",_p,"按"+Object(j["toDisplayString"])(t.label)+"：",1)):Object(j["createCommentVNode"])("",!0),Object(j["createVNode"])(i,{class:"row"},{default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(t.children,(function(t){return Object(j["openBlock"])(),Object(j["createBlock"])(r,{style:{flex:"1"},key:t.key,onClick:function(n){return e.presetImageClip("rect",t.ratio)}},{default:Object(j["withCtx"])((function(){return[Object(j["createTextVNode"])(Object(j["toDisplayString"])(t.key),1)]})),_:2},1032,["onClick"])})),128))]})),_:2},1024)],64)})),128))])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{class:"no-padding",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u)]})),_:1})]})),_:1},8,["visible"])]})),_:1}),Object(j["createVNode"])(s,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",Dp,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.filterOptions,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"filter-item",key:t.key},[Object(j["createElementVNode"])("div",zp,Object(j["toDisplayString"])(t.label),1),Object(j["createVNode"])(d,{class:"filter-slider",max:t.max,min:t.min,step:t.step,value:t.value,onChange:function(n){return e.updateFilter(t,n)}},null,8,["max","min","step","value","onChange"]),Object(j["createElementVNode"])("div",Ap,Object(j["toDisplayString"])(t.value),1)])})),128))])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{class:"full-width-btn"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(f,{class:"btn-icon"}),Rp]})),_:1})]})),_:1}),Object(j["createVNode"])(p),Object(j["createVNode"])(m),Object(j["createVNode"])(b),Object(j["createVNode"])(m),Object(j["createVNode"])(v),Object(j["createVNode"])(m),Object(j["createVNode"])(O,{onChange:t[2]||(t[2]=function(t){return e.replaceImage(t)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{class:"full-width-btn"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(h,{class:"btn-icon"}),Fp]})),_:1})]})),_:1}),Object(j["createVNode"])(r,{class:"full-width-btn",onClick:t[3]||(t[3]=function(t){return e.resetImage()})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(g,{class:"btn-icon"}),Pp]})),_:1}),Object(j["createVNode"])(r,{class:"full-width-btn",onClick:t[4]||(t[4]=function(t){return e.setBackgroundImage()})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(y,{class:"btn-icon"}),Hp]})),_:1})])}var Wp={class:"element-flip"},Xp=Object(j["createTextVNode"])(" 垂直翻转"),Gp=Object(j["createTextVNode"])(" 水平翻转");function Up(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("IconFlipVertically"),r=Object(j["resolveComponent"])("CheckboxButton"),i=Object(j["resolveComponent"])("IconFlipHorizontally"),u=Object(j["resolveComponent"])("CheckboxButtonGroup");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Wp,[Object(j["createVNode"])(u,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},checked:e.flipV,onClick:t[0]||(t[0]=function(t){return e.updateFlip({flipV:!e.flipV})})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(c),Xp]})),_:1},8,["checked"]),Object(j["createVNode"])(r,{style:{flex:"1"},checked:e.flipH,onClick:t[1]||(t[1]=function(t){return e.updateFlip({flipH:!e.flipH})})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i),Gp]})),_:1},8,["checked"])]})),_:1})])}var Yp=Object(j["defineComponent"])({name:"element-flip",setup:function(){var e=Q(),t=Object(g["c"])($()),n=t.handleElement,o=Object(j["ref"])(!1),l=Object(j["ref"])(!1);Object(j["watch"])(n,(function(){!n.value||"image"!==n.value.type&&"shape"!==n.value.type||(o.value=!!n.value.flipH,l.value=!!n.value.flipV)}),{deep:!0,immediate:!0});var a=Pe(),c=a.addHistorySnapshot,r=function(t){n.value&&(e.updateElement({id:n.value.id,props:t}),c())};return{flipH:o,flipV:l,updateFlip:r}}});n("0c35");const Zp=Bn()(Yp,[["render",Up],["__scopeId","data-v-7bd50f1a"]]);var Jp=Zp,Kp=[{label:"模糊",key:"blur",default:0,value:0,unit:"px",max:10,step:1},{label:"亮度",key:"brightness",default:100,value:100,unit:"%",max:200,step:5},{label:"对比度",key:"contrast",default:100,value:100,unit:"%",max:200,step:5},{label:"灰度",key:"grayscale",default:0,value:0,unit:"%",max:100,step:5},{label:"饱和度",key:"saturate",default:100,value:100,unit:"%",max:200,step:5},{label:"色相",key:"hue-rotate",default:0,value:0,unit:"deg",max:360,step:10},{label:"不透明度",key:"opacity",default:100,value:100,unit:"%",max:100,step:5}],Qp=yo,$p=[{label:"纵横比（方形）",children:[{key:"1:1",ratio:1}]},{label:"纵横比（纵向）",children:[{key:"2:3",ratio:1.5},{key:"3:4",ratio:4/3},{key:"3:5",ratio:5/3},{key:"4:5",ratio:5/4}]},{label:"纵横比（横向）",children:[{key:"3:2",ratio:2/3},{key:"4:3",ratio:3/4},{key:"5:3",ratio:.6},{key:"5:4",ratio:.8}]},{children:[{key:"16:9",ratio:9/16},{key:"16:10",ratio:.625}]}],em=Object(j["defineComponent"])({name:"image-style-panel",components:{ElementOutline:ap,ElementShadow:xp,ElementFlip:Jp},setup:function(){var e=$(),t=Q(),n=Object(g["c"])(e),o=n.handleElement,l=n.handleElementId,a=Object(g["c"])(t),c=a.currentSlide,r=Object(j["ref"])(!1),i=Object(j["ref"])(JSON.parse(JSON.stringify(Kp)));Object(j["watch"])(o,(function(){if(o.value&&"image"===o.value.type){var e=o.value.filters;i.value=e?Kp.map((function(t){return void 0!==e[t.key]?Object(S["a"])(Object(S["a"])({},t),{},{value:parseInt(e[t.key])}):t})):JSON.parse(JSON.stringify(Kp))}}),{deep:!0,immediate:!0});var u=Pe(),s=u.addHistorySnapshot,d=function(e,n){var a=o.value,c=a.filters||{},r=Object(S["a"])(Object(S["a"])({},c),{},Object(ae["a"])({},e.key,"".concat(n).concat(e.unit)));t.updateElement({id:l.value,props:{filters:r}}),s()},f=function(){e.setClipingImageElementId(l.value),r.value=!1},p=function(){var e=o.value,t=e.width,n=e.height,l=e.left,a=e.top,c=e.clip?e.clip.range:[[0,0],[100,100]],r=t/((c[1][0]-c[0][0])/100),i=n/((c[1][1]-c[0][1])/100),u=l-r*(c[0][0]/100),s=a-i*(c[0][1]/100);return{originClipRange:c,originWidth:r,originHeight:i,originLeft:u,originTop:s}},m=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=o.value,c=p(),r=c.originClipRange,i=c.originWidth,u=c.originHeight,d=c.originLeft,m=c.originTop;if(n){var b,v=u/i,h=0,O=100;if(v>n){var j=(1-n/v)/2*100;b=[[h,j],[O,O-j]]}else{var g=(1-v/n)/2*100;b=[[g,h],[O-g,O]]}t.updateElement({id:l.value,props:{clip:Object(S["a"])(Object(S["a"])({},a.clip),{},{shape:e,range:b}),left:d+i*(b[0][0]/100),top:m+u*(b[0][1]/100),width:i*(b[1][0]-b[0][0])/100,height:u*(b[1][1]-b[0][1])/100}})}else t.updateElement({id:l.value,props:{clip:Object(S["a"])(Object(S["a"])({},a.clip),{},{shape:e,range:r})}});f(),s()},b=function(e){var n=e[0];n&&(qe(n).then((function(e){var n={src:e};t.updateElement({id:l.value,props:n})})),s())},v=function(){var e=o.value;if(e.clip){var n=p(),a=n.originWidth,c=n.originHeight,r=n.originLeft,i=n.originTop;t.updateElement({id:l.value,props:{left:r,top:i,width:a,height:c}})}t.removeElementProps({id:l.value,propName:["clip","outline","flip","shadow","filters"]}),s()},h=function(){var e=o.value,n=Object(S["a"])(Object(S["a"])({},c.value.background),{},{type:"image",image:e.src,imageSize:"cover"});t.updateSlide({background:n}),s()};return{clipPanelVisible:r,shapeClipPathOptions:Qp,ratioClipOptions:$p,filterOptions:i,handleElement:o,updateFilter:d,clipImage:f,presetImageClip:m,replaceImage:b,resetImage:v,setBackgroundImage:h}}});n("bc8f");const tm=Bn()(em,[["render",qp],["__scopeId","data-v-7a9d92df"]]);var nm=tm,om=function(e){return Object(j["pushScopeId"])("data-v-0e201fca"),e=e(),Object(j["popScopeId"])(),e},lm={class:"shape-style-panel"},am={class:"row"},cm=Object(j["createTextVNode"])("纯色填充"),rm=Object(j["createTextVNode"])("渐变填充"),im=om((function(){return Object(j["createElementVNode"])("div",{style:{flex:"1"}},null,-1)})),um=Object(j["createTextVNode"])("线性渐变"),sm=Object(j["createTextVNode"])("径向渐变"),dm={class:"row"},fm=om((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"起点颜色：",-1)})),pm={class:"row"},mm=om((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"终点颜色：",-1)})),bm={key:0,class:"row"},vm=om((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"渐变角度：",-1)}));function hm(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("SelectOption"),r=Object(j["resolveComponent"])("Select"),i=Object(j["resolveComponent"])("ColorPicker"),u=Object(j["resolveComponent"])("ColorButton"),s=Object(j["resolveComponent"])("Popover"),d=Object(j["resolveComponent"])("Slider"),f=Object(j["resolveComponent"])("ElementFlip"),p=Object(j["resolveComponent"])("Divider"),m=Object(j["resolveComponent"])("IconFontSize"),b=Object(j["resolveComponent"])("SelectOptGroup"),v=Object(j["resolveComponent"])("IconAddText"),h=Object(j["resolveComponent"])("InputGroup"),O=Object(j["resolveComponent"])("IconText"),g=Object(j["resolveComponent"])("Button"),y=Object(j["resolveComponent"])("Tooltip"),x=Object(j["resolveComponent"])("ButtonGroup"),C=Object(j["resolveComponent"])("IconTextBold"),k=Object(j["resolveComponent"])("CheckboxButton"),w=Object(j["resolveComponent"])("IconTextItalic"),E=Object(j["resolveComponent"])("IconTextUnderline"),N=Object(j["resolveComponent"])("IconFormat"),I=Object(j["resolveComponent"])("CheckboxButtonGroup"),V=Object(j["resolveComponent"])("IconAlignTextLeft"),S=Object(j["resolveComponent"])("RadioButton"),L=Object(j["resolveComponent"])("IconAlignTextCenter"),B=Object(j["resolveComponent"])("IconAlignTextRight"),T=Object(j["resolveComponent"])("RadioGroup"),M=Object(j["resolveComponent"])("IconAlignTextTopOne"),_=Object(j["resolveComponent"])("IconAlignTextMiddleOne"),D=Object(j["resolveComponent"])("IconAlignTextBottomOne"),z=Object(j["resolveComponent"])("ElementOutline"),A=Object(j["resolveComponent"])("ElementShadow"),R=Object(j["resolveComponent"])("ElementOpacity");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",lm,[Object(j["createElementVNode"])("div",am,[Object(j["createVNode"])(r,{style:{flex:"10"},value:e.fillType,onChange:t[0]||(t[0]=function(t){return e.updateFillType(t)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(c,{value:"fill"},{default:Object(j["withCtx"])((function(){return[cm]})),_:1}),Object(j["createVNode"])(c,{value:"gradient"},{default:Object(j["withCtx"])((function(){return[rm]})),_:1})]})),_:1},8,["value"]),im,"fill"===e.fillType?(Object(j["openBlock"])(),Object(j["createBlock"])(s,{key:0,trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{modelValue:e.fill,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.updateFill(t)})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,{color:e.fill,style:{flex:"10"}},null,8,["color"])]})),_:1})):(Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:1,style:{flex:"10"},value:e.gradient.type,onChange:t[2]||(t[2]=function(t){return e.updateGradient({type:t})})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(c,{value:"linear"},{default:Object(j["withCtx"])((function(){return[um]})),_:1}),Object(j["createVNode"])(c,{value:"radial"},{default:Object(j["withCtx"])((function(){return[sm]})),_:1})]})),_:1},8,["value"]))]),"gradient"===e.fillType?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:0},[Object(j["createElementVNode"])("div",dm,[fm,Object(j["createVNode"])(s,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{modelValue:e.gradient.color[0],"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.updateGradient({color:[t,e.gradient.color[1]]})})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,{color:e.gradient.color[0],style:{flex:"3"}},null,8,["color"])]})),_:1})]),Object(j["createElementVNode"])("div",pm,[mm,Object(j["createVNode"])(s,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{modelValue:e.gradient.color[1],"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.updateGradient({color:[e.gradient.color[0],t]})})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,{color:e.gradient.color[1],style:{flex:"3"}},null,8,["color"])]})),_:1})]),"linear"===e.gradient.type?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",bm,[vm,Object(j["createVNode"])(d,{class:"slider",min:0,max:360,step:15,value:e.gradient.rotate,onChange:t[5]||(t[5]=function(t){return e.updateGradient({rotate:t})})},null,8,["value"])])):Object(j["createCommentVNode"])("",!0)],64)):Object(j["createCommentVNode"])("",!0),Object(j["createVNode"])(f),Object(j["createVNode"])(p),e.showTextTools?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:1},[Object(j["createVNode"])(h,{compact:"",class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"3"},value:e.richTextAttrs.fontname,onChange:t[6]||(t[6]=function(t){return e.emitRichTextCommand("fontname",t)})},{suffixIcon:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(m)]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(b,{label:"系统字体"},{default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.availableFonts,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(c,{key:e.value,value:e.value},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("span",{style:Object(j["normalizeStyle"])({fontFamily:e.value})},Object(j["toDisplayString"])(e.label),5)]})),_:2},1032,["value"])})),128))]})),_:1}),Object(j["createVNode"])(b,{label:"在线字体"},{default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.webFonts,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(c,{key:e.value,value:e.value},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("span",null,Object(j["toDisplayString"])(e.label),1)]})),_:2},1032,["value"])})),128))]})),_:1})]})),_:1},8,["value"]),Object(j["createVNode"])(r,{style:{flex:"2"},value:e.richTextAttrs.fontsize,onChange:t[7]||(t[7]=function(t){return e.emitRichTextCommand("fontsize",t)})},{suffixIcon:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(v)]})),default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.fontSizeOptions,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(c,{key:e,value:e},{default:Object(j["withCtx"])((function(){return[Object(j["createTextVNode"])(Object(j["toDisplayString"])(e),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"])]})),_:1}),Object(j["createVNode"])(x,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(s,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{modelValue:e.richTextAttrs.color,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.emitRichTextCommand("color",t)})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(y,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文字颜色"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(g,{class:"text-color-btn",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(O),Object(j["createElementVNode"])("div",{class:"text-color-block",style:Object(j["normalizeStyle"])({backgroundColor:e.richTextAttrs.color})},null,4)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1})]})),_:1}),Object(j["createVNode"])(I,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(y,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"加粗"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(k,{style:{flex:"1"},checked:e.richTextAttrs.bold,onClick:t[9]||(t[9]=function(t){return e.emitRichTextCommand("bold")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(C)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(y,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"斜体"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(k,{style:{flex:"1"},checked:e.richTextAttrs.em,onClick:t[10]||(t[10]=function(t){return e.emitRichTextCommand("em")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(w)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(y,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"下划线"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(k,{style:{flex:"1"},checked:e.richTextAttrs.underline,onClick:t[11]||(t[11]=function(t){return e.emitRichTextCommand("underline")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(E)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(y,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"清除格式"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(k,{style:{flex:"1"},onClick:t[12]||(t[12]=function(t){return e.emitRichTextCommand("clear")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(N)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1}),Object(j["createVNode"])(T,{class:"row","button-style":"solid",value:e.richTextAttrs.align,onChange:t[13]||(t[13]=function(t){return e.emitRichTextCommand("align",t.target.value)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(y,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"左对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(S,{value:"left",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(V)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(y,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"居中"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(S,{value:"center",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(L)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(y,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"右对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(S,{value:"right",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(B)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1},8,["value"]),Object(j["createVNode"])(T,{class:"row","button-style":"solid",value:e.textAlign,onChange:t[14]||(t[14]=function(t){return e.updateTextAlign(t.target.value)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(y,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"顶对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(S,{value:"top",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(M)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(y,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"居中"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(S,{value:"middle",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(_)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(y,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"底对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(S,{value:"bottom",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(D)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1},8,["value"]),Object(j["createVNode"])(p)],64)):Object(j["createCommentVNode"])("",!0),Object(j["createVNode"])(z),Object(j["createVNode"])(p),Object(j["createVNode"])(A),Object(j["createVNode"])(p),Object(j["createVNode"])(R)])}var Om=V,jm=Object(j["defineComponent"])({name:"shape-style-panel",components:{ElementOpacity:Af,ElementOutline:ap,ElementShadow:xp,ElementFlip:Jp,ColorButton:np},setup:function(){var e=$(),t=Q(),n=Object(g["c"])(e),o=n.handleElement,l=n.handleElementId,a=n.editingShapeElementId,c=n.richTextAttrs,r=n.availableFonts,i=Object(j["computed"])((function(){return a.value===l.value})),u=Object(j["ref"])(),s=Object(j["ref"])(),d=Object(j["ref"])("fill"),f=Object(j["ref"])("middle");Object(j["watch"])(o,(function(){var e,t;o.value&&"shape"===o.value.type&&(u.value=o.value.fill||"#000",s.value=o.value.gradient||{type:"linear",rotate:0,color:[u.value,"#fff"]},d.value=o.value.gradient?"gradient":"fill",f.value=(null===(e=o.value)||void 0===e||null===(t=e.text)||void 0===t?void 0:t.align)||"middle")}),{deep:!0,immediate:!0});var p=Pe(),m=p.addHistorySnapshot,b=function(e){t.updateElement({id:l.value,props:e}),m()},v=function(e){"fill"===e?(t.removeElementProps({id:l.value,propName:"gradient"}),m()):b({gradient:s.value})},h=function(e){if(s.value){var t=Object(S["a"])(Object(S["a"])({},s.value),e);b({gradient:t})}},O=function(e){b({fill:e})},y=function(e){var t=o.value,n={content:"",defaultFontName:"微软雅黑",defaultColor:"#000",align:"middle"},l=t.text||n;b({text:Object(S["a"])(Object(S["a"])({},l),{},{align:e})})},x=["12px","14px","16px","18px","20px","22px","24px","28px","32px","36px","40px","44px","48px","54px","60px","66px","72px","76px","80px","88px","96px","104px","112px","120px"],C=function(e,t){$l.emit(pl.RICH_TEXT_COMMAND,{command:e,value:t})};return{fill:u,gradient:s,fillType:d,textAlign:f,richTextAttrs:c,availableFonts:r,fontSizeOptions:x,webFonts:Om,showTextTools:i,emitRichTextCommand:C,updateFillType:v,updateFill:O,updateGradient:h,updateTextAlign:y}}});n("7e0a");const gm=Bn()(jm,[["render",hm],["__scopeId","data-v-0e201fca"]]);var ym=gm,xm=function(e){return Object(j["pushScopeId"])("data-v-cbc4d7fa"),e=e(),Object(j["popScopeId"])(),e},Cm={class:"line-style-panel"},km={class:"row"},wm=xm((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"线条样式：",-1)})),Em=Object(j["createTextVNode"])("实线"),Nm=Object(j["createTextVNode"])("虚线"),Im={class:"row"},Vm=xm((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"线条颜色：",-1)})),Sm={class:"row"},Lm=xm((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"线条宽度：",-1)})),Bm={class:"row"},Tm=xm((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"起点样式：",-1)})),Mm=Object(j["createTextVNode"])("无"),_m=Object(j["createTextVNode"])("箭头"),Dm=Object(j["createTextVNode"])("圆点"),zm={class:"row"},Am=xm((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"终点样式：",-1)})),Rm=Object(j["createTextVNode"])("无"),Fm=Object(j["createTextVNode"])("箭头"),Pm=Object(j["createTextVNode"])("圆点");function Hm(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("SelectOption"),r=Object(j["resolveComponent"])("Select"),i=Object(j["resolveComponent"])("ColorPicker"),u=Object(j["resolveComponent"])("ColorButton"),s=Object(j["resolveComponent"])("Popover"),d=Object(j["resolveComponent"])("InputNumber"),f=Object(j["resolveComponent"])("Divider"),p=Object(j["resolveComponent"])("ElementShadow");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Cm,[Object(j["createElementVNode"])("div",km,[wm,Object(j["createVNode"])(r,{style:{flex:"3"},value:e.handleElement.style,onChange:t[0]||(t[0]=function(t){return e.updateLine({style:t})})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(c,{value:"solid"},{default:Object(j["withCtx"])((function(){return[Em]})),_:1}),Object(j["createVNode"])(c,{value:"dashed"},{default:Object(j["withCtx"])((function(){return[Nm]})),_:1})]})),_:1},8,["value"])]),Object(j["createElementVNode"])("div",Im,[Vm,Object(j["createVNode"])(s,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{modelValue:e.handleElement.color,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.updateLine({color:t})})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,{color:e.handleElement.color,style:{flex:"3"}},null,8,["color"])]})),_:1})]),Object(j["createElementVNode"])("div",Sm,[Lm,Object(j["createVNode"])(d,{value:e.handleElement.width,onChange:t[2]||(t[2]=function(t){return e.updateLine({width:t})}),style:{flex:"3"}},null,8,["value"])]),Object(j["createElementVNode"])("div",Bm,[Tm,Object(j["createVNode"])(r,{style:{flex:"3"},value:e.handleElement.points[0],onChange:t[3]||(t[3]=function(t){return e.updateLine({points:[t,e.handleElement.points[1]]})})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(c,{value:""},{default:Object(j["withCtx"])((function(){return[Mm]})),_:1}),Object(j["createVNode"])(c,{value:"arrow"},{default:Object(j["withCtx"])((function(){return[_m]})),_:1}),Object(j["createVNode"])(c,{value:"dot"},{default:Object(j["withCtx"])((function(){return[Dm]})),_:1})]})),_:1},8,["value"])]),Object(j["createElementVNode"])("div",zm,[Am,Object(j["createVNode"])(r,{style:{flex:"3"},value:e.handleElement.points[1],onChange:t[4]||(t[4]=function(t){return e.updateLine({points:[e.handleElement.points[0],t]})})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(c,{value:""},{default:Object(j["withCtx"])((function(){return[Rm]})),_:1}),Object(j["createVNode"])(c,{value:"arrow"},{default:Object(j["withCtx"])((function(){return[Fm]})),_:1}),Object(j["createVNode"])(c,{value:"dot"},{default:Object(j["withCtx"])((function(){return[Pm]})),_:1})]})),_:1},8,["value"])]),Object(j["createVNode"])(f),Object(j["createVNode"])(p)])}var qm=Object(j["defineComponent"])({name:"line-style-panel",components:{ElementShadow:xp,ColorButton:np},setup:function(){var e=Q(),t=Object(g["c"])($()),n=t.handleElement,o=Pe(),l=o.addHistorySnapshot,a=function(t){n.value&&(e.updateElement({id:n.value.id,props:t}),l())};return{handleElement:n,updateLine:a}}});n("04e6");const Wm=Bn()(qm,[["render",Hm],["__scopeId","data-v-cbc4d7fa"]]);var Xm=Wm,Gm=function(e){return Object(j["pushScopeId"])("data-v-4e271d7e"),e=e(),Object(j["popScopeId"])(),e},Um={class:"chart-style-panel"},Ym=Object(j["createTextVNode"])(" 编辑图表数据 "),Zm={class:"row"},Jm=Object(j["createTextVNode"])("面积图样式"),Km=Object(j["createTextVNode"])("散点图样式"),Qm={class:"row"},$m=Object(j["createTextVNode"])("使用平滑曲线"),eb={key:1,class:"row"},tb=Object(j["createTextVNode"])("条形图样式"),nb={key:2,class:"row"},ob=Object(j["createTextVNode"])("环形图样式"),lb={class:"row"},ab=Gm((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"图例：",-1)})),cb=Object(j["createTextVNode"])("不显示"),rb=Object(j["createTextVNode"])("显示在上方"),ib=Object(j["createTextVNode"])("显示在下方"),ub={class:"row"},sb=Gm((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"背景填充：",-1)})),db={class:"row"},fb=Gm((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"网格颜色：",-1)})),pb={style:{flex:"2"}},mb={class:"color-btn-wrap",style:{flex:"3"}},bb=["onClick"],vb={key:3,class:"row"},hb=Gm((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},null,-1)}));function Ob(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("IconEdit"),r=Object(j["resolveComponent"])("Button"),i=Object(j["resolveComponent"])("Divider"),u=Object(j["resolveComponent"])("Checkbox"),s=Object(j["resolveComponent"])("SelectOption"),d=Object(j["resolveComponent"])("Select"),f=Object(j["resolveComponent"])("ColorPicker"),p=Object(j["resolveComponent"])("ColorButton"),m=Object(j["resolveComponent"])("Popover"),b=Object(j["resolveComponent"])("IconCloseSmall"),v=Object(j["resolveComponent"])("Tooltip"),h=Object(j["resolveComponent"])("IconPlus"),O=Object(j["resolveComponent"])("ElementOutline"),g=Object(j["resolveComponent"])("ChartDataEditor"),y=Object(j["resolveComponent"])("Modal");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Um,[Object(j["createVNode"])(r,{class:"full-width-btn",onClick:t[0]||(t[0]=function(t){return e.chartDataEditorVisible=!0})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(c,{class:"btn-icon"}),Ym]})),_:1}),Object(j["createVNode"])(i),"line"===e.handleElement.chartType?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:0},[Object(j["createElementVNode"])("div",Zm,[Object(j["createVNode"])(u,{onChange:t[1]||(t[1]=function(t){return e.updateOptions({showArea:t.target.checked})}),checked:e.showArea,style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Jm]})),_:1},8,["checked"]),Object(j["createVNode"])(u,{onChange:t[2]||(t[2]=function(t){return e.updateOptions({showLine:!t.target.checked})}),checked:!e.showLine,style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Km]})),_:1},8,["checked"])]),Object(j["createElementVNode"])("div",Qm,[Object(j["createVNode"])(u,{onChange:t[3]||(t[3]=function(t){return e.updateOptions({lineSmooth:t.target.checked})}),checked:e.lineSmooth},{default:Object(j["withCtx"])((function(){return[$m]})),_:1},8,["checked"])])],64)):Object(j["createCommentVNode"])("",!0),"bar"===e.handleElement.chartType?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",eb,[Object(j["createVNode"])(u,{onChange:t[4]||(t[4]=function(t){return e.updateOptions({horizontalBars:t.target.checked})}),checked:e.horizontalBars},{default:Object(j["withCtx"])((function(){return[tb]})),_:1},8,["checked"])])):Object(j["createCommentVNode"])("",!0),"pie"===e.handleElement.chartType?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",nb,[Object(j["createVNode"])(u,{onChange:t[5]||(t[5]=function(t){return e.updateOptions({donut:t.target.checked})}),checked:e.donut},{default:Object(j["withCtx"])((function(){return[ob]})),_:1},8,["checked"])])):Object(j["createCommentVNode"])("",!0),Object(j["createVNode"])(i),Object(j["createElementVNode"])("div",lb,[ab,Object(j["createVNode"])(d,{style:{flex:"3"},value:e.legend,onChange:t[6]||(t[6]=function(t){return e.updateLegend(t)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(s,{value:""},{default:Object(j["withCtx"])((function(){return[cb]})),_:1}),Object(j["createVNode"])(s,{value:"top"},{default:Object(j["withCtx"])((function(){return[rb]})),_:1}),Object(j["createVNode"])(s,{value:"bottom"},{default:Object(j["withCtx"])((function(){return[ib]})),_:1})]})),_:1},8,["value"])]),Object(j["createVNode"])(i),Object(j["createElementVNode"])("div",ub,[sb,Object(j["createVNode"])(m,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(f,{modelValue:e.fill,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.updateFill(t)})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(p,{color:e.fill,style:{flex:"3"}},null,8,["color"])]})),_:1})]),Object(j["createElementVNode"])("div",db,[fb,Object(j["createVNode"])(m,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(f,{modelValue:e.gridColor,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.updateGridColor(t)})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(p,{color:e.gridColor,style:{flex:"3"}},null,8,["color"])]})),_:1})]),Object(j["createVNode"])(i),(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.themeColor,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"row",key:n},[Object(j["createElementVNode"])("div",pb,Object(j["toDisplayString"])(0===n?"主题配色：":""),1),Object(j["createVNode"])(m,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(f,{modelValue:t,"onUpdate:modelValue":function(t){return e.updateTheme(t,n)}},null,8,["modelValue","onUpdate:modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",mb,[Object(j["createVNode"])(p,{color:t,style:{width:"100%"}},null,8,["color"]),Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"删除"},{default:Object(j["withCtx"])((function(){return[0!==n?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{key:0,class:"delete-color-btn",onClick:Object(j["withModifiers"])((function(t){return e.deleteThemeColor(n)}),["stop"])},[Object(j["createVNode"])(b)],8,bb)):Object(j["createCommentVNode"])("",!0)]})),_:2},1032,["mouseEnterDelay"])])]})),_:2},1024)])})),128)),e.themeColor.length<10?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",vb,[hb,Object(j["createVNode"])(r,{class:"add-color-btn",style:{flex:"3"},onClick:t[9]||(t[9]=function(t){return e.addThemeColor()})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(h)]})),_:1})])):Object(j["createCommentVNode"])("",!0),Object(j["createVNode"])(i),Object(j["createVNode"])(O),Object(j["createVNode"])(y,{visible:e.chartDataEditorVisible,"onUpdate:visible":t[12]||(t[12]=function(t){return e.chartDataEditorVisible=t}),footer:null,centered:"",closable:!1,width:648,destroyOnClose:""},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(g,{data:e.handleElement.data,onClose:t[10]||(t[10]=function(t){return e.chartDataEditorVisible=!1}),onSave:t[11]||(t[11]=function(t){return e.updateData(t)})},null,8,["data"])]})),_:1},8,["visible"])])}var jb={class:"chart-data-editor"},gb={class:"editor-content"},yb={class:"range-box"},xb=["id","onFocus","onPaste"],Cb={class:"btns"},kb={class:"left"},wb=Object(j["createTextVNode"])("清空"),Eb={class:"right"},Nb=Object(j["createTextVNode"])("取消"),Ib=Object(j["createTextVNode"])("确认");function Vb(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("Button");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",jb,[Object(j["createElementVNode"])("div",gb,[Object(j["createElementVNode"])("div",yb,[Object(j["createElementVNode"])("div",{class:"temp-range",style:Object(j["normalizeStyle"])({width:e.tempRangeSize.width+"px",height:e.tempRangeSize.height+"px"})},null,4),(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.rangeLines,(function(e){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["range-line",e.type]),key:e.type,style:Object(j["normalizeStyle"])(e.style)},null,6)})),128)),Object(j["createElementVNode"])("div",{class:"resizable",style:Object(j["normalizeStyle"])(e.resizablePointStyle),onMousedown:t[0]||(t[0]=Object(j["withModifiers"])((function(t){return e.changeSelectRange(t)}),["stop"]))},null,36)]),Object(j["createElementVNode"])("table",null,[Object(j["createElementVNode"])("tbody",null,[(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(31,(function(t){return Object(j["createElementVNode"])("tr",{key:t},[(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(7,(function(n){return Object(j["createElementVNode"])("td",{key:n,class:Object(j["normalizeClass"])({head:1===n&&t<=e.selectedRange[1]||1===t&&n<=e.selectedRange[0]})},[Object(j["createElementVNode"])("input",{class:Object(j["normalizeClass"])(["item",{selected:t<=e.selectedRange[1]&&n<=e.selectedRange[0]}]),id:"cell-".concat(t-1,"-").concat(n-1),autocomplete:"off",onFocus:function(o){return e.focusCell=[t-1,n-1]},onPaste:function(o){return e.handlePaste(o,t-1,n-1)}},null,42,xb)],2)})),64))])})),64))])])]),Object(j["createElementVNode"])("div",Cb,[Object(j["createElementVNode"])("div",kb,[Object(j["createVNode"])(c,{class:"btn",onClick:t[1]||(t[1]=function(t){return e.clear()})},{default:Object(j["withCtx"])((function(){return[wb]})),_:1})]),Object(j["createElementVNode"])("div",Eb,[Object(j["createVNode"])(c,{class:"btn",onClick:t[2]||(t[2]=function(t){return e.closeEditor()})},{default:Object(j["withCtx"])((function(){return[Nb]})),_:1}),Object(j["createVNode"])(c,{type:"primary",class:"btn",onClick:t[3]||(t[3]=function(t){return e.getTableData()}),style:{"margin-left":"10px"}},{default:Object(j["withCtx"])((function(){return[Ib]})),_:1})])])])}var Sb=100,Lb=32,Bb=Object(j["defineComponent"])({name:"chart-data-editor",emits:["save","close"],props:{data:{type:Object,required:!0}},setup:function(e,t){var n=t.emit,o=Object(j["ref"])([0,0]),l=Object(j["ref"])({width:0,height:0}),a=Object(j["ref"])(null),c=Object(j["computed"])((function(){var e=o.value[0]*Sb,t=o.value[1]*Lb;return[{type:"t",style:{width:e+"px"}},{type:"b",style:{top:t+"px",width:e+"px"}},{type:"l",style:{height:t+"px"}},{type:"r",style:{left:e+"px",height:t+"px"}}]})),r=Object(j["computed"])((function(){var e=o.value[0]*Sb,t=o.value[1]*Lb;return{left:e+"px",top:t+"px"}})),i=function(){var t=[],n=e.data,l=n.labels,a=n.legends,c=n.series,r=l.length,i=c.length;t.push([""].concat(Object(X["a"])(a)));for(var u=0;u<r;u++){for(var s=[l[u]],d=0;d<i;d++)s.push(c[d][u]+"");t.push(s)}for(var f=0;f<r+1;f++)for(var p=0;p<i+1;p++){var m=document.querySelector("#cell-".concat(f,"-").concat(p));m&&(m.value=t[f][p]+"")}o.value=[i+1,r+1]};Object(j["onMounted"])(i);var u=function(){if(a.value){var e=Object(zt["a"])(a.value,2),t=e[0],n=e[1],o=document.querySelector("#cell-".concat(t+1,"-").concat(n));o&&o.focus()}},s=function(e){var t=e.key.toUpperCase();t===N.ENTER&&u()};Object(j["onMounted"])((function(){document.addEventListener("keydown",s)})),Object(j["onUnmounted"])((function(){document.removeEventListener("keydown",s)}));var d=function(){for(var e=Object(zt["a"])(o.value,2),t=e[0],l=e[1],a=[],c=[],r=[],i=1;i<l;i++){var u="类别".concat(i),s=document.querySelector("#cell-".concat(i,"-0"));s&&s.value&&(u=s.value),a.push(u)}for(var d=1;d<t;d++){var f="系列".concat(d),p=document.querySelector("#cell-0-".concat(d));p&&p.value&&(f=p.value),c.push(f)}for(var m=1;m<t;m++){for(var b=[],v=1;v<l;v++){var h=document.querySelector("#cell-".concat(v,"-").concat(m)),O=0;h&&h.value&&+h.value&&(O=+h.value),b.push(O)}r.push(b)}n("save",{labels:a,legends:c,series:r})},f=function(){for(var e=1;e<31;e++)for(var t=1;t<7;t++){var n=document.querySelector("#cell-".concat(e,"-").concat(t));n&&(n.value="")}},p=function(e,t,n){if(e.preventDefault(),e.clipboardData){var o=e.clipboardData.items[0];o&&"string"===o.kind&&"text/plain"===o.type&&o.getAsString((function(e){var o=Ve(e);if("object"!==Object(Re["a"])(o)){var l=Se(e);if(l)for(var a=t+l.length,c=n+l[0].length,r=t;r<a;r++)for(var i=n;i<c;i++){var u=document.querySelector("#cell-".concat(r,"-").concat(i));u&&(u.value=l[r-t][i-n])}}}))}},m=function(){return n("close")},b=function(e){var t=!0,n=e.pageX,a=e.pageY,c=o.value[0]*Sb,r=o.value[1]*Lb;document.onmousemove=function(e){if(t){var o=e.pageX,i=e.pageY,u=o-n,s=i-a,d=c+u,f=r+s;l.value={width:d,height:f}}},document.onmouseup=function(e){t=!1,document.onmousemove=null,document.onmouseup=null;var c=e.pageX,r=e.pageY;if(n!==c||a!==r){var i=l.value.width,u=l.value.height;i%Sb>.5*Sb&&(i+=Sb-i%Sb),u%Lb>.5*Lb&&(u+=Lb-u%Lb);var s=Math.round(u/Lb),d=Math.round(i/Sb);s<3&&(s=3),d<2&&(d=2),o.value=[d,s],l.value={width:0,height:0}}}};return{tempRangeSize:l,rangeLines:c,resizablePointStyle:r,selectedRange:o,focusCell:a,changeSelectRange:b,getTableData:d,closeEditor:m,clear:f,handlePaste:p}}});n("6856");const Tb=Bn()(Bb,[["render",Vb],["__scopeId","data-v-9a62f784"]]);var Mb=Tb,_b=Object(j["defineComponent"])({name:"chart-style-panel",components:{ElementOutline:ap,ChartDataEditor:Mb,ColorButton:np},setup:function(){var e=$(),t=Q(),n=Object(g["c"])(e),o=n.handleElement,l=n.handleElementId,a=Object(g["c"])(t),c=a.theme,r=Object(j["ref"])(!1),i=Pe(),u=i.addHistorySnapshot,s=Object(j["ref"])(),d=Object(j["ref"])([]),f=Object(j["ref"])(""),p=Object(j["ref"])(""),m=Object(j["ref"])(!0),b=Object(j["ref"])(!0),v=Object(j["ref"])(!1),h=Object(j["ref"])(!1),O=Object(j["ref"])(!1);Object(j["watch"])(o,(function(){if(o.value&&"chart"===o.value.type){if(s.value=o.value.fill||"#000",o.value.options){var e=o.value.options,t=e.lineSmooth,n=e.showLine,l=e.showArea,a=e.horizontalBars,c=e.donut;void 0!==t&&(m.value=t),void 0!==n&&(b.value=n),void 0!==l&&(v.value=l),void 0!==a&&(h.value=a),void 0!==c&&(O.value=c)}d.value=o.value.themeColor,f.value=o.value.gridColor||"rgba(0, 0, 0, 0.4)",p.value=o.value.legend||""}}),{deep:!0,immediate:!0});var y=function(e){t.updateElement({id:l.value,props:e}),u()},x=function(e){r.value=!1,y({data:e})},C=function(e){y({fill:e})},k=function(e){var t=o.value,n=Object(S["a"])(Object(S["a"])({},t.options),e);y({options:n})},w=function(e,t){var n={themeColor:d.value.map((function(n,o){return o===t?e:n}))};y(n)},E=function(){var e={themeColor:[].concat(Object(X["a"])(d.value),[c.value.themeColor])};y(e)},N=function(e){var t={themeColor:d.value.filter((function(t,n){return n!==e}))};y(t)},I=function(e){y({gridColor:e})},V=function(e){y({legend:e})},L=function(){return r.value=!0};return $l.on(pl.OPEN_CHART_DATA_EDITOR,L),Object(j["onUnmounted"])((function(){$l.off(pl.OPEN_CHART_DATA_EDITOR,L)})),{chartDataEditorVisible:r,handleElement:o,updateData:x,fill:s,updateFill:C,lineSmooth:m,showLine:b,showArea:v,horizontalBars:h,donut:O,updateOptions:k,themeColor:d,gridColor:f,legend:p,updateTheme:w,addThemeColor:E,deleteThemeColor:N,updateGridColor:I,updateLegend:V}}});n("8bff");const Db=Bn()(_b,[["render",Ob],["__scopeId","data-v-4e271d7e"]]);var zb=Db,Ab=function(e){return Object(j["pushScopeId"])("data-v-28588108"),e=e(),Object(j["popScopeId"])(),e},Rb={class:"table-style-panel"},Fb={class:"row"},Pb=Ab((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"行数：",-1)})),Hb={class:"row"},qb=Ab((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"列数：",-1)})),Wb={class:"row theme-switch"},Xb=Ab((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"启用主题表格：",-1)})),Gb={class:"switch-wrapper",style:{flex:"3"}},Ub={class:"row"},Yb=Object(j["createTextVNode"])("标题行"),Zb=Object(j["createTextVNode"])("汇总行"),Jb={class:"row"},Kb=Object(j["createTextVNode"])("第一列"),Qb=Object(j["createTextVNode"])("最后一列"),$b={class:"row"},ev=Ab((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"主题颜色：",-1)}));function tv(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("IconFontSize"),r=Object(j["resolveComponent"])("SelectOption"),i=Object(j["resolveComponent"])("SelectOptGroup"),u=Object(j["resolveComponent"])("Select"),s=Object(j["resolveComponent"])("IconAddText"),d=Object(j["resolveComponent"])("InputGroup"),f=Object(j["resolveComponent"])("ColorPicker"),p=Object(j["resolveComponent"])("IconText"),m=Object(j["resolveComponent"])("Button"),b=Object(j["resolveComponent"])("Tooltip"),v=Object(j["resolveComponent"])("Popover"),h=Object(j["resolveComponent"])("IconFill"),O=Object(j["resolveComponent"])("ButtonGroup"),g=Object(j["resolveComponent"])("IconTextBold"),y=Object(j["resolveComponent"])("CheckboxButton"),x=Object(j["resolveComponent"])("IconTextItalic"),C=Object(j["resolveComponent"])("IconTextUnderline"),k=Object(j["resolveComponent"])("IconStrikethrough"),w=Object(j["resolveComponent"])("CheckboxButtonGroup"),E=Object(j["resolveComponent"])("IconAlignTextLeft"),N=Object(j["resolveComponent"])("RadioButton"),I=Object(j["resolveComponent"])("IconAlignTextCenter"),V=Object(j["resolveComponent"])("IconAlignTextRight"),S=Object(j["resolveComponent"])("RadioGroup"),L=Object(j["resolveComponent"])("Divider"),B=Object(j["resolveComponent"])("ElementOutline"),T=Object(j["resolveComponent"])("InputNumber"),M=Object(j["resolveComponent"])("Switch"),_=Object(j["resolveComponent"])("Checkbox"),D=Object(j["resolveComponent"])("ColorButton");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Rb,[Object(j["createVNode"])(d,{compact:"",class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,{style:{flex:"3"},value:e.textAttrs.fontname,onChange:t[0]||(t[0]=function(t){return e.updateTextAttrs({fontname:t})})},{suffixIcon:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(c)]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{label:"系统字体"},{default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.availableFonts,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:e.value,value:e.value},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("span",{style:Object(j["normalizeStyle"])({fontFamily:e.value})},Object(j["toDisplayString"])(e.label),5)]})),_:2},1032,["value"])})),128))]})),_:1}),Object(j["createVNode"])(i,{label:"在线字体"},{default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.webFonts,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:e.value,value:e.value},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("span",null,Object(j["toDisplayString"])(e.label),1)]})),_:2},1032,["value"])})),128))]})),_:1})]})),_:1},8,["value"]),Object(j["createVNode"])(u,{style:{flex:"2"},value:e.textAttrs.fontsize,onChange:t[1]||(t[1]=function(t){return e.updateTextAttrs({fontsize:t})})},{suffixIcon:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(s)]})),default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.fontSizeOptions,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:e,value:e},{default:Object(j["withCtx"])((function(){return[Object(j["createTextVNode"])(Object(j["toDisplayString"])(e),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"])]})),_:1}),Object(j["createVNode"])(O,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(v,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(f,{modelValue:e.textAttrs.color,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.updateTextAttrs({color:t})})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(b,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文字颜色"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(m,{class:"text-color-btn",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(p),Object(j["createElementVNode"])("div",{class:"text-color-block",style:Object(j["normalizeStyle"])({backgroundColor:e.textAttrs.color})},null,4)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1}),Object(j["createVNode"])(v,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(f,{modelValue:e.textAttrs.backcolor,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.updateTextAttrs({backcolor:t})})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(b,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"单元格填充"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(m,{class:"text-color-btn",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(h),Object(j["createElementVNode"])("div",{class:"text-color-block",style:Object(j["normalizeStyle"])({backgroundColor:e.textAttrs.backcolor})},null,4)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1})]})),_:1}),Object(j["createVNode"])(w,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(b,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"加粗"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(y,{style:{flex:"1"},checked:e.textAttrs.bold,onClick:t[4]||(t[4]=function(t){return e.updateTextAttrs({bold:!e.textAttrs.bold})})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(g)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(b,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"斜体"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(y,{style:{flex:"1"},checked:e.textAttrs.em,onClick:t[5]||(t[5]=function(t){return e.updateTextAttrs({em:!e.textAttrs.em})})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(x)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(b,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"下划线"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(y,{style:{flex:"1"},checked:e.textAttrs.underline,onClick:t[6]||(t[6]=function(t){return e.updateTextAttrs({underline:!e.textAttrs.underline})})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(C)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(b,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"删除线"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(y,{style:{flex:"1"},checked:e.textAttrs.strikethrough,onClick:t[7]||(t[7]=function(t){return e.updateTextAttrs({strikethrough:!e.textAttrs.strikethrough})})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(k)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"])]})),_:1}),Object(j["createVNode"])(S,{class:"row","button-style":"solid",value:e.textAttrs.align,onChange:t[8]||(t[8]=function(t){return e.updateTextAttrs({align:t.target.value})})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(b,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"左对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(N,{value:"left",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(E)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(b,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"居中"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(N,{value:"center",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(I)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(b,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"右对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(N,{value:"right",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(V)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1},8,["value"]),Object(j["createVNode"])(L),Object(j["createVNode"])(B,{fixed:!0}),Object(j["createVNode"])(L),Object(j["createElementVNode"])("div",Fb,[Pb,Object(j["createVNode"])(T,{min:e.minRowCount,max:20,value:e.rowCount,"onUpdate:value":t[9]||(t[9]=function(t){return e.rowCount=t}),onPressEnter:t[10]||(t[10]=function(t){return e.setTableRow(t)}),style:{flex:"3"}},null,8,["min","value"])]),Object(j["createElementVNode"])("div",Hb,[qb,Object(j["createVNode"])(T,{min:e.minColCount,max:20,value:e.colCount,"onUpdate:value":t[11]||(t[11]=function(t){return e.colCount=t}),onPressEnter:t[12]||(t[12]=function(t){return e.setTableCol(t)}),style:{flex:"3"}},null,8,["min","value"])]),Object(j["createVNode"])(L),Object(j["createElementVNode"])("div",Wb,[Xb,Object(j["createElementVNode"])("div",Gb,[Object(j["createVNode"])(M,{checked:e.hasTheme,onChange:t[13]||(t[13]=function(t){return e.toggleTheme(t)})},null,8,["checked"])])]),e.hasTheme?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:0},[Object(j["createElementVNode"])("div",Ub,[Object(j["createVNode"])(_,{onChange:t[14]||(t[14]=function(t){return e.updateTheme({rowHeader:t.target.checked})}),checked:e.theme.rowHeader,style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Yb]})),_:1},8,["checked"]),Object(j["createVNode"])(_,{onChange:t[15]||(t[15]=function(t){return e.updateTheme({rowFooter:t.target.checked})}),checked:e.theme.rowFooter,style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Zb]})),_:1},8,["checked"])]),Object(j["createElementVNode"])("div",Jb,[Object(j["createVNode"])(_,{onChange:t[16]||(t[16]=function(t){return e.updateTheme({colHeader:t.target.checked})}),checked:e.theme.colHeader,style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Kb]})),_:1},8,["checked"]),Object(j["createVNode"])(_,{onChange:t[17]||(t[17]=function(t){return e.updateTheme({colFooter:t.target.checked})}),checked:e.theme.colFooter,style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Qb]})),_:1},8,["checked"])]),Object(j["createElementVNode"])("div",$b,[ev,Object(j["createVNode"])(v,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(f,{modelValue:e.theme.color,"onUpdate:modelValue":t[18]||(t[18]=function(t){return e.updateTheme({color:t})})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(D,{color:e.theme.color,style:{flex:"3"}},null,8,["color"])]})),_:1})])],64)):Object(j["createCommentVNode"])("",!0)])}var nv=V,ov=Object(j["defineComponent"])({name:"table-style-panel",components:{ElementOutline:ap,ColorButton:np},setup:function(){var e=Q(),t=Object(g["c"])($()),n=t.handleElement,o=t.handleElementId,l=t.selectedTableCells,a=t.availableFonts,c=Object(j["computed"])((function(){return e.theme.themeColor})),r=["12px","14px","16px","18px","20px","22px","24px","28px","32px"],i=Object(j["ref"])({bold:!1,em:!1,underline:!1,strikethrough:!1,color:"#000",backcolor:"#000",fontsize:"12px",fontname:"微软雅黑",align:"left"}),u=Object(j["ref"])(),s=Object(j["ref"])(!1),d=Object(j["ref"])(0),f=Object(j["ref"])(0),p=Object(j["ref"])(0),m=Object(j["ref"])(0);Object(j["watch"])(n,(function(){n.value&&"table"===n.value.type&&(u.value=n.value.theme,s.value=!!u.value,d.value=n.value.data.length,f.value=n.value.data[0].length,p.value=n.value.data.length,m.value=n.value.data[0].length)}),{deep:!0,immediate:!0});var b=Pe(),v=b.addHistorySnapshot,h=function(){if(n.value&&"table"===n.value.type){var e=0,t=0;if(l.value.length){var o=l.value[0];e=+o.split("_")[0],t=+o.split("_")[1]}var a=n.value.data[e][t].style;i.value=a?{bold:!!a.bold,em:!!a.em,underline:!!a.underline,strikethrough:!!a.strikethrough,color:a.color||"#000",backcolor:a.backcolor||"#000",fontsize:a.fontsize||"12px",fontname:a.fontname||"微软雅黑",align:a.align||"left"}:{bold:!1,em:!1,underline:!1,strikethrough:!1,color:"#000",backcolor:"#000",fontsize:"12px",fontname:"微软雅黑",align:"left"}}};Object(j["onMounted"])((function(){l.value.length&&h()})),Object(j["watch"])(l,h);var O=function(t){e.updateElement({id:o.value,props:t}),v()},y=function(e){for(var t=n.value,o=JSON.parse(JSON.stringify(t.data)),a=0;a<o.length;a++)for(var c=0;c<o[a].length;c++)if(!l.value.length||l.value.includes("".concat(a,"_").concat(c))){var r=o[a][c].style||{};o[a][c].style=Object(S["a"])(Object(S["a"])({},r),e)}O({data:o}),h()},x=function(e){if(u.value){var t=Object(S["a"])(Object(S["a"])({},u.value),e);O({theme:t})}},C=function(t){if(t){var n={theme:{color:c.value,rowHeader:!0,rowFooter:!1,colHeader:!1,colFooter:!1}};O(n)}else e.removeElementProps({id:o.value,propName:"theme"}),v()},k=function(e){var t=n.value,o=+e.target.value,l=t.data.length;if(o!==l){if(o<l)return he["a"].warning("设置行数不能少于当前值");var a=new Array(f.value).fill({id:Oe(),colspan:1,rowspan:1,text:""}),c=new Array(o-l).fill(a),r=JSON.parse(JSON.stringify(t.data));r.push.apply(r,Object(X["a"])(c)),O({data:r})}},w=function(e){var t=n.value,o=+e.target.value,l=t.data[0].length;if(o!==l){if(o<l)return he["a"].warning("设置列数不能少于当前值");var a=t.data.map((function(e){var t=new Array(o-l).fill({id:Oe(),colspan:1,rowspan:1,text:""});return e.push.apply(e,Object(X["a"])(t)),e})),c=t.colWidths.map((function(e){return e*t.width})),r=new Array(o-l).fill(100);c.push.apply(c,Object(X["a"])(r));var i=t.width+100*(o-l),u=c.map((function(e){return e/i})),s={width:i,data:a,colWidths:u};O(s)}};return{handleElement:n,availableFonts:a,fontSizeOptions:r,textAttrs:i,updateTextAttrs:y,theme:u,rowCount:d,colCount:f,minRowCount:p,minColCount:m,hasTheme:s,toggleTheme:C,updateTheme:x,setTableRow:k,setTableCol:w,webFonts:nv}}});n("51d9");const lv=Bn()(ov,[["render",tv],["__scopeId","data-v-28588108"]]);var av=lv,cv=function(e){return Object(j["pushScopeId"])("data-v-69f903b1"),e=e(),Object(j["popScopeId"])(),e},rv={class:"latex-style-panel"},iv={class:"row"},uv=Object(j["createTextVNode"])("编辑 LaTeX"),sv={class:"row"},dv=cv((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"颜色：",-1)})),fv={class:"row"},pv=cv((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"粗细：",-1)}));function mv(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("Button"),r=Object(j["resolveComponent"])("Divider"),i=Object(j["resolveComponent"])("ColorPicker"),u=Object(j["resolveComponent"])("ColorButton"),s=Object(j["resolveComponent"])("Popover"),d=Object(j["resolveComponent"])("InputNumber"),f=Object(j["resolveComponent"])("LaTeXEditor"),p=Object(j["resolveComponent"])("Modal");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",rv,[Object(j["createElementVNode"])("div",iv,[Object(j["createVNode"])(c,{style:{flex:"1"},onClick:t[0]||(t[0]=function(t){return e.latexEditorVisible=!0})},{default:Object(j["withCtx"])((function(){return[uv]})),_:1})]),Object(j["createVNode"])(r),Object(j["createElementVNode"])("div",sv,[dv,Object(j["createVNode"])(s,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{modelValue:e.handleElement.color,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.updateLatex({color:t})})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,{color:e.handleElement.color,style:{flex:"3"}},null,8,["color"])]})),_:1})]),Object(j["createElementVNode"])("div",fv,[pv,Object(j["createVNode"])(d,{min:1,max:3,value:e.handleElement.strokeWidth,onChange:t[2]||(t[2]=function(t){return e.updateLatex({strokeWidth:t})}),style:{flex:"3"}},null,8,["value"])]),Object(j["createVNode"])(p,{visible:e.latexEditorVisible,"onUpdate:visible":t[5]||(t[5]=function(t){return e.latexEditorVisible=t}),footer:null,centered:"",width:880,destroyOnClose:""},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(f,{value:e.handleElement.latex,onClose:t[3]||(t[3]=function(t){return e.latexEditorVisible=!1}),onUpdate:t[4]||(t[4]=function(t){e.updateLatexData(t),e.latexEditorVisible=!1})},null,8,["value"])]})),_:1},8,["visible"])])}var bv=Object(j["defineComponent"])({name:"latex-style-panel",components:{ColorButton:np,LaTeXEditor:Ps},setup:function(){var e=Q(),t=Object(g["c"])($()),n=t.handleElement,o=Object(j["ref"])(!1),l=Pe(),a=l.addHistorySnapshot,c=function(t){n.value&&(e.updateElement({id:n.value.id,props:t}),a())},r=function(e){c({path:e.path,latex:e.latex,width:e.w,height:e.h,viewBox:[e.w,e.h]})},i=function(){return o.value=!0};return $l.on(pl.OPEN_LATEX_EDITOR,i),Object(j["onUnmounted"])((function(){$l.off(pl.OPEN_LATEX_EDITOR,i)})),{handleElement:n,latexEditorVisible:o,updateLatex:c,updateLatexData:r}}});n("e5a8");const vv=Bn()(bv,[["render",mv],["__scopeId","data-v-69f903b1"]]);var hv=vv,Ov=function(e){return Object(j["pushScopeId"])("data-v-61bcaa2a"),e=e(),Object(j["popScopeId"])(),e},jv={class:"video-style-panel"},gv=Ov((function(){return Object(j["createElementVNode"])("div",{class:"title"},"视频预览封面",-1)})),yv={class:"background-image-wrapper"},xv={class:"background-image"},Cv={class:"row"},kv=Object(j["createTextVNode"])("重置封面");function wv(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("IconPlus"),r=Object(j["resolveComponent"])("FileInput"),i=Object(j["resolveComponent"])("Button");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",jv,[gv,Object(j["createElementVNode"])("div",yv,[Object(j["createVNode"])(r,{onChange:t[0]||(t[0]=function(t){return e.setVideoPoster(t)})},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",xv,[Object(j["createElementVNode"])("div",{class:"content",style:Object(j["normalizeStyle"])({backgroundImage:"url(".concat(e.handleElement.poster,")")})},[Object(j["createVNode"])(c)],4)])]})),_:1})]),Object(j["createElementVNode"])("div",Cv,[Object(j["createVNode"])(i,{style:{flex:"1"},onClick:t[1]||(t[1]=function(t){return e.updateVideo({poster:""})})},{default:Object(j["withCtx"])((function(){return[kv]})),_:1})])])}var Ev=Object(j["defineComponent"])({name:"video-style-panel",setup:function(){var e=Q(),t=Object(g["c"])($()),n=t.handleElement,o=Pe(),l=o.addHistorySnapshot,a=function(t){n.value&&(e.updateElement({id:n.value.id,props:t}),l())},c=function(e){var t=e[0];t&&qe(t).then((function(e){return a({poster:e})}))};return{handleElement:n,updateVideo:a,setVideoPoster:c}}});n("c43a");const Nv=Bn()(Ev,[["render",wv],["__scopeId","data-v-61bcaa2a"]]);var Iv=Nv,Vv=Object(j["defineComponent"])({name:"element-style-panel",setup:function(){var e=Object(g["c"])($()),t=e.handleElement,n=Object(j["computed"])((function(){var e;if(!t.value)return null;var n=(e={},Object(ae["a"])(e,po.TEXT,Np),Object(ae["a"])(e,po.IMAGE,nm),Object(ae["a"])(e,po.SHAPE,ym),Object(ae["a"])(e,po.LINE,Xm),Object(ae["a"])(e,po.CHART,zb),Object(ae["a"])(e,po.TABLE,av),Object(ae["a"])(e,po.LATEX,hv),Object(ae["a"])(e,po.VIDEO,Iv),e);return n[t.value.type]||null}));return{handleElement:t,currentPanelComponent:n}}});const Sv=Bn()(Vv,[["render",yf]]);var Lv=Sv,Bv=function(e){return Object(j["pushScopeId"])("data-v-19d2abb4"),e=e(),Object(j["popScopeId"])(),e},Tv={class:"element-positopn-panel"},Mv=Bv((function(){return Object(j["createElementVNode"])("div",{class:"title"},"层级：",-1)})),_v=Object(j["createTextVNode"])(" 置于顶层"),Dv=Object(j["createTextVNode"])(" 置于底层"),zv=Object(j["createTextVNode"])(" 上移一层"),Av=Object(j["createTextVNode"])(" 下移一层"),Rv=Bv((function(){return Object(j["createElementVNode"])("div",{class:"title"},"对齐：",-1)})),Fv={class:"row"},Pv=Bv((function(){return Object(j["createElementVNode"])("div",{style:{flex:"3"}},"位置：",-1)})),Hv=Bv((function(){return Object(j["createElementVNode"])("div",{style:{flex:"1"}},null,-1)})),qv=Object(j["createStaticVNode"])('<div class="row" data-v-19d2abb4><div style="flex:3;" data-v-19d2abb4></div><div style="flex:4;" class="label" data-v-19d2abb4>X</div><div style="flex:1;" data-v-19d2abb4></div><div style="flex:4;" class="label" data-v-19d2abb4>Y</div></div>',1),Wv={class:"row"},Xv=Bv((function(){return Object(j["createElementVNode"])("div",{style:{flex:"3"}},"大小：",-1)})),Gv={key:1,style:{flex:"1"}},Uv=Object(j["createStaticVNode"])('<div class="row" data-v-19d2abb4><div style="flex:3;" data-v-19d2abb4></div><div style="flex:4;" class="label" data-v-19d2abb4>宽</div><div style="flex:1;" data-v-19d2abb4></div><div style="flex:4;" class="label" data-v-19d2abb4>高</div></div>',1),Yv={class:"row"},Zv=Bv((function(){return Object(j["createElementVNode"])("div",{style:{flex:"3"}},"旋转：",-1)})),Jv=Bv((function(){return Object(j["createElementVNode"])("div",{style:{flex:"1"}},null,-1)}));function Kv(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("IconSendToBack"),r=Object(j["resolveComponent"])("Button"),i=Object(j["resolveComponent"])("IconBringToFrontOne"),u=Object(j["resolveComponent"])("ButtonGroup"),s=Object(j["resolveComponent"])("IconBringToFront"),d=Object(j["resolveComponent"])("IconSentToBack"),f=Object(j["resolveComponent"])("Divider"),p=Object(j["resolveComponent"])("IconAlignLeft"),m=Object(j["resolveComponent"])("Tooltip"),b=Object(j["resolveComponent"])("IconAlignVertically"),v=Object(j["resolveComponent"])("IconAlignRight"),h=Object(j["resolveComponent"])("IconAlignTop"),O=Object(j["resolveComponent"])("IconAlignHorizontally"),g=Object(j["resolveComponent"])("IconAlignBottom"),y=Object(j["resolveComponent"])("InputNumber"),x=Object(j["resolveComponent"])("IconLock"),C=Object(j["resolveComponent"])("IconUnlock"),k=Object(j["resolveComponent"])("IconRotate");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Tv,[Mv,Object(j["createVNode"])(u,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[0]||(t[0]=function(t){return e.orderElement(e.handleElement,"top")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(c,{class:"btn-icon"}),_v]})),_:1}),Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[1]||(t[1]=function(t){return e.orderElement(e.handleElement,"bottom")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{class:"btn-icon"}),Dv]})),_:1})]})),_:1}),Object(j["createVNode"])(u,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[2]||(t[2]=function(t){return e.orderElement(e.handleElement,"up")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(s,{class:"btn-icon"}),zv]})),_:1}),Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[3]||(t[3]=function(t){return e.orderElement(e.handleElement,"down")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(d,{class:"btn-icon"}),Av]})),_:1})]})),_:1}),Object(j["createVNode"])(f),Rv,Object(j["createVNode"])(u,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(m,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"左对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[4]||(t[4]=function(t){return e.alignElementToCanvas("left")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(p)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(m,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"水平居中"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[5]||(t[5]=function(t){return e.alignElementToCanvas("horizontal")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(b)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(m,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"右对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[6]||(t[6]=function(t){return e.alignElementToCanvas("right")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(v)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1}),Object(j["createVNode"])(u,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(m,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"上对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[7]||(t[7]=function(t){return e.alignElementToCanvas("top")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(h)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(m,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"垂直居中"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[8]||(t[8]=function(t){return e.alignElementToCanvas("vertical")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(O)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(m,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"下对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[9]||(t[9]=function(t){return e.alignElementToCanvas("bottom")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(g)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1}),Object(j["createVNode"])(f),Object(j["createElementVNode"])("div",Fv,[Pv,Object(j["createVNode"])(y,{step:5,value:e.left,onChange:t[10]||(t[10]=function(t){return e.updateLeft(t)}),style:{flex:"4"}},null,8,["value"]),Hv,Object(j["createVNode"])(y,{step:5,value:e.top,onChange:t[11]||(t[11]=function(t){return e.updateTop(t)}),style:{flex:"4"}},null,8,["value"])]),qv,"line"!==e.handleElement.type?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:0},[Object(j["createElementVNode"])("div",Wv,[Xv,Object(j["createVNode"])(y,{min:e.minSize,max:1500,step:5,value:e.width,onChange:t[12]||(t[12]=function(t){return e.updateWidth(t)}),style:{flex:"4"}},null,8,["min","value"]),["image","shape"].includes(e.handleElement.type)?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:0},[e.fixedRatio?(Object(j["openBlock"])(),Object(j["createBlock"])(m,{key:0,mouseLeaveDelay:0,mouseEnterDelay:.5,title:"解除宽高比锁定"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(x,{style:{flex:"1"},class:"icon-btn",onClick:t[13]||(t[13]=function(t){return e.updateFixedRatio(!1)})})]})),_:1},8,["mouseEnterDelay"])):(Object(j["openBlock"])(),Object(j["createBlock"])(m,{key:1,mouseLeaveDelay:0,mouseEnterDelay:.5,title:"宽高比锁定"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(C,{style:{flex:"1"},class:"icon-btn",onClick:t[14]||(t[14]=function(t){return e.updateFixedRatio(!0)})})]})),_:1},8,["mouseEnterDelay"]))],64)):(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Gv)),Object(j["createVNode"])(y,{min:e.minSize,max:800,step:5,disabled:"text"===e.handleElement.type,value:e.height,onChange:t[15]||(t[15]=function(t){return e.updateHeight(t)}),style:{flex:"4"}},null,8,["min","disabled","value"])]),Uv],64)):Object(j["createCommentVNode"])("",!0),"line"!==e.handleElement.type?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:1},[Object(j["createVNode"])(f),Object(j["createElementVNode"])("div",Yv,[Zv,Object(j["createVNode"])(m,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"逆时针旋转"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(k,{class:"icon-btn",onClick:t[16]||(t[16]=function(t){return e.updateRotate45("-")}),style:{flex:"2"}})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(m,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"顺时针旋转"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(k,{class:"icon-btn",onClick:t[17]||(t[17]=function(t){return e.updateRotate45("+")}),style:Object(j["normalizeStyle"])({flex:2,transform:"rotateY(180deg)"})},null,8,["style"])]})),_:1},8,["mouseEnterDelay"]),Jv,Object(j["createVNode"])(y,{min:-180,max:180,step:5,value:e.rotate,onChange:t[18]||(t[18]=function(t){return e.updateRotate(t)}),style:{flex:"4"}},null,8,["value"])])],64)):Object(j["createCommentVNode"])("",!0)])}var Qv=Object(j["defineComponent"])({name:"element-positopn-panel",setup:function(){var e=Q(),t=Object(g["c"])($()),n=t.handleElement,o=t.handleElementId,l=Object(j["ref"])(0),a=Object(j["ref"])(0),c=Object(j["ref"])(0),r=Object(j["ref"])(0),i=Object(j["ref"])(0),u=Object(j["ref"])(!1),s=Object(j["computed"])((function(){return n.value&&no[n.value.type]||20}));Object(j["watch"])(n,(function(){n.value&&(l.value=Object(Y["round"])(n.value.left,1),a.value=Object(Y["round"])(n.value.top,1),u.value="fixedRatio"in n.value&&!!n.value.fixedRatio,"line"!==n.value.type&&(c.value=Object(Y["round"])(n.value.width,1),r.value=Object(Y["round"])(n.value.height,1),i.value="rotate"in n.value&&void 0!==n.value.rotate?Object(Y["round"])(n.value.rotate,1):0))}),{deep:!0,immediate:!0});var d=et(),f=d.orderElement,p=mo(),m=p.alignElementToCanvas,b=Pe(),v=b.addHistorySnapshot,h=function(t){var n={left:t};e.updateElement({id:o.value,props:n}),v()},O=function(t){var n={top:t};e.updateElement({id:o.value,props:n}),v()},y=function(t){var n={width:t};e.updateElement({id:o.value,props:n}),v()},x=function(t){var n={height:t};e.updateElement({id:o.value,props:n}),v()},C=function(t){var n={rotate:t};e.updateElement({id:o.value,props:n}),v()},k=function(t){var n={fixedRatio:t};e.updateElement({id:o.value,props:n}),v()},w=function(t){var n=45*Math.floor(i.value/45);"+"===t?n+=45:"-"===t&&(n-=45),n<-180&&(n=-180),n>180&&(n=180);var l={rotate:n};e.updateElement({id:o.value,props:l}),v()};return{handleElement:n,orderElement:f,alignElementToCanvas:m,left:l,top:a,width:c,height:r,rotate:i,fixedRatio:u,minSize:s,updateLeft:h,updateTop:O,updateWidth:y,updateHeight:x,updateRotate:C,updateFixedRatio:k,updateRotate45:w}}});n("b34b");const $v=Bn()(Qv,[["render",Kv],["__scopeId","data-v-19d2abb4"]]);var eh=$v,th=function(e){return Object(j["pushScopeId"])("data-v-0dc566e5"),e=e(),Object(j["popScopeId"])(),e},nh={class:"element-animation-panel"},oh={key:0,class:"element-animation"},lh={class:"animation-pool"},ah={class:"type-title"},ch={class:"pool-item-wrapper"},rh=["onMouseenter","onClick"],ih={key:0,class:"mask"},uh=Object(j["createTextVNode"])(" 该元素暂不支持动画 "),sh={key:2,class:"duration"},dh=th((function(){return Object(j["createElementVNode"])("div",{style:{flex:"4"}},"持续时间（毫秒）：",-1)})),fh={key:1,class:"tip"},ph=Object(j["createTextVNode"])(" 选中画布中的元素添加动画"),mh={class:"index"},bh={class:"text"},vh={class:"handler"};function hh(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("IconEffects"),r=Object(j["resolveComponent"])("Button"),i=Object(j["resolveComponent"])("Popover"),u=Object(j["resolveComponent"])("InputNumber"),s=Object(j["resolveComponent"])("IconClick"),d=Object(j["resolveComponent"])("Divider"),f=Object(j["resolveComponent"])("IconPlayOne"),p=Object(j["resolveComponent"])("Tooltip"),m=Object(j["resolveComponent"])("IconCloseSmall"),b=Object(j["resolveComponent"])("Draggable");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",nh,[e.handleElement?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",oh,[["chart","video"].includes(e.handleElement.type)?(Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:1,class:"element-animation-btn",disabled:""},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(c,{style:{"margin-right":"5px"}}),uh]})),_:1})):(Object(j["openBlock"])(),Object(j["createBlock"])(i,{key:0,trigger:"click",visible:e.animationPoolVisible,"onUpdate:visible":t[1]||(t[1]=function(t){return e.animationPoolVisible=t}),onVisibleChange:t[2]||(t[2]=function(t){return e.handlePopoverVisibleChange(t)})},{content:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",lh,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.animations,(function(n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"pool-type",key:n.name},[Object(j["createElementVNode"])("div",ah,Object(j["toDisplayString"])(n.name)+"：",1),Object(j["createElementVNode"])("div",ch,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(n.children,(function(n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"pool-item",key:n.name,onMouseenter:function(t){return e.hoverPreviewAnimation=n.value},onMouseleave:t[0]||(t[0]=function(t){return e.hoverPreviewAnimation=""}),onClick:function(t){return e.addAnimation(n.value)}},[Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["animation-box",["animate__animated","animate__faster",e.hoverPreviewAnimation===n.value&&"animate__".concat(n.value)]])},Object(j["toDisplayString"])(n.name),3)],40,rh)})),128))])])})),128)),e.popoverMaskHide?Object(j["createCommentVNode"])("",!0):(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",ih))])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{class:"element-animation-btn"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(c,{style:{"margin-right":"5px"}}),Object(j["createTextVNode"])(" "+Object(j["toDisplayString"])(e.handleElementAnimationName||"点击选择动画"),1)]})),_:1})]})),_:1},8,["visible"])),e.handleElementAnimation?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",sh,[dh,Object(j["createVNode"])(u,{min:100,max:5e3,step:100,value:e.handleElementAnimation.duration,onChange:t[3]||(t[3]=function(t){return e.updateElementAnimationDuration(t)}),style:{flex:"3"}},null,8,["value"])])):Object(j["createCommentVNode"])("",!0)])):(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",fh,[Object(j["createVNode"])(s),ph])),Object(j["createVNode"])(d),Object(j["createVNode"])(b,{class:"animation-sequence",modelValue:e.animationSequence,animation:300,scroll:!0,scrollSensitivity:50,onEnd:e.handleDragEnd,itemKey:"id"},{item:Object(j["withCtx"])((function(t){var n,o=t.element,l=t.index;return[Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["sequence-item",{active:(null===(n=e.handleElement)||void 0===n?void 0:n.id)===o.elId}])},[Object(j["createElementVNode"])("div",mh,Object(j["toDisplayString"])(l+1),1),Object(j["createElementVNode"])("div",bh,"【"+Object(j["toDisplayString"])(o.elType)+"】"+Object(j["toDisplayString"])(o.animationType),1),Object(j["createElementVNode"])("div",vh,[Object(j["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"预览"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(f,{class:"handler-btn",onClick:function(t){return e.runAnimation(o.elId,o.type,o.duration)}},null,8,["onClick"])]})),_:2},1032,["mouseEnterDelay"]),Object(j["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"删除"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(m,{class:"handler-btn",onClick:function(t){return e.deleteAnimation(o.elId)}},null,8,["onClick"])]})),_:2},1032,["mouseEnterDelay"])])],2)]})),_:1},8,["modelValue","onEnd"])])}var Oh,jh=[{type:"bounce",name:"弹跳",children:[{name:"弹入",value:"bounceIn"},{name:"向右弹入",value:"bounceInLeft"},{name:"向左弹入",value:"bounceInRight"},{name:"向上弹入",value:"bounceInUp"},{name:"向下弹入",value:"bounceInDown"}]},{type:"fade",name:"浮现",children:[{name:"浮入",value:"fadeIn"},{name:"向下浮入",value:"fadeInDown"},{name:"向下长距浮入",value:"fadeInDownBig"},{name:"向右浮入",value:"fadeInLeft"},{name:"向右长距浮入",value:"fadeInLeftBig"},{name:"向左浮入",value:"fadeInRight"},{name:"向左长距浮入",value:"fadeInRightBig"},{name:"向上浮入",value:"fadeInUp"},{name:"向上长距浮入",value:"fadeInUpBig"},{name:"从左上浮入",value:"fadeInTopLeft"},{name:"从右上浮入",value:"fadeInTopRight"},{name:"从左下浮入",value:"fadeInBottomLeft"},{name:"从右下浮入",value:"fadeInBottomRight"}]},{type:"rotate",name:"旋转",children:[{name:"旋转进入",value:"rotateIn"},{name:"绕左下旋转进入",value:"rotateInDownLeft"},{name:"绕右下旋转进入",value:"rotateInDownRight"},{name:"绕左上旋转进入",value:"rotateInUpLeft"},{name:"绕右上旋转进入",value:"rotateInUpRight"}]},{type:"zoom",name:"缩放",children:[{name:"放大进入",value:"zoomIn"},{name:"向下放大进入",value:"zoomInDown"},{name:"从左放大进入",value:"zoomInLeft"},{name:"从右放大进入",value:"zoomInRight"},{name:"向上放大进入",value:"zoomInUp"}]},{type:"slide",name:"滑入",children:[{name:"向下滑入",value:"slideInDown"},{name:"从右滑入",value:"slideInLeft"},{name:"从左滑入",value:"slideInRight"},{name:"向上滑入",value:"slideInUp"}]},{type:"flip",name:"翻转",children:[{name:"X轴翻转进入",value:"flipInX"},{name:"Y轴翻转进入",value:"flipInY"}]},{type:"back",name:"放大滑入",children:[{name:"向下放大滑入",value:"backInDown"},{name:"从左放大滑入",value:"backInLeft"},{name:"从右放大滑入",value:"backInRight"},{name:"向上放大滑入",value:"backInUp"}]},{type:"lightSpeed",name:"飞入",children:[{name:"从右飞入",value:"lightSpeedInRight"},{name:"从左飞入",value:"lightSpeedInLeft"}]}],gh=1e3,yh={},xh=Object(L["a"])(jh);try{for(xh.s();!(Oh=xh.n()).done;){var Ch,kh=Oh.value,wh=Object(L["a"])(kh.children);try{for(wh.s();!(Ch=wh.n()).done;){var Eh=Ch.value;yh[Eh.value]=Eh.name}}catch(ZC){wh.e(ZC)}finally{wh.f()}}}catch(ZC){xh.e(ZC)}finally{xh.f()}var Nh=Object(j["defineComponent"])({name:"element-animation-panel",components:{Draggable:Qs.a},setup:function(){var e=Q(),t=Object(g["c"])($()),n=t.handleElement,o=t.handleElementId,l=Object(g["c"])(e),a=l.currentSlide,c=l.currentSlideAnimations,r=Object(j["ref"])(""),i=Object(j["ref"])(!1),u=Pe(),s=u.addHistorySnapshot,d=jh,f=Object(j["computed"])((function(){if(!c.value)return[];var e,t=[],n=Object(L["a"])(c.value);try{var o=function(){var n=e.value,o=a.value.elements.find((function(e){return e.id===n.elId}));if(!o)return"continue";var l=to[o.type],c=yh[n.type];t.push(Object(S["a"])(Object(S["a"])({},n),{},{elType:l,animationType:c}))};for(n.s();!(e=n.n()).done;)o()}catch(ZC){n.e(ZC)}finally{n.f()}return t})),p=Object(j["computed"])((function(){var e=c.value||[],t=e.find((function(e){return e.elId===o.value}));return t||null})),m=Object(j["computed"])((function(){return p.value?yh[p.value.type]:null})),b=function(t){var n=c.value.filter((function(e){return e.elId!==t}));e.updateSlide({animations:n}),s()},v=function(t){var n=t.newIndex,o=t.oldIndex;if(o!==n){var l=JSON.parse(JSON.stringify(c.value)),a=l[o];l.splice(o,1),l.splice(n,0,a),e.updateSlide({animations:l}),s()}},h=function(e,t,n){var o="animate__",l=document.querySelector("#editable-element-".concat(e," [class^=editable-element-]"));if(l){var a="".concat(o).concat(t);document.documentElement.style.setProperty("--animate-duration","".concat(n,"ms")),l.classList.add("".concat(o,"animated"),a);var c=function(){document.documentElement.style.removeProperty("--animate-duration"),l.classList.remove("".concat(o,"animated"),a)};l.addEventListener("animationend",c,{once:!0})}},O=function(t){if(c.value){var n=c.value.map((function(e){return e.elId===o.value?Object(S["a"])(Object(S["a"])({},e),{},{type:t}):e}));e.updateSlide({animations:n}),i.value=!1,s();var l=c.value.find((function(e){return e.elId===o.value})),a=(null===l||void 0===l?void 0:l.duration)||gh;h(o.value,t,a)}},y=function(t){if(c.value&&!(t<100||t>5e3)){var n=c.value.map((function(e){return e.elId===o.value?Object(S["a"])(Object(S["a"])({},e),{},{duration:t}):e}));e.updateSlide({animations:n}),s()}},x=function(t){if(m.value)O(t);else{var n=c.value?JSON.parse(JSON.stringify(c.value)):[];n.push({elId:o.value,type:t,duration:gh}),e.updateSlide({animations:n}),i.value=!1,s(),h(o.value,t,gh)}},C=Object(j["ref"])(!1),k=function(e){e?setTimeout((function(){return C.value=!0}),500):C.value=!1};return{handleElement:n,animationPoolVisible:i,animations:d,animationSequence:f,hoverPreviewAnimation:r,handleElementAnimation:p,handleElementAnimationName:m,popoverMaskHide:C,addAnimation:x,deleteAnimation:b,handleDragEnd:v,runAnimation:h,updateElementAnimationDuration:y,handlePopoverVisibleChange:k}}});n("fbf7");const Ih=Bn()(Nh,[["render",hh],["__scopeId","data-v-0dc566e5"]]);var Vh=Ih,Sh=function(e){return Object(j["pushScopeId"])("data-v-a48d7852"),e=e(),Object(j["popScopeId"])(),e},Lh={class:"slide-design-panel"},Bh=Sh((function(){return Object(j["createElementVNode"])("div",{class:"title"},"背景填充",-1)})),Th={class:"row"},Mh=Object(j["createTextVNode"])("纯色填充"),_h=Object(j["createTextVNode"])("图片填充"),Dh=Object(j["createTextVNode"])("渐变填充"),zh=Sh((function(){return Object(j["createElementVNode"])("div",{style:{flex:"1"}},null,-1)})),Ah=Object(j["createTextVNode"])("缩放"),Rh=Object(j["createTextVNode"])("拼贴"),Fh=Object(j["createTextVNode"])("缩放铺满"),Ph=Object(j["createTextVNode"])("线性渐变"),Hh=Object(j["createTextVNode"])("径向渐变"),qh={key:0,class:"background-image-wrapper"},Wh={class:"background-image"},Xh={key:1,class:"background-gradient-wrapper"},Gh={class:"row"},Uh=Sh((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"起点颜色：",-1)})),Yh={class:"row"},Zh=Sh((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"终点颜色：",-1)})),Jh={key:0,class:"row"},Kh=Sh((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"渐变角度：",-1)})),Qh={class:"row"},$h=Object(j["createTextVNode"])("应用背景到全部"),eO={class:"row"},tO=Sh((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"画布尺寸：",-1)})),nO=Object(j["createTextVNode"])("宽屏 16 : 9"),oO=Object(j["createTextVNode"])("宽屏 16 ：10"),lO=Object(j["createTextVNode"])("标准 4 ：3"),aO=Sh((function(){return Object(j["createElementVNode"])("div",{class:"title"},"全局主题",-1)})),cO={class:"row"},rO=Sh((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"字体：",-1)})),iO={class:"row"},uO=Sh((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"字体颜色：",-1)})),sO={class:"row"},dO=Sh((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"背景颜色：",-1)})),fO={class:"row"},pO=Sh((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"主题色：",-1)})),mO=Object(j["createTextVNode"])(" 预置主题 "),bO={key:2,class:"theme-list"},vO=["onClick"],hO={class:"theme-item-content"},OO={class:"row"},jO=Object(j["createTextVNode"])("应用主题到全部");function gO(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("SelectOption"),r=Object(j["resolveComponent"])("Select"),i=Object(j["resolveComponent"])("ColorPicker"),u=Object(j["resolveComponent"])("ColorButton"),s=Object(j["resolveComponent"])("Popover"),d=Object(j["resolveComponent"])("IconPlus"),f=Object(j["resolveComponent"])("FileInput"),p=Object(j["resolveComponent"])("Slider"),m=Object(j["resolveComponent"])("Button"),b=Object(j["resolveComponent"])("Divider"),v=Object(j["resolveComponent"])("SelectOptGroup"),h=Object(j["resolveComponent"])("IconDown");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Lh,[Bh,Object(j["createElementVNode"])("div",Th,[Object(j["createVNode"])(r,{style:{flex:"10"},value:e.background.type,onChange:t[0]||(t[0]=function(t){return e.updateBackgroundType(t)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(c,{value:"solid"},{default:Object(j["withCtx"])((function(){return[Mh]})),_:1}),Object(j["createVNode"])(c,{value:"image"},{default:Object(j["withCtx"])((function(){return[_h]})),_:1}),Object(j["createVNode"])(c,{value:"gradient"},{default:Object(j["withCtx"])((function(){return[Dh]})),_:1})]})),_:1},8,["value"]),zh,"solid"===e.background.type?(Object(j["openBlock"])(),Object(j["createBlock"])(s,{key:0,trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{modelValue:e.background.color,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.updateBackground({color:t})})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,{color:e.background.color||"#fff",style:{flex:"10"}},null,8,["color"])]})),_:1})):"image"===e.background.type?(Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:1,style:{flex:"10"},value:e.background.imageSize||"cover",onChange:t[2]||(t[2]=function(t){return e.updateBackground({imageSize:t})})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(c,{value:"contain"},{default:Object(j["withCtx"])((function(){return[Ah]})),_:1}),Object(j["createVNode"])(c,{value:"repeat"},{default:Object(j["withCtx"])((function(){return[Rh]})),_:1}),Object(j["createVNode"])(c,{value:"cover"},{default:Object(j["withCtx"])((function(){return[Fh]})),_:1})]})),_:1},8,["value"])):(Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:2,style:{flex:"10"},value:e.background.gradientType,onChange:t[3]||(t[3]=function(t){return e.updateBackground({gradientType:t})})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(c,{value:"linear"},{default:Object(j["withCtx"])((function(){return[Ph]})),_:1}),Object(j["createVNode"])(c,{value:"radial"},{default:Object(j["withCtx"])((function(){return[Hh]})),_:1})]})),_:1},8,["value"]))]),"image"===e.background.type?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",qh,[Object(j["createVNode"])(f,{onChange:t[4]||(t[4]=function(t){return e.uploadBackgroundImage(t)})},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",Wh,[Object(j["createElementVNode"])("div",{class:"content",style:Object(j["normalizeStyle"])({backgroundImage:"url(".concat(e.background.image,")")})},[Object(j["createVNode"])(d)],4)])]})),_:1})])):Object(j["createCommentVNode"])("",!0),"gradient"===e.background.type?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Xh,[Object(j["createElementVNode"])("div",Gh,[Uh,Object(j["createVNode"])(s,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{modelValue:e.background.gradientColor[0],"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.updateBackground({gradientColor:[t,e.background.gradientColor[1]]})})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,{color:e.background.gradientColor[0],style:{flex:"3"}},null,8,["color"])]})),_:1})]),Object(j["createElementVNode"])("div",Yh,[Zh,Object(j["createVNode"])(s,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{modelValue:e.background.gradientColor[1],"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.updateBackground({gradientColor:[e.background.gradientColor[0],t]})})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,{color:e.background.gradientColor[1],style:{flex:"3"}},null,8,["color"])]})),_:1})]),"linear"===e.background.gradientType?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Jh,[Kh,Object(j["createVNode"])(p,{class:"slider",min:0,max:360,step:15,value:e.background.gradientRotate,onChange:t[7]||(t[7]=function(t){return e.updateBackground({gradientRotate:t})})},null,8,["value"])])):Object(j["createCommentVNode"])("",!0)])):Object(j["createCommentVNode"])("",!0),Object(j["createElementVNode"])("div",Qh,[Object(j["createVNode"])(m,{style:{flex:"1"},onClick:t[8]||(t[8]=function(t){return e.applyBackgroundAllSlide()})},{default:Object(j["withCtx"])((function(){return[$h]})),_:1})]),Object(j["createVNode"])(b),Object(j["createElementVNode"])("div",eO,[tO,Object(j["createVNode"])(r,{style:{flex:"3"},value:e.viewportRatio,onChange:t[9]||(t[9]=function(t){return e.updateViewportRatio(t)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(c,{value:.5625},{default:Object(j["withCtx"])((function(){return[nO]})),_:1},8,["value"]),Object(j["createVNode"])(c,{value:.625},{default:Object(j["withCtx"])((function(){return[oO]})),_:1},8,["value"]),Object(j["createVNode"])(c,{value:.75},{default:Object(j["withCtx"])((function(){return[lO]})),_:1},8,["value"])]})),_:1},8,["value"])]),Object(j["createVNode"])(b),aO,Object(j["createElementVNode"])("div",cO,[rO,Object(j["createVNode"])(r,{style:{flex:"3"},value:e.theme.fontName,onChange:t[10]||(t[10]=function(t){return e.updateTheme({fontName:t})})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(v,{label:"系统字体"},{default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.availableFonts,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(c,{key:e.value,value:e.value},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("span",{style:Object(j["normalizeStyle"])({fontFamily:e.value})},Object(j["toDisplayString"])(e.label),5)]})),_:2},1032,["value"])})),128))]})),_:1}),Object(j["createVNode"])(v,{label:"在线字体"},{default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.webFonts,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(c,{key:e.value,value:e.value},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("span",null,Object(j["toDisplayString"])(e.label),1)]})),_:2},1032,["value"])})),128))]})),_:1})]})),_:1},8,["value"])]),Object(j["createElementVNode"])("div",iO,[uO,Object(j["createVNode"])(s,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{modelValue:e.theme.fontColor,"onUpdate:modelValue":t[11]||(t[11]=function(t){return e.updateTheme({fontColor:t})})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,{color:e.theme.fontColor,style:{flex:"3"}},null,8,["color"])]})),_:1})]),Object(j["createElementVNode"])("div",sO,[dO,Object(j["createVNode"])(s,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{modelValue:e.theme.backgroundColor,"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.updateTheme({backgroundColor:t})})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,{color:e.theme.backgroundColor,style:{flex:"3"}},null,8,["color"])]})),_:1})]),Object(j["createElementVNode"])("div",fO,[pO,Object(j["createVNode"])(s,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{modelValue:e.theme.themeColor,"onUpdate:modelValue":t[13]||(t[13]=function(t){return e.updateTheme({themeColor:t})})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,{color:e.theme.themeColor,style:{flex:"3"}},null,8,["color"])]})),_:1})]),Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["title dropdown",{active:e.showPresetThemes}]),onClick:t[14]||(t[14]=function(t){return e.togglePresetThemesVisible()}),style:{"margin-top":"20px"}},[mO,Object(j["createVNode"])(h,{class:"icon"})],2),e.showPresetThemes?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",bO,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.themes,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"theme-item",key:n,style:Object(j["normalizeStyle"])({backgroundColor:t.background}),onClick:function(n){return e.updateTheme({fontColor:t.text,backgroundColor:t.background,themeColor:t.color})}},[Object(j["createElementVNode"])("div",hO,[Object(j["createElementVNode"])("div",{class:"text",style:Object(j["normalizeStyle"])({color:t.text})},"Aa",4),Object(j["createElementVNode"])("div",{class:"color-block",style:Object(j["normalizeStyle"])({backgroundColor:t.color})},null,4)])],12,vO)})),128))])):Object(j["createCommentVNode"])("",!0),Object(j["createElementVNode"])("div",OO,[Object(j["createVNode"])(m,{style:{flex:"1"},onClick:t[15]||(t[15]=function(t){return e.applyThemeAllSlide()})},{default:Object(j["withCtx"])((function(){return[jO]})),_:1})])])}var yO=[{color:"#d14424",background:"#ffffff",text:"#333"},{color:"#42464b",background:"#ffffff",text:"#333"},{color:"#5d82ba",background:"#ffffff",text:"#333"},{color:"#005a6f",background:"#ffffff",text:"#333"},{color:"#d0614c",background:"#dfb044",text:"#333"},{color:"#86a1ad",background:"#dfdbd4",text:"#333"},{color:"#697586",background:"#d5c4a4",text:"#333"},{color:"#333333",background:"#7acfa6",text:"#333"},{color:"#42464b",background:"#415065",text:"#fff"},{color:"#0c5999",background:"#35a2cd",text:"#fff"},{color:"#c49a41",background:"#8c4357",text:"#fff"},{color:"#dfaa00",background:"#2e4e7d",text:"#fff"},{color:"#d1ad88",background:"#f99070",text:"#fff"},{color:"#464d52",background:"#657984",text:"#fff"},{color:"#ffcfb6",background:"#1e4c6f",text:"#fff"},{color:"#c3a043",background:"#43292a",text:"#fff"},{color:"#464d52",background:"#60546f",text:"#fff"},{color:"#df9636",background:"#5b89a0",text:"#fff"},{color:"#b898a4",background:"#93716b",text:"#fff"},{color:"#c47a11",background:"#187db1",text:"#fff"},{color:"#333333",background:"#759564",text:"#fff"},{color:"#355b5e",background:"#424b50",text:"#fff"},{color:"#d29090",background:"#942a32",text:"#fff"},{color:"#00cfdf",background:"#3b434d",text:"#fff"},{color:"#424246",background:"#c70042",text:"#fff"},{color:"#2e4155",background:"#b35d44",text:"#fff"},{color:"#11bfce",background:"#8f98aa",text:"#fff"},{color:"#333333",background:"#549688",text:"#fff"}],xO=yO,CO=V,kO=Object(j["defineComponent"])({name:"slide-design-panel",components:{ColorButton:np},setup:function(){var e=Q(),t=Object(g["c"])($()),n=t.availableFonts,o=Object(g["c"])(e),l=o.slides,a=o.currentSlide,c=o.viewportRatio,r=o.theme,i=Object(j["computed"])((function(){return a.value.background?a.value.background:{type:"solid",value:"#fff"}})),u=Pe(),s=u.addHistorySnapshot,d=function(t){if("solid"===t){var n=Object(S["a"])(Object(S["a"])({},i.value),{},{type:"solid",color:i.value.color||"#fff"});e.updateSlide({background:n})}else if("image"===t){var o=Object(S["a"])(Object(S["a"])({},i.value),{},{type:"image",image:i.value.image||"",imageSize:i.value.imageSize||"cover"});e.updateSlide({background:o})}else{var l=Object(S["a"])(Object(S["a"])({},i.value),{},{type:"gradient",gradientType:i.value.gradientType||"linear",gradientColor:i.value.gradientColor||["#fff","#fff"],gradientRotate:i.value.gradientRotate||0});e.updateSlide({background:l})}s()},f=function(t){e.updateSlide({background:Object(S["a"])(Object(S["a"])({},i.value),t)}),s()},p=function(e){var t=e[0];t&&qe(t).then((function(e){return f({image:e})}))},m=function(){var t=l.value.map((function(e){return Object(S["a"])(Object(S["a"])({},e),{},{background:a.value.background})}));e.setSlides(t),s()},b=function(t){e.setTheme(t)},v=function(){var t,n=JSON.parse(JSON.stringify(l.value)),o=r.value,a=o.themeColor,c=o.backgroundColor,i=o.fontColor,u=o.fontName,d=Object(L["a"])(n);try{for(d.s();!(t=d.n()).done;){var f=t.value;f.background&&"image"===f.background.type||(f.background=Object(S["a"])(Object(S["a"])({},f.background),{},{type:"solid",color:c}));var p,m=f.elements,b=Object(L["a"])(m);try{for(b.s();!(p=b.n()).done;){var v=p.value;if("shape"===v.type)v.fill=a;else if("line"===v.type)v.color=a;else if("text"===v.type)v.defaultColor=i,v.defaultFontName=u,v.fill&&(v.fill=a);else if("table"===v.type){v.theme&&(v.theme.color=a);var h,O=Object(L["a"])(v.data);try{for(O.s();!(h=O.n()).done;){var j,g=h.value,y=Object(L["a"])(g);try{for(y.s();!(j=y.n()).done;){var x=j.value;x.style&&(x.style.color=i,x.style.fontname=u)}}catch(ZC){y.e(ZC)}finally{y.f()}}}catch(ZC){O.e(ZC)}finally{O.f()}}else"chart"===v.type?(v.themeColor=[a],v.gridColor=i):"latex"===v.type&&(v.color=i)}}catch(ZC){b.e(ZC)}finally{b.f()}}}catch(ZC){d.e(ZC)}finally{d.f()}e.setSlides(n),s()},h=Object(j["ref"])(!0),O=function(){h.value=!h.value},y=function(t){e.setViewportRatio(t)};return{availableFonts:n,background:i,updateBackgroundType:d,updateBackground:f,uploadBackgroundImage:p,applyBackgroundAllSlide:m,themes:xO,theme:r,webFonts:CO,updateTheme:b,applyThemeAllSlide:v,viewportRatio:c,updateViewportRatio:y,showPresetThemes:h,togglePresetThemesVisible:O}}});n("7853");const wO=Bn()(kO,[["render",gO],["__scopeId","data-v-a48d7852"]]);var EO=wO,NO={class:"slide-animation-panel"},IO={class:"animation-pool"},VO=["onClick"],SO={class:"animation-text"},LO=Object(j["createTextVNode"])("应用到全部");function BO(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("Button");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",NO,[Object(j["createElementVNode"])("div",IO,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.animations,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["animation-item",{active:e.currentTurningMode===t.value}]),key:t.label,onClick:function(n){return e.updateTurningMode(t.value)}},[Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["animation-block",t.value])},null,2),Object(j["createElementVNode"])("div",SO,Object(j["toDisplayString"])(t.label),1)],10,VO)})),128))]),Object(j["createVNode"])(c,{style:{width:"100%"},onClick:t[0]||(t[0]=function(t){return e.applyAllSlide()})},{default:Object(j["withCtx"])((function(){return[LO]})),_:1})])}var TO=Object(j["defineComponent"])({name:"slide-animation-panel",setup:function(){var e=Q(),t=Object(g["c"])(e),n=t.slides,o=t.currentSlide,l=Object(j["computed"])((function(){return o.value.turningMode||"slideY"})),a=[{label:"无",value:"no"},{label:"淡入淡出",value:"fade"},{label:"左右推移",value:"slideX"},{label:"上下推移",value:"slideY"}],c=Pe(),r=c.addHistorySnapshot,i=function(t){t!==l.value&&(e.updateSlide({turningMode:t}),r())},u=function(){var t=n.value.map((function(e){return Object(S["a"])(Object(S["a"])({},e),{},{turningMode:o.value.turningMode})}));e.setSlides(t),r()};return{currentTurningMode:l,animations:a,updateTurningMode:i,applyAllSlide:u}}});n("6e42");const MO=Bn()(TO,[["render",BO],["__scopeId","data-v-251ceb05"]]);var _O=MO,DO={class:"multi-position-panel"},zO=Object(j["createTextVNode"])("水平均匀分布"),AO=Object(j["createTextVNode"])("垂直均匀分布"),RO=Object(j["createTextVNode"])("组合"),FO=Object(j["createTextVNode"])("取消组合");function PO(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("IconAlignLeft"),r=Object(j["resolveComponent"])("Button"),i=Object(j["resolveComponent"])("Tooltip"),u=Object(j["resolveComponent"])("IconAlignHorizontally"),s=Object(j["resolveComponent"])("IconAlignRight"),d=Object(j["resolveComponent"])("ButtonGroup"),f=Object(j["resolveComponent"])("IconAlignTop"),p=Object(j["resolveComponent"])("IconAlignVertically"),m=Object(j["resolveComponent"])("IconAlignBottom"),b=Object(j["resolveComponent"])("Divider"),v=Object(j["resolveComponent"])("IconGroup"),h=Object(j["resolveComponent"])("IconUngroup");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",DO,[Object(j["createVNode"])(d,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"左对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[0]||(t[0]=function(t){return e.alignElement("left")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(c)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(i,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"水平居中"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[1]||(t[1]=function(t){return e.alignElement("horizontal")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(i,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"右对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[2]||(t[2]=function(t){return e.alignElement("right")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(s)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1}),Object(j["createVNode"])(d,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"上对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[3]||(t[3]=function(t){return e.alignElement("top")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(f)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(i,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"垂直居中"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[4]||(t[4]=function(t){return e.alignElement("vertical")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(p)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(i,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"下对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[5]||(t[5]=function(t){return e.alignElement("bottom")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(m)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1}),e.displayItemCount>2?(Object(j["openBlock"])(),Object(j["createBlock"])(d,{key:0,class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[6]||(t[6]=function(t){return e.uniformHorizontalDisplay()})},{default:Object(j["withCtx"])((function(){return[zO]})),_:1}),Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[7]||(t[7]=function(t){return e.uniformVerticalDisplay()})},{default:Object(j["withCtx"])((function(){return[AO]})),_:1})]})),_:1})):Object(j["createCommentVNode"])("",!0),Object(j["createVNode"])(b),Object(j["createVNode"])(d,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{disabled:!e.canCombine,onClick:t[8]||(t[8]=function(t){return e.combineElements()}),style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(v,{style:{"margin-right":"3px"}}),RO]})),_:1},8,["disabled"]),Object(j["createVNode"])(r,{disabled:e.canCombine,onClick:t[9]||(t[9]=function(t){return e.uncombineElements()}),style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(h,{style:{"margin-right":"3px"}}),FO]})),_:1},8,["disabled"])]})),_:1})])}var HO=function(){var e=Q(),t=Object(g["c"])($()),n=t.activeElementIdList,o=t.activeElementList,l=Object(g["c"])(e),a=l.currentSlide,c=Pe(),r=c.addHistorySnapshot,i=function(t){var l,c=Me(o.value),i=c.minX,u=c.maxX,s=c.minY,d=c.maxY,f=JSON.parse(JSON.stringify(a.value.elements)),p={},m=Object(L["a"])(o.value);try{var b=function(){var e=l.value;if(e.groupId&&!p[e.groupId]){var t=o.value.filter((function(t){return t.groupId===e.groupId}));p[e.groupId]=Me(t)}};for(m.s();!(l=m.n()).done;)b()}catch(ZC){m.e(ZC)}finally{m.f()}if(t===C.LEFT)f.forEach((function(e){if(n.value.includes(e.id))if(e.groupId){var t=p[e.groupId],o=t.minX-i;e.left=e.left-o}else if("rotate"in e&&e.rotate){var l=Be({left:e.left,top:e.top,width:e.width,height:e.height,rotate:e.rotate}),a=l.offsetX;e.left=i-a}else e.left=i}));else if(t===C.RIGHT)f.forEach((function(e){if(n.value.includes(e.id))if(e.groupId){var t=p[e.groupId],o=t.maxX-u;e.left=e.left-o}else{var l="line"===e.type?Math.max(e.start[0],e.end[0]):e.width;if("rotate"in e&&e.rotate){var a=Be({left:e.left,top:e.top,width:e.width,height:e.height,rotate:e.rotate}),c=a.offsetX;e.left=u-l+c}else e.left=u-l}}));else if(t===C.TOP)f.forEach((function(e){if(n.value.includes(e.id))if(e.groupId){var t=p[e.groupId],o=t.minY-s;e.top=e.top-o}else if("rotate"in e&&e.rotate){var l=Be({left:e.left,top:e.top,width:e.width,height:e.height,rotate:e.rotate}),a=l.offsetY;e.top=s-a}else e.top=s}));else if(t===C.BOTTOM)f.forEach((function(e){if(n.value.includes(e.id))if(e.groupId){var t=p[e.groupId],o=t.maxY-d;e.top=e.top-o}else{var l="line"===e.type?Math.max(e.start[1],e.end[1]):e.height;if("rotate"in e&&e.rotate){var a=Be({left:e.left,top:e.top,width:e.width,height:e.height,rotate:e.rotate}),c=a.offsetY;e.top=d-l+c}else e.top=d-l}}));else if(t===C.HORIZONTAL){var v=(i+u)/2;f.forEach((function(e){if(n.value.includes(e.id))if(e.groupId){var t=p[e.groupId],o=(t.maxX+t.minX)/2,l=o-v;e.left=e.left-l}else{var a="line"===e.type?Math.max(e.start[0],e.end[0]):e.width;e.left=v-a/2}}))}else if(t===C.VERTICAL){var h=(s+d)/2;f.forEach((function(e){if(n.value.includes(e.id))if(e.groupId){var t=p[e.groupId],o=(t.maxY+t.minY)/2,l=o-h;e.top=e.top-l}else{var a="line"===e.type?Math.max(e.start[1],e.end[1]):e.height;e.top=h-a/2}}))}e.updateSlide({elements:f}),r()};return{alignActiveElement:i}},qO=(n("4e82"),function(){var e=Q(),t=Object(g["c"])($()),n=t.activeElementIdList,o=t.activeElementList,l=Object(g["c"])(e),a=l.currentSlide,c=Pe(),r=c.addHistorySnapshot,i=Object(j["computed"])((function(){var e,t=0,n=[],l=Object(L["a"])(o.value);try{for(l.s();!(e=l.n()).done;){var a=e.value;a.groupId?n.includes(a.groupId)||(n.push(a.groupId),t+=1):t+=1}}catch(ZC){l.e(ZC)}finally{l.f()}return t})),u=function(){var t,l=Me(o.value),c=l.minX,i=l.maxX,u=JSON.parse(JSON.stringify(o.value)),s=JSON.parse(JSON.stringify(a.value.elements)),d=[],f=[],p=Object(L["a"])(u);try{var m=function(){var e=t.value;if(e.groupId){var n=f.find((function(t){return t.groupId===e.groupId}));n?f=f.map((function(t){return t.groupId===e.groupId?Object(S["a"])(Object(S["a"])({},t),{},{els:[].concat(Object(X["a"])(t.els),[e])}):t})):f.push({groupId:e.groupId,els:[e]})}else{var o=Te(e),l=o.minX,a=o.maxX;d.push({min:l,max:a,el:e})}};for(p.s();!(t=p.n()).done;)m()}catch(ZC){p.e(ZC)}finally{p.f()}var b,v=[],h=Object(L["a"])(f);try{for(h.s();!(b=h.n()).done;){var O=b.value,j=Me(O.els),g=j.minX,y=j.maxX;v.push({min:g,max:y,els:O.els})}}catch(ZC){h.e(ZC)}finally{h.f()}var x=[].concat(d,v);x.sort((function(e,t){return e.min-t.min}));var C,k=0,w=Object(L["a"])(x);try{for(w.s();!(C=w.n()).done;){var E=C.value,N=E.max-E.min;k+=N}}catch(ZC){w.e(ZC)}finally{w.f()}var I=(i-c-k)/(x.length-1),V=[],B=x[0],T={min:B.min,max:B.max};if("el"in B)V.push({pos:B.min,el:B.el});else{var M,_=Object(L["a"])(B.els);try{for(_.s();!(M=_.n()).done;){var D=M.value,z=Te(D),A=z.minX;V.push({pos:A,el:D})}}catch(ZC){_.e(ZC)}finally{_.f()}}for(var R=1;R<x.length;R++){var F=x[R],P=T.max-T.min,H=T.min+P+I,q=F.max-F.min;if(T={min:H,max:H+q},"el"in F)V.push({pos:H,el:F.el});else{var W,G=Object(L["a"])(F.els);try{for(G.s();!(W=G.n()).done;){var U=W.value,Y=Te(U),Z=Y.minX,J=Z-F.min;V.push({pos:H+J,el:U})}}catch(ZC){G.e(ZC)}finally{G.f()}}}var K,Q=Object(L["a"])(s);try{for(Q.s();!(K=Q.n()).done;){var $=K.value;if(n.value.includes($.id)){var ee,te=Object(L["a"])(V);try{for(te.s();!(ee=te.n()).done;){var ne=ee.value;if(ne.el.id===$.id)if("rotate"in $&&$.rotate){var oe=Be({left:$.left,top:$.top,width:$.width,height:$.height,rotate:$.rotate}),le=oe.offsetX;$.left=ne.pos-le}else $.left=ne.pos}}catch(ZC){te.e(ZC)}finally{te.f()}}}}catch(ZC){Q.e(ZC)}finally{Q.f()}e.updateSlide({elements:s}),r()},s=function(){var t,l=Me(o.value),c=l.minY,i=l.maxY,u=JSON.parse(JSON.stringify(o.value)),s=JSON.parse(JSON.stringify(a.value.elements)),d=[],f=[],p=Object(L["a"])(u);try{var m=function(){var e=t.value;if(e.groupId){var n=f.find((function(t){return t.groupId===e.groupId}));n?f=f.map((function(t){return t.groupId===e.groupId?Object(S["a"])(Object(S["a"])({},t),{},{els:[].concat(Object(X["a"])(t.els),[e])}):t})):f.push({groupId:e.groupId,els:[e]})}else{var o=Te(e),l=o.minY,a=o.maxY;d.push({min:l,max:a,el:e})}};for(p.s();!(t=p.n()).done;)m()}catch(ZC){p.e(ZC)}finally{p.f()}var b,v=[],h=Object(L["a"])(f);try{for(h.s();!(b=h.n()).done;){var O=b.value,j=Me(O.els),g=j.minY,y=j.maxY;v.push({min:g,max:y,els:O.els})}}catch(ZC){h.e(ZC)}finally{h.f()}var x=[].concat(d,v);x.sort((function(e,t){return e.min-t.min}));var C,k=0,w=Object(L["a"])(x);try{for(w.s();!(C=w.n()).done;){var E=C.value,N=E.max-E.min;k+=N}}catch(ZC){w.e(ZC)}finally{w.f()}var I=(i-c-k)/(x.length-1),V=[],B=x[0],T={min:B.min,max:B.max};if("el"in B)V.push({pos:B.min,el:B.el});else{var M,_=Object(L["a"])(B.els);try{for(_.s();!(M=_.n()).done;){var D=M.value,z=Te(D),A=z.minY;V.push({pos:A,el:D})}}catch(ZC){_.e(ZC)}finally{_.f()}}for(var R=1;R<x.length;R++){var F=x[R],P=T.max-T.min,H=T.min+P+I,q=F.max-F.min;if(T={min:H,max:H+q},"el"in F)V.push({pos:H,el:F.el});else{var W,G=Object(L["a"])(F.els);try{for(G.s();!(W=G.n()).done;){var U=W.value,Y=Te(U),Z=Y.minY,J=Z-F.min;V.push({pos:H+J,el:U})}}catch(ZC){G.e(ZC)}finally{G.f()}}}var K,Q=Object(L["a"])(s);try{for(Q.s();!(K=Q.n()).done;){var $=K.value;if(n.value.includes($.id)){var ee,te=Object(L["a"])(V);try{for(te.s();!(ee=te.n()).done;){var ne=ee.value;if(ne.el.id===$.id)if("rotate"in $&&$.rotate){var oe=Be({left:$.left,top:$.top,width:$.width,height:$.height,rotate:$.rotate}),le=oe.offsetY;$.top=ne.pos-le}else $.top=ne.pos}}catch(ZC){te.e(ZC)}finally{te.f()}}}}catch(ZC){Q.e(ZC)}finally{Q.f()}e.updateSlide({elements:s}),r()};return{displayItemCount:i,uniformHorizontalDisplay:u,uniformVerticalDisplay:s}}),WO=Object(j["defineComponent"])({name:"multi-position-panel",setup:function(){var e=Je(),t=e.canCombine,n=e.combineElements,o=e.uncombineElements,l=HO(),a=l.alignActiveElement,c=mo(),r=c.alignElementToCanvas,i=qO(),u=i.displayItemCount,s=i.uniformHorizontalDisplay,d=i.uniformVerticalDisplay,f=function(e){t.value?a(e):r(e)};return{canCombine:t,displayItemCount:u,combineElements:n,uncombineElements:o,uniformHorizontalDisplay:s,uniformVerticalDisplay:d,alignElement:f}}});n("306b");const XO=Bn()(WO,[["render",PO],["__scopeId","data-v-88d13362"]]);var GO=XO,UO={class:"symbol-panel"},YO={class:"tabs"},ZO=["onClick"],JO={class:"pool"},KO=["onClick"],QO={class:"symbol"};function $O(e,t,n,o,l,a){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",UO,[Object(j["createElementVNode"])("div",YO,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.symbolPoolList,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["tab",{active:e.selectedSymbolKey===t.key}]),key:t.key,onClick:function(n){return e.selectedSymbolKey=t.key}},Object(j["toDisplayString"])(t.label),11,ZO)})),128))]),Object(j["createElementVNode"])("div",JO,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.symbolPool,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"symbol-item",key:n,onClick:function(n){return e.selectSymbol(t)}},[Object(j["createElementVNode"])("div",QO,Object(j["toDisplayString"])(t),1)],8,KO)})),128))])])}var ej=[{key:"letter",label:"字母",children:["α","β","γ","δ","ϵ","ε","ζ","η","θ","ϑ","ι","κ","λ","μ","ν","ξ","π","ϖ","ρ","ϱ","σ","ς","τ","υ","ϕ","φ","χ","ψ","ω","Γ","Δ","Θ","Λ","Ξ","Π","Σ","Υ","Φ","Ψ","Ω","𝐀","𝐁","𝐂","𝐃","𝐄","𝐅","𝐆","𝐇","𝐈","𝐉","𝐊","𝐋","𝐌","𝐍","𝐎","𝐏","𝐐","𝐑","𝐒","𝐓","𝐔","𝐕","𝐖","𝐗","𝐘","𝐙","𝐚","𝐛","𝐜","𝐝","𝐞","𝐟","𝐠","𝐡","𝐢","𝐣","𝐤","𝐥","𝐦","𝐧","𝐨","𝐩","𝐪","𝐫","𝐬","𝐭","𝐮","𝐯","𝐰","𝐱","𝐲","𝐳","𝓐","𝓑","𝓒","𝓓","𝓔","𝓕","𝓖","𝓗","𝓘","𝓙","𝓚","𝓛","𝓜","𝓝","𝓞","𝓟","𝓠","𝓡","𝓢","𝓣","𝓤","𝓥","𝓦","𝓧","𝓨","𝓩","𝓪","𝓫","𝓬","𝓭","𝓮","𝓯","𝓰","𝓱","𝓲","𝓳","𝓴","𝓵","𝓶","𝓷","𝓸","𝓹","𝓺","𝓻","𝓼","𝓽","𝓾","𝓿","𝔀","𝔁","𝔂","𝔃"]},{key:"number",label:"序号",children:["①","②","③","④","⑤","⑥","⑦","⑧","⑨","⑩","⑪","⑫","⑬","⑭","⑮","⑯","⑰","⑱","⑲","⑳","⑴","⑵","⑶","⑷","⑸","⑹","⑺","⑻","⑼","⑽","⑾","⑿","⒀","⒁","⒂","⒃","⒄","⒅","⒆","⒇","º","¹","²","³","⁴","⁵","⁶","⁷","⁸","⁹","₀","₁","₂","₃","₄","₅","₆","₇","₈","₉","Ⅰ","Ⅱ","Ⅲ","Ⅳ","Ⅴ","Ⅵ","Ⅶ","Ⅷ","Ⅸ","Ⅹ","Ⅺ","Ⅻ","Ⅼ","Ⅽ","Ⅾ","Ⅿ","ⅰ","ⅱ","ⅲ","ⅳ","ⅴ","ⅵ","ⅶ","ⅷ","ⅸ","ⅹ","ⅺ","ⅻ","ⅼ","ⅽ","ⅾ","ⅿ","ↀ","ↁ","ↂ","㊀","㊁","㊂","㊃","㊄","㊅","㊆","㊇","㊈","㊉","㈠","㈡","㈢","㈣","㈤","㈥","㈦","㈧","㈨","㈩","𝟘","𝟙","𝟚","𝟛","𝟜","𝟝","𝟞","𝟟","𝟠","𝟡"]},{key:"math",label:"数学",children:["+","-","×","÷","=","~","¬","±","%","°","ǃ","‰","‱","½","⅓","⅔","¼","¾","<",">","l","o","g","l","g","l","n","⨂","⨁","⨄","⨃","⨅","⨆","√","∛","∜","∝","∞","∟","∠","∡","∢","∧","∨","∩","∪","∫","∬","∭","∮","∯","∰","∱","∲","∳","∴","∵","∼","∽","∾","∿","≃","≄","≅","≆","≇","≈","≊","≋","≌","≍","≎","≏","≐","≑","≒","≓","≔","≕","≤","≥","≦","≧","≨","≩","≪","≫","≺","≻","≼","≽","≾","≿","⊀","⊁","⊂","⊃","⊄","⊅","⊆","⊇","⊈","⊉","⊊","⊋","⊏","⊐","⊑","⊒","⊓","⊔","⊢","⊣","⊤","⊥","⊦","⊧","⊨","⊩","⊪","⊫","⊬","⊭","⊮","⊯","⊲","⊳","⊴","⊵","⋀","⋁","⋂","⋃","⋉","⋊","⋋","⋌","⟨","⟩","⟪","⟫","⟮","⟯","⧼","⧽","⦰"]},{key:"arrow",label:"箭头",children:["←","↑","→","↓","↔","↕","↖","↗","↘","↙","↚","↛","↜","↝","↞","↟","↠","↡","↢","↣","↤","↥","↦","↧","↨","↫","↬","↭","↮","↯","↰","↱","↲","↳","↴","↵","↶","↷","↸","↹","↺","↻","↼","↽","↾","↿","⇀","⇁","⇂","⇃","⇄","⇅","⇆","⇇","⇈","⇉","⇊","⇋","⇌","⇍","⇎","⇏","⇐","⇑","⇒","⇓","⇔","⇕","⇖","⇗","⇘","⇙","⇚","⇛","⇜","⇝","⇞","⇟","⇠","⇡","⇢","⇣","⇤","⇥","⇦","⇧","⇨","⇩","⇪","⇫","⇬","⇭","⇮","⇯","⇰","⇱","⇲","⇳","⇴","⇵","⇶","⇷","⇸","⇹","⇺","⇻","⇼","⇽","⇾","⇿"]},{key:"graph",label:"图形",children:["▢","▣","▤","▥","▦","▧","▨","▩","▭","▮","▯","▰","▱","▲","▷","▼","◁","◈","◉","◍","◐","◑","◒","◓","◔","◕","◧","◨","◩","◪","◫","◬","◭","◮"]}],tj=ej,nj=Object(j["defineComponent"])({name:"symbol-panel",setup:function(){var e=Object(j["ref"])(tj[0].key),t=Object(j["computed"])((function(){var t=tj.find((function(t){return t.key===e.value}));return(null===t||void 0===t?void 0:t.children)||[]})),n=function(e){$l.emit(pl.RICH_TEXT_COMMAND,{command:"insert",value:e})};return{symbolPoolList:tj,symbolPool:t,selectedSymbolKey:e,selectSymbol:n}}});n("1d1a");const oj=Bn()(nj,[["render",$O],["__scopeId","data-v-48704658"]]);var lj=oj,aj=Object(j["defineComponent"])({name:"toolbar",setup:function(){var e=$(),t=Object(g["c"])(e),n=t.activeElementIdList,o=t.handleElement,l=t.toolbarState,a=Object(j["computed"])((function(){var e;return"text"===(null===(e=o.value)||void 0===e?void 0:e.type)?[{label:"样式",value:ff.EL_STYLE},{label:"符号",value:ff.SYMBOL},{label:"位置",value:ff.EL_POSITION},{label:"动画",value:ff.EL_ANIMATION}]:[{label:"样式",value:ff.EL_STYLE},{label:"位置",value:ff.EL_POSITION},{label:"动画",value:ff.EL_ANIMATION}]})),c=[{label:"设计",value:ff.SLIDE_DESIGN},{label:"切换",value:ff.SLIDE_ANIMATION},{label:"动画",value:ff.EL_ANIMATION}],r=[{label:"位置",value:ff.MULTI_POSITION},{label:"样式",value:ff.EL_STYLE}],i=function(t){e.setToolbarState(t)},u=Object(j["computed"])((function(){return n.value.length?n.value.length>1?r:a.value:c}));Object(j["watch"])(u,(function(){var t=u.value.map((function(e){return e.value}));t.includes(l.value)||e.setToolbarState(t[0])}));var s=Object(j["computed"])((function(){var e,t=(e={},Object(ae["a"])(e,ff.EL_STYLE,Lv),Object(ae["a"])(e,ff.EL_POSITION,eh),Object(ae["a"])(e,ff.EL_ANIMATION,Vh),Object(ae["a"])(e,ff.SLIDE_DESIGN,EO),Object(ae["a"])(e,ff.SLIDE_ANIMATION,_O),Object(ae["a"])(e,ff.MULTI_POSITION,GO),Object(ae["a"])(e,ff.SYMBOL,lj),e);return t[l.value]||null}));return{toolbarState:l,currentTabs:u,setToolbarState:i,currentPanelComponent:s}}});n("6d15");const cj=Bn()(aj,[["render",Of],["__scopeId","data-v-0df9576a"]]);var rj=cj,ij={class:"remark"},uj=["value"];function sj(e,t,n,o,l,a){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",ij,[Object(j["createElementVNode"])("div",{class:"resize-handler",onMousedown:t[0]||(t[0]=function(t){return e.resize(t)})},null,32),Object(j["createElementVNode"])("textarea",{value:e.remark,placeholder:"点击输入演讲者备注",onInput:t[1]||(t[1]=function(t){return e.handleInput(t)})},null,40,uj)])}var dj=Object(j["defineComponent"])({name:"remark",emits:["update:height"],props:{height:{type:Number,required:!0}},setup:function(e,t){var n=t.emit,o=Q(),l=Object(g["c"])(o),a=l.currentSlide,c=Object(j["computed"])((function(){var e;return(null===(e=a.value)||void 0===e?void 0:e.remark)||""})),r=function(e){var t=e.target.value;o.updateSlide({remark:t})},i=function(t){var o=!0,l=t.pageY,a=e.height;document.onmousemove=function(e){if(o){var t=e.pageY,c=t-l,r=-c+a;r<40&&(r=40),r>120&&(r=120),n("update:height",r)}},document.onmouseup=function(){o=!1,document.onmousemove=null,document.onmouseup=null}};return{remark:c,handleInput:r,resize:i}}});n("c329");const fj=Bn()(dj,[["render",sj],["__scopeId","data-v-5a6e24c6"]]);var pj=fj,mj=Object(j["defineComponent"])({name:"editor",components:{EditorHeader:Gn,Canvas:Ji,CanvasTool:Ws,Thumbnails:pf,Toolbar:rj,Remark:pj},setup:function(){var e=Object(j["ref"])(40);return ct(),rt(),{remarkHeight:e}}});n("1fec");const bj=Bn()(mj,[["render",be],["__scopeId","data-v-55178b6a"]]);var vj=bj,hj={class:"pptist-screen"},Oj={class:"tools"};function jj(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("ScreenSlide"),r=Object(j["resolveComponent"])("SlideThumbnails"),i=Object(j["resolveComponent"])("WritingBoardTool"),u=Object(j["resolveComponent"])("IconLeftTwo"),s=Object(j["resolveComponent"])("IconRightTwo"),d=Object(j["resolveComponent"])("IconWrite"),f=Object(j["resolveDirective"])("contextmenu");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",hj,[Object(j["withDirectives"])(Object(j["createElementVNode"])("div",{class:"slide-list",onMousewheel:t[0]||(t[0]=function(t){return e.mousewheelListener(t)}),onTouchstart:t[1]||(t[1]=function(t){return e.touchStartListener(t)}),onTouchend:t[2]||(t[2]=function(t){return e.touchEndListener(t)})},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.slides,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["slide-item","turning-mode-".concat(t.turningMode||"slideY"),{current:n===e.slideIndex,before:n<e.slideIndex,after:n>e.slideIndex,hide:(n===e.slideIndex-1||n===e.slideIndex+1)&&t.turningMode!==e.currentSlide.turningMode}]),key:t.id},[Object(j["createElementVNode"])("div",{class:"slide-content",style:Object(j["normalizeStyle"])({width:e.slideWidth+"px",height:e.slideHeight+"px"})},[Object(j["createVNode"])(c,{slide:t,scale:e.scale,animationIndex:e.animationIndex},null,8,["slide","scale","animationIndex"])],4)],2)})),128))],544),[[f,e.contextmenus]]),e.slideThumbnailModelVisible?(Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:0,turnSlideToIndex:e.turnSlideToIndex,onClose:t[3]||(t[3]=function(t){return e.slideThumbnailModelVisible=!1})},null,8,["turnSlideToIndex"])):Object(j["createCommentVNode"])("",!0),e.writingBoardToolVisible?(Object(j["openBlock"])(),Object(j["createBlock"])(i,{key:1,onClose:t[4]||(t[4]=function(t){return e.writingBoardToolVisible=!1})})):Object(j["createCommentVNode"])("",!0),Object(j["createElementVNode"])("div",Oj,[Object(j["createVNode"])(u,{class:"tool-btn",theme:"two-tone",fill:["#111","#fff"],onClick:t[5]||(t[5]=function(t){return e.execPrev()})}),Object(j["createVNode"])(s,{class:"tool-btn",theme:"two-tone",fill:["#111","#fff"],onClick:t[6]||(t[6]=function(t){return e.execNext()})}),Object(j["createVNode"])(d,{class:"tool-btn",theme:"two-tone",fill:["#111","#fff"],onClick:t[7]||(t[7]=function(t){return e.writingBoardToolVisible=!0})})]),e.showPageNumber?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{key:2,class:"page-number",onClick:t[8]||(t[8]=function(t){return e.slideThumbnailModelVisible=!0})},Object(j["toDisplayString"])(e.slideIndex+1)+" / "+Object(j["toDisplayString"])(e.slides.length),1)):Object(j["createCommentVNode"])("",!0)])}function gj(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("ScreenElement");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"screen-slide",style:Object(j["normalizeStyle"])({width:e.VIEWPORT_SIZE+"px",height:e.VIEWPORT_SIZE*e.viewportRatio+"px",transform:"scale(".concat(e.scale,")")})},[Object(j["createElementVNode"])("div",{class:"background",style:Object(j["normalizeStyle"])(Object(S["a"])({},e.backgroundStyle))},null,4),(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.slide.elements,(function(t,n){return Object(j["openBlock"])(),Object(j["createBlock"])(c,{key:t.id,elementInfo:t,elementIndex:n+1,animationIndex:e.animationIndex},null,8,["elementInfo","elementIndex","animationIndex"])})),128))],4)}var yj=["id","title"];function xj(e,t,n,o,l,a){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["screen-element",{link:e.elementInfo.link}]),id:"screen-element-".concat(e.elementInfo.id),style:Object(j["normalizeStyle"])({zIndex:e.elementIndex,color:e.theme.fontColor,fontFamily:e.theme.fontName,visibility:e.needWaitAnimation?"hidden":"visible"}),title:e.elementInfo.link||"",onClick:t[0]||(t[0]=function(t){return e.openLink()})},[(Object(j["openBlock"])(),Object(j["createBlock"])(Object(j["resolveDynamicComponent"])(e.currentElementComponent),{elementInfo:e.elementInfo},null,8,["elementInfo"]))],14,yj)}function Cj(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("BaseChartElement");return Object(j["openBlock"])(),Object(j["createBlock"])(c,{class:"screen-element-chart",elementInfo:e.elementInfo,needScaleSize:!1},null,8,["elementInfo"])}var kj=Object(j["defineComponent"])({name:"screen-element-chart",components:{BaseChartElement:Nd},props:{elementInfo:{type:Object,required:!0}}});const wj=Bn()(kj,[["render",Cj]]);var Ej=wj,Nj={class:"element-content"};function Ij(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("VideoPlayer");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"screen-element-video",style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[Object(j["createElementVNode"])("div",Nj,[Object(j["createVNode"])(c,{width:e.elementInfo.width,height:e.elementInfo.height,src:e.elementInfo.src,poster:e.elementInfo.poster,scale:e.scale},null,8,["width","height","src","poster","scale"])])],4)],4)}var Vj=Object(j["defineComponent"])({name:"screen-element-video",components:{VideoPlayer:ar},props:{elementInfo:{type:Object,required:!0}},setup:function(){var e=Object(j["inject"])("slideScale")||Object(j["ref"])(1);return{scale:e}}});n("a705");const Sj=Bn()(Vj,[["render",Ij],["__scopeId","data-v-78adfd60"]]);var Lj=Sj,Bj=Object(j["defineComponent"])({name:"screen-element",props:{elementInfo:{type:Object,required:!0},elementIndex:{type:Number,required:!0},animationIndex:{type:Number,default:-1}},setup:function(e){var t=Object(j["computed"])((function(){var t,n=(t={},Object(ae["a"])(t,po.IMAGE,ad),Object(ae["a"])(t,po.TEXT,sd),Object(ae["a"])(t,po.SHAPE,Od),Object(ae["a"])(t,po.LINE,Cd),Object(ae["a"])(t,po.CHART,Ej),Object(ae["a"])(t,po.TABLE,Rd),Object(ae["a"])(t,po.LATEX,Gd),Object(ae["a"])(t,po.VIDEO,Lj),t);return n[e.elementInfo.type]||null})),n=Object(g["c"])(Q()),o=n.currentSlide,l=n.theme,a=Object(j["computed"])((function(){var t=o.value.animations||[],n=t.findIndex((function(t){return t.elId===e.elementInfo.id}));return-1!==n&&n>=e.animationIndex})),c=function(){e.elementInfo.link&&window.open(e.elementInfo.link)};return{currentElementComponent:t,needWaitAnimation:a,theme:l,openLink:c}}});n("ccd7b");const Tj=Bn()(Bj,[["render",xj],["__scopeId","data-v-cd84bcd6"]]);var Mj=Tj,_j=Object(j["defineComponent"])({name:"screen-slide",components:{ScreenElement:Mj},props:{slide:{type:Object,required:!0},scale:{type:Number,required:!0},animationIndex:{type:Number,default:-1}},setup:function(e){var t=Object(g["c"])(Q()),n=t.viewportRatio,o=Object(j["computed"])((function(){return e.slide.background})),l=xr(o),a=l.backgroundStyle;return{backgroundStyle:a,VIEWPORT_SIZE:We,viewportRatio:n}}});n("bc02");const Dj=Bn()(_j,[["render",gj],["__scopeId","data-v-88eb3cf8"]]);var zj=Dj,Aj={class:"slide-thumbnails"},Rj={class:"return-button"},Fj={class:"slide-thumbnails-content"},Pj=["onClick"];function Hj(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("IconArrowCircleLeft"),r=Object(j["resolveComponent"])("ThumbnailSlide");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Aj,[Object(j["createElementVNode"])("div",Rj,[Object(j["createVNode"])(c,{class:"icon",onClick:t[0]||(t[0]=function(t){return e.close()})})]),Object(j["createElementVNode"])("div",Fj,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.slides,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["thumbnail",{active:n===e.slideIndex}]),key:t.id,onClick:function(t){return e.turnSlideToIndex(n)}},[Object(j["createVNode"])(r,{slide:t,size:150},null,8,["slide"])],10,Pj)})),128))])])}var qj=Object(j["defineComponent"])({name:"slide-thumbnails",emits:["close"],components:{ThumbnailSlide:nf},props:{turnSlideToIndex:{type:Function}},setup:function(e,t){var n=t.emit,o=Object(g["c"])(Q()),l=o.slides,a=o.slideIndex,c=function(){return n("close")};return{slides:l,slideIndex:a,close:c}}});n("4640");const Wj=Bn()(qj,[["render",Hj],["__scopeId","data-v-6003cfdc"]]);var Xj=Wj,Gj={class:"writing-board-tool"},Uj={class:"tools"},Yj={class:"colors"},Zj=["onClick"];function Jj(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("WritingBoard"),r=Object(j["resolveComponent"])("IconWrite"),i=Object(j["resolveComponent"])("Tooltip"),u=Object(j["resolveComponent"])("IconErase"),s=Object(j["resolveComponent"])("IconClear"),d=Object(j["resolveComponent"])("IconFill"),f=Object(j["resolveComponent"])("IconClose");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Gj,[(Object(j["openBlock"])(),Object(j["createBlock"])(j["Teleport"],{to:"body"},[Object(j["createVNode"])(c,{ref:"writingBoardRef",color:e.writingBoardColor,blackboard:e.blackboard,model:e.writingBoardModel},null,8,["color","blackboard","model"])])),Object(j["createElementVNode"])("div",Uj,[Object(j["createVNode"])(i,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"画笔"},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["btn",{active:"pen"===e.writingBoardModel}]),onClick:t[0]||(t[0]=function(t){return e.changePen()})},[Object(j["createVNode"])(r,{class:"icon"})],2)]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(i,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"橡皮擦"},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["btn",{active:"eraser"===e.writingBoardModel}]),onClick:t[1]||(t[1]=function(t){return e.changeEraser()})},[Object(j["createVNode"])(u,{class:"icon"})],2)]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(i,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"清除墨迹"},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",{class:"btn",onClick:t[2]||(t[2]=function(t){return e.clearCanvas()})},[Object(j["createVNode"])(s,{class:"icon"})])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(i,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"黑板"},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["btn",{active:e.blackboard}]),onClick:t[3]||(t[3]=function(t){return e.blackboard=!e.blackboard})},[Object(j["createVNode"])(d,{class:"icon"})],2)]})),_:1},8,["mouseEnterDelay"]),Object(j["createElementVNode"])("div",Yj,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.writingBoardColors,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["color",{active:t===e.writingBoardColor}]),key:t,style:Object(j["normalizeStyle"])({backgroundColor:t}),onClick:function(n){return e.changeColor(t)}},null,14,Zj)})),128))]),Object(j["createVNode"])(i,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"关闭画笔"},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",{class:"btn",onClick:t[4]||(t[4]=function(t){return e.closeWritingBoard()})},[Object(j["createVNode"])(f,{class:"icon"})])]})),_:1},8,["mouseEnterDelay"])])])}var Kj={class:"writing-board",ref:"writingBoardRef"},Qj={key:0,class:"blackboard"};function $j(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("IconWrite");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Kj,[e.blackboard?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Qj)):Object(j["createCommentVNode"])("",!0),Object(j["createElementVNode"])("canvas",{class:"canvas",ref:"canvasRef",onMousedown:t[0]||(t[0]=function(t){return e.handleMousedown(t)}),onMousemove:t[1]||(t[1]=function(t){return e.handleMousemove(t)}),onMouseup:t[2]||(t[2]=function(t){return e.handleMouseup()}),onTouchstart:t[3]||(t[3]=function(t){return e.handleMousedown(t)}),onTouchmove:t[4]||(t[4]=function(t){return e.handleMousemove(t)}),onTouchend:t[5]||(t[5]=function(t){e.handleMouseup(),e.mouseInCanvas=!1}),onMouseleave:t[6]||(t[6]=function(t){e.handleMouseup(),e.mouseInCanvas=!1}),onMouseenter:t[7]||(t[7]=function(t){return e.mouseInCanvas=!0})},null,544),e.mouseInCanvas&&"pen"===e.model?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{key:1,class:"pen",style:Object(j["normalizeStyle"])({left:e.mouse.x-e.penSize/2+"px",top:e.mouse.y-36+e.penSize/2+"px",color:e.color})},[Object(j["createVNode"])(c,{class:"icon",size:"36"})],4)):Object(j["createCommentVNode"])("",!0),e.mouseInCanvas&&"eraser"===e.model?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{key:2,class:"eraser",style:Object(j["normalizeStyle"])({left:e.mouse.x-e.rubberSize/2+"px",top:e.mouse.y-e.rubberSize/2+"px",width:e.rubberSize+"px",height:e.rubberSize+"px"})},null,4)):Object(j["createCommentVNode"])("",!0)],512)}var eg=6,tg=80,ng=Object(j["defineComponent"])({name:"writing-board",props:{color:{type:String,default:"#ffcc00"},model:{type:String,default:"pen"},blackboard:{type:Boolean,default:!1}},setup:function(e){var t=null,n=Object(j["ref"])(),o=Object(j["ref"])(),l={x:0,y:0},a=!1,c=0,r=-1,i=Object(j["reactive"])({x:0,y:0}),u=function(e,t){i.x=e,i.y=t},s=Object(j["ref"])(!1),d=function(){o.value&&n.value&&(t=o.value.getContext("2d"),t&&(o.value.width=n.value.clientWidth,o.value.height=n.value.clientHeight,o.value.style.width=n.value.clientWidth+"px",o.value.style.height=n.value.clientHeight+"px",t.lineCap="round",t.lineJoin="round"))};Object(j["onMounted"])(d);var f=function(n,o,a){if(t){var c=l.x,r=l.y;t.lineWidth=a,t.strokeStyle=e.color,t.beginPath(),t.moveTo(c,r),t.lineTo(n,o),t.stroke(),t.closePath()}},p=function(e,n){var a,c,r,i;if(t&&o.value){var u=l.x,s=l.y,d=tg/2,f=d*Math.sin(Math.atan((n-s)/(e-u))),p=d*Math.cos(Math.atan((n-s)/(e-u))),m=[u+f,s-p],b=[u-f,s+p],v=[e+f,n-p],h=[e-f,n+p];t.save(),t.beginPath(),t.arc(e,n,d,0,2*Math.PI),t.clip(),t.clearRect(0,0,o.value.width,o.value.height),t.restore(),t.save(),t.beginPath(),(a=t).moveTo.apply(a,m),(c=t).lineTo.apply(c,v),(r=t).lineTo.apply(r,h),(i=t).lineTo.apply(i,b),t.closePath(),t.clip(),t.clearRect(0,0,o.value.width,o.value.height),t.restore()}},m=function(e,t){var n=l.x,o=l.y;return Math.sqrt((e-n)*(e-n)+(t-o)*(t-o))},b=function(e,t){var n,o=10,l=.1,a=eg,c=3,i=e/t;return n=i<=l?a:i>=o?c:a-i/o*a,-1===r?n:1*n/3+2*r/3},v=function(t,n){var o=(new Date).getTime();if("pen"===e.model){var a=m(t,n),i=o-c,u=b(a,i);f(t,n,u),r=u}else p(t,n);l={x:t,y:n},c=(new Date).getTime()},h=function(e){var t=e instanceof MouseEvent?e.offsetX:e.changedTouches[0].pageX,n=e instanceof MouseEvent?e.offsetY:e.changedTouches[0].pageY;a=!0,l={x:t,y:n},c=(new Date).getTime(),e instanceof TouchEvent&&(u(t,n),s.value=!0)},O=function(e){var t=e instanceof MouseEvent?e.offsetX:e.changedTouches[0].pageX,n=e instanceof MouseEvent?e.offsetY:e.changedTouches[0].pageY;u(t,n),a&&v(t,n)},g=function(){a&&(a=!1)},y=function(){t&&o.value&&t.clearRect(0,0,o.value.width,o.value.height)};return{mouse:i,mouseInCanvas:s,penSize:eg,rubberSize:tg,writingBoardRef:n,canvasRef:o,handleMousedown:h,handleMousemove:O,handleMouseup:g,clearCanvas:y}}});n("097f");const og=Bn()(ng,[["render",$j],["__scopeId","data-v-7ff9fa00"]]);var lg=og,ag=["#000000","#ffffff","#1e497b","#4e81bb","#e2534d","#9aba60","#8165a0","#47acc5","#f9974c"],cg=Object(j["defineComponent"])({name:"writing-board-tool",emits:["close"],components:{WritingBoard:lg},setup:function(e,t){var n=t.emit,o=Object(j["ref"])(),l=Object(j["ref"])("#e2534d"),a=Object(j["ref"])("pen"),c=Object(j["ref"])(!1),r=function(){a.value="pen"},i=function(){a.value="eraser"},u=function(){o.value.clearCanvas()},s=function(e){"pen"!==a.value&&(a.value="pen"),l.value=e},d=function(){n("close")};return{writingBoardRef:o,writingBoardColors:ag,writingBoardColor:l,writingBoardModel:a,blackboard:c,changePen:r,changeEraser:i,clearCanvas:u,changeColor:s,closeWritingBoard:d}}});n("4c08");const rg=Bn()(cg,[["render",Jj],["__scopeId","data-v-7a2e5324"]]);var ig=rg,ug=Object(j["defineComponent"])({name:"screen",components:{ScreenSlide:zj,SlideThumbnails:Xj,WritingBoardTool:ig},setup:function(){var e=Q(),t=Object(g["c"])(e),n=t.slides,o=t.slideIndex,l=t.currentSlide,a=t.viewportRatio,c=Object(j["ref"])(0),r=Object(j["ref"])(0),i=Object(j["computed"])((function(){return c.value/We})),u=Object(j["ref"])(!1),s=Object(j["ref"])(!1),d=Object(j["ref"])(!1),f=function(){var e,t,n=document.body.clientWidth,o=document.body.clientHeight;o/n===a.value?(e=n,t=o):o/n>a.value?(e=n,t=n*a.value):(e=o/a.value,t=o),c.value=e,r.value=t},p=lt(),m=p.exitScreening,b=function(){f(),ot()||m()};Object(j["onMounted"])((function(){f(),window.addEventListener("resize",b)})),Object(j["onUnmounted"])((function(){window.removeEventListener("resize",b)}));var v=Object(j["computed"])((function(){return l.value.animations||[]})),h=Object(j["ref"])(0),O=function(){var e="animate__",t=v.value[h.value];h.value+=1;var n=document.querySelector("#screen-element-".concat(t.elId," [class^=base-element-]"));if(n){var o="".concat(e).concat(t.type);document.documentElement.style.setProperty("--animate-duration","".concat(t.duration,"ms")),n.classList.add("".concat(e,"animated"),o);var l=function(){document.documentElement.style.removeProperty("--animate-duration"),n.classList.remove("".concat(e,"animated"),o)};n.addEventListener("animationend",l,{once:!0})}},y=Object(j["ref"])(0),x=function(){y.value&&(clearInterval(y.value),y.value=0)};Object(j["onUnmounted"])(x);var C=Object(Y["throttle"])((function(e){he["a"].success(e)}),1e3,{leading:!0,trailing:!1}),k=function(){if(v.value.length&&h.value>0)h.value-=1;else if(o.value>0){e.updateSlideIndex(o.value-1);var t=v.value?v.value.length:0;h.value=t}else C("已经是第一页了")},w=function(){v.value.length&&h.value<v.value.length?O():o.value<n.value.length-1?(e.updateSlideIndex(o.value+1),h.value=0):(C("已经是最后一页了"),x())},E=function(){x(),he["a"].success("开始自动放映"),y.value=setInterval(w,2500)},I=Object(Y["throttle"])((function(e){e.deltaY<0?k():e.deltaY>0&&w()}),500,{leading:!0,trailing:!1}),V=Object(j["ref"])(null),S=function(e){V.value={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}},L=function(e){if(V.value){var t=Math.abs(V.value.x-e.changedTouches[0].pageX),n=e.changedTouches[0].pageY-V.value.y;Math.abs(n)>t&&Math.abs(n)>50&&(V.value=null,n>0?k():w())}},B=function(e){var t=e.key.toUpperCase();t===N.UP||t===N.LEFT?k():t!==N.DOWN&&t!==N.RIGHT&&t!==N.SPACE&&t!==N.ENTER||w()};Object(j["onMounted"])((function(){document.addEventListener("keydown",B)})),Object(j["onUnmounted"])((function(){document.removeEventListener("keydown",B)}));var T=function(){e.updateSlideIndex(o.value-1),h.value=0},M=function(){e.updateSlideIndex(o.value+1),h.value=0},_=function(t){s.value=!1,e.updateSlideIndex(t),h.value=0},D=function(){return[{text:"上一页",subText:"↑ ←",disable:o.value<=0,handler:function(){return T()}},{text:"下一页",subText:"↓ →",disable:o.value>=n.value.length-1,handler:function(){return M()}},{text:"第一页",disable:0===o.value,handler:function(){return _(0)}},{text:"最后一页",disable:o.value===n.value.length-1,handler:function(){return _(n.value.length-1)}},{divider:!0},{text:"显示页码",subText:u.value?"√":"",handler:function(){return u.value=!u.value}},{text:"查看所有幻灯片",handler:function(){return s.value=!0}},{text:"画笔",handler:function(){return d.value=!0}},{divider:!0},{text:y.value?"取消自动放映":"自动放映",handler:y.value?x:E},{text:"结束放映",subText:"ESC",handler:m}]};return Object(j["provide"])("slideScale",i),{slides:n,slideIndex:o,currentSlide:l,slideWidth:c,slideHeight:r,scale:i,mousewheelListener:I,touchStartListener:S,touchEndListener:L,animationIndex:h,contextmenus:D,execPrev:k,execNext:w,slideThumbnailModelVisible:s,turnSlideToIndex:_,writingBoardToolVisible:d,showPageNumber:u}}});n("59cc");const sg=Bn()(ug,[["render",jj],["__scopeId","data-v-1cfaad9d"]]);var dg=sg,fg=Object(j["defineComponent"])({name:"app",components:{Editor:vj,Screen:dg},setup:function(){var e=$(),t=ue(),n=Object(g["c"])(de()),o=n.screening;return window.onbeforeunload=function(){return!1},Object(j["onMounted"])((function(){t.initSnapshotDatabase(),e.setAvailableFonts()})),{screening:o}}});n("8881");const pg=Bn()(fg,[["render",y]]);var mg=pg,bg=(n("793f"),n("41ed"),n("77ed"),n("5952"),n("c860"),n("ae3f"),n("8c56"),n("b28e")),vg=n("f914"),hg=n("0e0a"),Og=n("f807"),jg=n("9312"),gg=n("84e7"),yg=n("1e27"),xg=n("8845"),Cg=n("a3ef"),kg=n("8331"),wg=n("4040"),Eg=n("f745"),Ng=n("2e2d"),Ig=n("6010"),Vg=n("1fcb"),Sg=n("500e"),Lg=n("0996"),Bg=n("1646"),Tg=n("fbe7"),Mg=n("b8af"),_g=n("bf2c"),Dg=n("f259"),zg=n("23fa"),Ag=n("c53e"),Rg=n("8377"),Fg=n("246f"),Pg=n("33a2"),Hg=n("fdbcb"),qg=n("ccc7"),Wg=n("e3b9"),Xg=n("3a3e"),Gg=n("2e679"),Ug=n("e792"),Yg=n("e483"),Zg=n("eac5"),Jg=n("694b"),Kg=n("e9ec"),Qg=n("ea01"),$g=n("74f3"),ey=n("4bad"),ty=n("e7f4"),ny=n("eb50"),oy=n("0be2"),ly=n("a90c"),ay=n("c90a"),cy=n("d41d"),ry=n("2c06"),iy=n("a5dc"),uy=n("8678"),sy=n("d7fb"),dy=n("ce42"),fy=n("7abc"),py=n("5b20"),my=n("69de"),by=n("d0c6"),vy=n("dcc2"),hy=n("f1d2"),Oy=n("d16b"),jy=n("a5f1"),gy=n("df0d"),yy=n("70f2"),xy=n("b7c8"),Cy=n("f99d"),ky=n("40bb"),wy=n("ae33"),Ey=n("8c1a"),Ny=n("b7b3"),Iy=n("96be"),Vy=n("5a69"),Sy=n("f9e5"),Ly=n("bbce"),By=n("77ad"),Ty=n("46cd"),My=n("3ee3"),_y=n("dde4"),Dy=n("cead"),zy=n("af8a"),Ay=n("d887"),Ry=n("fa00"),Fy=n("e970"),Py=n("f3c2"),Hy=n("7312"),qy=n("5294"),Wy=n("9fbc"),Xy={install:function(e){e.component("IconFontSize",Wy["a"]),e.component("IconPicture",qy["a"]),e.component("IconGraphicDesign",Hy["a"]),e.component("IconConnection",Py["a"]),e.component("IconChartProportion",Fy["a"]),e.component("IconInsertTable",Ry["a"]),e.component("IconVideoTwo",Ay["a"]),e.component("IconFormula",zy["a"]),e.component("IconLock",Dy["a"]),e.component("IconUnlock",_y["a"]),e.component("IconFullScreen",My["a"]),e.component("IconBack",Ty["a"]),e.component("IconNext",By["a"]),e.component("IconAlignTop",Ly["a"]),e.component("IconAlignLeft",Sy["a"]),e.component("IconAlignRight",Vy["a"]),e.component("IconAlignBottom",Iy["a"]),e.component("IconAlignVertically",Ny["a"]),e.component("IconAlignHorizontally",Ey["a"]),e.component("IconBringToFront",wy["a"]),e.component("IconSentToBack",ky["a"]),e.component("IconBringToFrontOne",Cy["a"]),e.component("IconSendToBack",xy["a"]),e.component("IconGroup",yy["a"]),e.component("IconUngroup",gy["a"]),e.component("IconFill",jy["a"]),e.component("IconBackgroundColor",Oy["a"]),e.component("IconPlatte",hy["a"]),e.component("IconTailoring",vy["a"]),e.component("IconColorFilter",by["a"]),e.component("IconFlipVertically",my["a"]),e.component("IconFlipHorizontally",py["a"]),e.component("IconText",fy["a"]),e.component("IconAddText",dy["a"]),e.component("IconAlignTextLeft",sy["a"]),e.component("IconAlignTextRight",uy["a"]),e.component("IconAlignTextCenter",iy["a"]),e.component("IconRowHeight",ry["a"]),e.component("IconFullwidth",cy["a"]),e.component("IconCode",ay["a"]),e.component("IconTextBold",ly["a"]),e.component("IconTextItalic",oy["a"]),e.component("IconTextUnderline",ny["a"]),e.component("IconStrikethrough",ty["a"]),e.component("IconQuote",ey["a"]),e.component("IconList",$g["a"]),e.component("IconOrderedList",Qg["a"]),e.component("IconUpOne",Kg["a"]),e.component("IconDownOne",Jg["a"]),e.component("IconFormat",Zg["a"]),e.component("IconAlignTextTopOne",Yg["a"]),e.component("IconAlignTextBottomOne",Ug["a"]),e.component("IconAlignTextMiddleOne",Gg["a"]),e.component("IconDown",Xg["a"]),e.component("IconLeftTwo",Wg["a"]),e.component("IconRightTwo",qg["a"]),e.component("IconPlus",Hg["a"]),e.component("IconMinus",Pg["a"]),e.component("IconClose",Fg["a"]),e.component("IconCloseSmall",Rg["a"]),e.component("IconChartHistogram",Ag["a"]),e.component("IconChartLine",zg["a"]),e.component("IconChartPie",Dg["a"]),e.component("IconPlayOne",_g["a"]),e.component("IconPpt",Mg["a"]),e.component("IconHelpcenter",Tg["a"]),e.component("IconGithub",Bg["a"]),e.component("IconWrite",Lg["a"]),e.component("IconErase",Sg["a"]),e.component("IconEffects",Vg["a"]),e.component("IconRotate",Ig["a"]),e.component("IconEdit",Ng["a"]),e.component("IconUndo",Eg["a"]),e.component("IconTransform",wg["a"]),e.component("IconClick",kg["a"]),e.component("IconTheme",Cg["a"]),e.component("IconArrowCircleLeft",xg["a"]),e.component("IconLogout",yg["a"]),e.component("IconClear",gg["a"]),e.component("IconFolderClose",jg["a"]),e.component("IconPause",Og["a"]),e.component("IconVolumeMute",hg["a"]),e.component("IconVolumeNotice",vg["a"]),e.component("IconVolumeSmall",bg["a"])}},Gy=["accept"];function Uy(e,t,n,o,l,a){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"file-input",onClick:t[1]||(t[1]=function(t){return e.handleClick()})},[Object(j["renderSlot"])(e.$slots,"default",{},void 0,!0),Object(j["createElementVNode"])("input",{class:"input",type:"file",name:"upload",ref:"inputRef",accept:e.accept,onChange:t[0]||(t[0]=function(t){return e.handleChange(t)})},null,40,Gy)])}var Yy=Object(j["defineComponent"])({name:"file-input",emits:["change"],props:{accept:{type:String,default:"image/*"}},setup:function(e,t){var n=t.emit,o=Object(j["ref"])(),l=function(){o.value&&(o.value.value="",o.value.click())},a=function(e){var t=e.target.files;t&&n("change",t)};return{handleClick:l,handleChange:a,inputRef:o}}});n("f349");const Zy=Bn()(Yy,[["render",Uy],["__scopeId","data-v-d6089858"]]);var Jy=Zy,Ky={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1"};function Qy(e,t,n,o,l,a){return Object(j["openBlock"])(),Object(j["createElementBlock"])("svg",Ky,[Object(j["renderSlot"])(e.$slots,"default")])}var $y={name:"svg-wrapper"};const ex=Bn()($y,[["render",Qy]]);var tx=ex;function nx(e,t,n,o,l,a){return Object(j["openBlock"])(),Object(j["createElementBlock"])("button",{class:Object(j["normalizeClass"])(["checkbox-button",{checked:n.checked}])},[Object(j["renderSlot"])(e.$slots,"default",{},void 0,!0)],2)}var ox={name:"checkbox-button",props:{checked:{type:Boolean,default:!1}}};n("782e");const lx=Bn()(ox,[["render",nx],["__scopeId","data-v-7cae2b90"]]);var ax=lx,cx={class:"checkbox-button-group"};function rx(e,t,n,o,l,a){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",cx,[Object(j["renderSlot"])(e.$slots,"default",{},void 0,!0)])}var ix={name:"checkbox-button-group"};n("69d5");const ux=Bn()(ix,[["render",rx],["__scopeId","data-v-7dafd0a9"]]);var sx=ux,dx={class:"color-picker"},fx={class:"picker-saturation-wrap"},px={class:"picker-controls"},mx={class:"picker-color-wrap"},bx={class:"picker-sliders"},vx={class:"picker-hue-wrap"},hx={class:"picker-alpha-wrap"},Ox={class:"picker-field"},jx={class:"picker-presets"},gx=["onClick"],yx={class:"picker-gradient-presets"},xx=["onClick"],Cx={class:"picker-presets"},kx=["onClick"],wx={key:0,class:"recent-colors-title"},Ex={class:"recent-colors"},Nx=["onClick"];function Ix(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("Saturation"),r=Object(j["resolveComponent"])("Checkboard"),i=Object(j["resolveComponent"])("Hue"),u=Object(j["resolveComponent"])("Alpha"),s=Object(j["resolveComponent"])("EditableInput");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",dx,[Object(j["createElementVNode"])("div",fx,[Object(j["createVNode"])(c,{value:e.color,hue:e.hue,onColorChange:t[0]||(t[0]=function(t){return e.changeColor(t)})},null,8,["value","hue"])]),Object(j["createElementVNode"])("div",px,[Object(j["createElementVNode"])("div",mx,[Object(j["createElementVNode"])("div",{class:"picker-current-color",style:Object(j["normalizeStyle"])({background:e.currentColor})},null,4),Object(j["createVNode"])(r)]),Object(j["createElementVNode"])("div",bx,[Object(j["createElementVNode"])("div",vx,[Object(j["createVNode"])(i,{value:e.color,hue:e.hue,onColorChange:t[1]||(t[1]=function(t){return e.changeColor(t)})},null,8,["value","hue"])]),Object(j["createElementVNode"])("div",hx,[Object(j["createVNode"])(u,{value:e.color,onColorChange:t[2]||(t[2]=function(t){return e.changeColor(t)})},null,8,["value"])])])]),Object(j["createElementVNode"])("div",Ox,[Object(j["createVNode"])(s,{value:e.color,onColorChange:t[3]||(t[3]=function(t){return e.changeColor(t)})},null,8,["value"])]),Object(j["createElementVNode"])("div",jx,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.themeColors,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"picker-presets-color",key:t,style:Object(j["normalizeStyle"])({background:t}),onClick:function(n){return e.selectPresetColor(t)}},null,12,gx)})),128))]),Object(j["createElementVNode"])("div",yx,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.presetColors,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"picker-gradient-col",key:n},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(t,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"picker-gradient-color",key:t,style:Object(j["normalizeStyle"])({background:t}),onClick:function(n){return e.selectPresetColor(t)}},null,12,xx)})),128))])})),128))]),Object(j["createElementVNode"])("div",Cx,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.standardColors,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{key:t,class:"picker-presets-color",style:Object(j["normalizeStyle"])({background:t}),onClick:function(n){return e.selectPresetColor(t)}},null,12,kx)})),128))]),e.recentColors.length?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",wx,"最近使用：")):Object(j["createCommentVNode"])("",!0),Object(j["createElementVNode"])("div",Ex,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.recentColors,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{key:t,class:"picker-presets-color",style:Object(j["normalizeStyle"])({background:t}),onClick:function(n){return e.selectPresetColor(t)}},null,12,Nx)})),128))])])}var Vx=function(e){return Object(j["pushScopeId"])("data-v-6f2cb744"),e=e(),Object(j["popScopeId"])(),e},Sx={class:"alpha"},Lx={class:"alpha-checkboard-wrap"},Bx=Vx((function(){return Object(j["createElementVNode"])("div",{class:"alpha-picker"},null,-1)})),Tx=[Bx];function Mx(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("Checkboard");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Sx,[Object(j["createElementVNode"])("div",Lx,[Object(j["createVNode"])(c)]),Object(j["createElementVNode"])("div",{class:"alpha-gradient",style:Object(j["normalizeStyle"])({background:e.gradientColor})},null,4),Object(j["createElementVNode"])("div",{class:"alpha-container",ref:"alphaRef",onMousedown:t[0]||(t[0]=function(t){return e.handleMouseDown(t)})},[Object(j["createElementVNode"])("div",{class:"alpha-pointer",style:Object(j["normalizeStyle"])({left:100*e.color.a+"%"})},Tx,4)],544)])}function _x(e,t,n,o,l,a){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"checkerboard",style:Object(j["normalizeStyle"])(e.bgStyle)},null,4)}var Dx={},zx=function(e,t,n){var o=document.createElement("canvas");o.width=o.height=2*n;var l=o.getContext("2d");return l?(l.fillStyle=e,l.fillRect(0,0,o.width,o.height),l.fillStyle=t,l.fillRect(0,0,n,n),l.translate(n,n),l.fillRect(0,0,n,n),o.toDataURL()):null},Ax=function(e,t,n){var o=e+","+t+","+n;if(Dx[o])return Dx[o];var l=zx(e,t,n);return Dx[o]=l,l},Rx=Object(j["defineComponent"])({name:"checkboard",emits:["colorChange"],props:{size:{type:Number,default:8},white:{type:String,default:"#fff"},grey:{type:String,default:"#e6e6e6"}},setup:function(e){var t=Object(j["computed"])((function(){var t=Ax(e.white,e.grey,e.size);return{backgroundImage:"url(".concat(t,")")}}));return{bgStyle:t}}});n("7e17");const Fx=Bn()(Rx,[["render",_x],["__scopeId","data-v-0a544b87"]]);var Px=Fx,Hx=Object(j["defineComponent"])({name:"alpha",components:{Checkboard:Px},emits:["colorChange"],props:{value:{type:Object,required:!0}},setup:function(e,t){var n=t.emit,o=Object(j["computed"])((function(){return e.value})),l=Object(j["computed"])((function(){var e=[o.value.r,o.value.g,o.value.b].join(",");return"linear-gradient(to right, rgba(".concat(e,", 0) 0%, rgba(").concat(e,", 1) 100%)")})),a=Object(j["ref"])(),c=function(e){if(e.preventDefault(),a.value){var t,l=a.value.clientWidth,c=a.value.getBoundingClientRect().left+window.pageXOffset,r=e.pageX-c;t=r<0?0:r>l?1:Math.round(100*r/l)/100,o.value.a!==t&&n("colorChange",{r:o.value.r,g:o.value.g,b:o.value.b,a:t})}},r=function e(){window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",e)},i=function(e){c(e),window.addEventListener("mousemove",c),window.addEventListener("mouseup",r)};return Object(j["onUnmounted"])(r),{alphaRef:a,gradientColor:l,handleMouseDown:i,color:o}}});n("f418");const qx=Bn()(Hx,[["render",Mx],["__scopeId","data-v-6f2cb744"]]);var Wx=qx,Xx=function(e){return Object(j["pushScopeId"])("data-v-1766620e"),e=e(),Object(j["popScopeId"])(),e},Gx={class:"hue"},Ux=Xx((function(){return Object(j["createElementVNode"])("div",{class:"hue-picker"},null,-1)})),Yx=[Ux];function Zx(e,t,n,o,l,a){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Gx,[Object(j["createElementVNode"])("div",{class:"hue-container",ref:"hueRef",onMousedown:t[0]||(t[0]=function(t){return e.handleMouseDown(t)})},[Object(j["createElementVNode"])("div",{class:"hue-pointer",style:Object(j["normalizeStyle"])({left:e.pointerLeft})},Yx,4)],544)])}var Jx=Object(j["defineComponent"])({name:"hue",emits:["colorChange"],props:{value:{type:Object,required:!0},hue:{type:Number,required:!0}},setup:function(e,t){var n=t.emit,o=Object(j["ref"])(0),l=Object(j["ref"])(""),a=Object(j["computed"])((function(){var t=U()(e.value).toHsl();return-1!==e.hue&&(t.h=e.hue),t})),c=Object(j["computed"])((function(){return 0===a.value.h&&"right"===l.value?"100%":100*a.value.h/360+"%"}));Object(j["watch"])((function(){return e.value}),(function(){var t=U()(e.value).toHsl(),n=0===t.s?e.hue:t.h;0!==n&&n-o.value>0&&(l.value="right"),0!==n&&n-o.value<0&&(l.value="left"),o.value=n}));var r=Object(j["ref"])(),i=function(t){if(t.preventDefault(),r.value){var o,l,c=r.value.clientWidth,i=r.value.getBoundingClientRect().left+window.pageXOffset,u=t.pageX-i;u<0?o=0:u>c?o=360:(l=100*u/c,o=360*l/100),-1!==e.hue&&a.value.h===o||n("colorChange",{h:o,l:a.value.l,s:a.value.s,a:a.value.a})}},u=function e(){window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",e)},s=function(e){i(e),window.addEventListener("mousemove",i),window.addEventListener("mouseup",u)};return Object(j["onUnmounted"])(u),{hueRef:r,handleMouseDown:s,pointerLeft:c}}});n("468f");const Kx=Bn()(Jx,[["render",Zx],["__scopeId","data-v-1766620e"]]);var Qx=Kx,$x=function(e){return Object(j["pushScopeId"])("data-v-8982eb4a"),e=e(),Object(j["popScopeId"])(),e},eC=$x((function(){return Object(j["createElementVNode"])("div",{class:"saturation-white"},null,-1)})),tC=$x((function(){return Object(j["createElementVNode"])("div",{class:"saturation-black"},null,-1)})),nC=$x((function(){return Object(j["createElementVNode"])("div",{class:"saturation-circle"},null,-1)})),oC=[nC];function lC(e,t,n,o,l,a){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"saturation",ref:"saturationRef",style:Object(j["normalizeStyle"])({background:e.bgColor}),onMousedown:t[0]||(t[0]=function(t){return e.handleMouseDown(t)})},[eC,tC,Object(j["createElementVNode"])("div",{class:"saturation-pointer",style:Object(j["normalizeStyle"])({top:e.pointerTop,left:e.pointerLeft})},oC,4)],36)}var aC=Object(j["defineComponent"])({name:"saturation",emits:["colorChange"],props:{value:{type:Object,required:!0},hue:{type:Number,required:!0}},setup:function(e,t){var n=t.emit,o=Object(j["computed"])((function(){var t=U()(e.value).toHsv();return-1!==e.hue&&(t.h=e.hue),t})),l=Object(j["computed"])((function(){return"hsl(".concat(o.value.h,", 100%, 50%)")})),a=Object(j["computed"])((function(){return-100*o.value.v+1+100+"%"})),c=Object(j["computed"])((function(){return 100*o.value.s+"%"})),r=Object(Y["throttle"])((function(e){n("colorChange",e)}),20,{leading:!0,trailing:!1}),i=Object(j["ref"])(),u=function(e){if(e.preventDefault(),i.value){var t=i.value.clientWidth,n=i.value.clientHeight,l=i.value.getBoundingClientRect().left+window.pageXOffset,a=i.value.getBoundingClientRect().top+window.pageYOffset,c=Object(Y["clamp"])(e.pageX-l,0,t),u=Object(Y["clamp"])(e.pageY-a,0,n),s=c/t,d=Object(Y["clamp"])(-u/n+1,0,1);r({h:o.value.h,s:s,v:d,a:o.value.a})}},s=function e(){window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",e)},d=function(e){u(e),window.addEventListener("mousemove",u),window.addEventListener("mouseup",s)};return Object(j["onUnmounted"])(s),{saturationRef:i,bgColor:l,handleMouseDown:d,pointerTop:a,pointerLeft:c}}});n("a46e");const cC=Bn()(aC,[["render",lC],["__scopeId","data-v-8982eb4a"]]);var rC=cC,iC={class:"editable-input"},uC=["value"];function sC(e,t,n,o,l,a){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",iC,[Object(j["createElementVNode"])("input",{class:"input-content",value:e.val,onInput:t[0]||(t[0]=function(t){return e.handleInput(t)})},null,40,uC)])}var dC=Object(j["defineComponent"])({name:"editable-input",emits:["colorChange"],props:{value:{type:Object,required:!0}},setup:function(e,t){var n=t.emit,o=Object(j["computed"])((function(){var t="";return t=e.value.a<1?U()(e.value).toHex8String().toUpperCase():U()(e.value).toHexString().toUpperCase(),t.replace("#","")})),l=function(e){var t=e.target.value;t.length>=6&&n("colorChange",U()(t).toRgb())};return{val:o,handleInput:l}}});n("1a34");const fC=Bn()(dC,[["render",sC],["__scopeId","data-v-00ea8dfc"]]);var pC=fC,mC="RECENT_COLORS",bC=[["#7f7f7f","#f2f2f2"],["#0d0d0d","#808080"],["#1c1a10","#ddd8c3"],["#0e243d","#c6d9f0"],["#233f5e","#dae5f0"],["#632623","#f2dbdb"],["#4d602c","#eaf1de"],["#3f3150","#e6e0ec"],["#1e5867","#d9eef3"],["#99490f","#fee9da"]],vC=function(e,t,n){for(var o=U()(e).toRgb(),l=U()(t).toRgb(),a=(l.r-o.r)/n,c=(l.g-o.g)/n,r=(l.b-o.b)/n,i=[],u=0;u<n;u++){var s=U()({r:o.r+a*u,g:o.g+c*u,b:o.b+r*u}).toRgbString();i.push(s)}return i},hC=function(){var e,t=[],n=Object(L["a"])(bC);try{for(n.s();!(e=n.n()).done;){var o=e.value;t.push(vC(o[1],o[0],5))}}catch(ZC){n.e(ZC)}finally{n.f()}return t},OC=Object(j["defineComponent"])({name:"color-picker",components:{Alpha:Wx,Checkboard:Px,Hue:Qx,Saturation:rC,EditableInput:pC},emits:["update:modelValue"],props:{modelValue:{type:String,default:"#e86b99"}},setup:function(e,t){var n=t.emit,o=Object(j["ref"])(-1),l=Object(j["ref"])([]),a=Object(j["computed"])({get:function(){return U()(e.modelValue).toRgb()},set:function(e){var t="rgba(".concat([e.r,e.g,e.b,e.a].join(","),")");n("update:modelValue",t)}}),c=["#000000","#ffffff","#eeece1","#1e497b","#4e81bb","#e2534d","#9aba60","#8165a0","#47acc5","#f9974c"],r=["#c21401","#ff1e02","#ffc12a","#ffff3a","#90cf5b","#00af57","#00afee","#0071be","#00215f","#72349d"],i=hC(),u=Object(j["computed"])((function(){return"rgba(".concat([a.value.r,a.value.g,a.value.b,a.value.a].join(","),")")})),s=function(e){o.value=U()(e).toHsl().h,n("update:modelValue",e)},d=Object(Y["debounce"])((function(){var e=U()(a.value).toRgbString();if(!l.value.includes(e)){l.value=[e].concat(Object(X["a"])(l.value));var t=10;l.value.length>t&&(l.value=l.value.slice(0,t))}}),300,{trailing:!0});Object(j["onMounted"])((function(){var e=localStorage.getItem(mC);e&&(l.value=JSON.parse(e))})),Object(j["watch"])(l,(function(){var e=JSON.stringify(l.value);localStorage.setItem(mC,e)}));var f=function(e){"h"in e?(o.value=e.h,a.value=U()(e).toRgb()):(o.value=U()(e).toHsl().h,a.value=e),d()};return{themeColors:c,standardColors:r,presetColors:i,color:a,hue:o,currentColor:u,changeColor:f,selectPresetColor:s,recentColors:l}}});n("6c3c");const jC=Bn()(OC,[["render",Ix],["__scopeId","data-v-210672ee"]]);var gC=jC,yC={key:0,class:"fullscreen-spin"};function xC(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("Spin");return n.loading?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",yC,[Object(j["createVNode"])(c,{tip:n.tip,size:"large"},null,8,["tip"])])):Object(j["createCommentVNode"])("",!0)}var CC={name:"fullscreen-spin",props:{loading:{type:Boolean,default:!1},tip:{type:String,default:""}}};n("3f8e");const kC=Bn()(CC,[["render",xC],["__scopeId","data-v-6275c730"]]);var wC=kC,EC={install:function(e){e.component("FileInput",Jy),e.component("SvgWrapper",tx),e.component("CheckboxButton",ax),e.component("CheckboxButtonGroup",sx),e.component("ColorPicker",gC),e.component("FullscreenSpin",wC)}};function NC(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("MenuContent");return Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],null,[Object(j["createElementVNode"])("div",{class:"mask",onContextmenu:t[0]||(t[0]=Object(j["withModifiers"])((function(t){return e.removeContextmenu()}),["prevent"])),onMousedown:t[1]||(t[1]=function(t){return e.removeContextmenu()})},null,32),Object(j["createElementVNode"])("div",{class:"contextmenu",style:Object(j["normalizeStyle"])({left:e.style.left+"px",top:e.style.top+"px"}),onContextmenu:t[2]||(t[2]=Object(j["withModifiers"])((function(){}),["prevent"]))},[Object(j["createVNode"])(c,{menus:e.menus,handleClickMenuItem:e.handleClickMenuItem},null,8,["menus","handleClickMenuItem"])],36)],64)}var IC={class:"menu-content"},VC=["onClick"],SC={class:"text"},LC={key:0,class:"sub-text"};function BC(e,t,n,o,l,a){var c=Object(j["resolveComponent"])("menu-content",!0);return Object(j["openBlock"])(),Object(j["createElementBlock"])("ul",IC,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.menus,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:t.text||n},[t.hide?Object(j["createCommentVNode"])("",!0):(Object(j["openBlock"])(),Object(j["createElementBlock"])("li",{key:0,class:Object(j["normalizeClass"])(["menu-item",{divider:t.divider,disable:t.disable}]),onClick:Object(j["withModifiers"])((function(n){return e.handleClickMenuItem(t)}),["stop"])},[t.divider?Object(j["createCommentVNode"])("",!0):(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{key:0,class:Object(j["normalizeClass"])(["menu-item-content",{"has-children":t.children,"has-handler":t.handler}])},[Object(j["createElementVNode"])("span",SC,Object(j["toDisplayString"])(t.text),1),t.subText&&!t.children?(Object(j["openBlock"])(),Object(j["createElementBlock"])("span",LC,Object(j["toDisplayString"])(t.subText),1)):Object(j["createCommentVNode"])("",!0),t.children&&t.children.length?(Object(j["openBlock"])(),Object(j["createBlock"])(c,{key:1,class:"sub-menu",menus:t.children,handleClickMenuItem:e.handleClickMenuItem},null,8,["menus","handleClickMenuItem"])):Object(j["createCommentVNode"])("",!0)],2))],10,VC))],64)})),128))])}var TC=Object(j["defineComponent"])({name:"menu-content",props:{menus:{type:Array,required:!0},handleClickMenuItem:{type:Function,required:!0}}});n("0c74");const MC=Bn()(TC,[["render",BC],["__scopeId","data-v-eb1555e8"]]);var _C=MC,DC=Object(j["defineComponent"])({name:"contextmenu",components:{MenuContent:_C},props:{axis:{type:Object,required:!0},el:{type:Object,required:!0},menus:{type:Array,required:!0},removeContextmenu:{type:Function,required:!0}},setup:function(e){var t=Object(j["computed"])((function(){var t=170,n=30,o=11,l=5,a=e.axis,c=a.x,r=a.y,i=e.menus.filter((function(e){return!(e.divider||e.hide)})).length,u=e.menus.filter((function(e){return e.divider})).length,s=t,d=i*n+u*o+2*l,f=document.body.clientWidth,p=document.body.clientHeight;return{left:f<=c+s?c-s:c,top:p<=r+d?r-d:r}})),n=function(t){t.disable||t.children&&!t.handler||(t.handler&&t.handler(e.el),e.removeContextmenu())};return{style:t,handleClickMenuItem:n}}});n("b837");const zC=Bn()(DC,[["render",NC]]);var AC=zC,RC="CTX_CONTEXTMENU_HANDLER",FC=function(e,t,n){t.stopPropagation(),t.preventDefault();var o=n.value(e);if(o){var l=null,a=function t(){l&&(document.body.removeChild(l),l=null),e.classList.remove("contextmenu-active"),document.body.removeEventListener("scroll",t),window.removeEventListener("resize",t)},c={axis:{x:t.x,y:t.y},el:e,menus:o,removeContextmenu:a};l=document.createElement("div");var r=Object(j["createVNode"])(AC,c,null);Object(j["render"])(r,l),document.body.appendChild(l),e.classList.add("contextmenu-active"),document.body.addEventListener("scroll",a),window.addEventListener("resize",a)}},PC={mounted:function(e,t){e[RC]=function(n){return FC(e,n,t)},e.addEventListener("contextmenu",e[RC])},unmounted:function(e){e&&e[RC]&&(e.removeEventListener("contextmenu",e[RC]),delete e[RC])}},HC=PC,qC="CTX_CLICK_OUTSIDE_HANDLER",WC=function(e,t,n){var o=n.value,l=t.composedPath(),a=l?l.indexOf(e)<0:!e.contains(t.target);a&&o(t)},XC={mounted:function(e,t){e[qC]=function(n){return WC(e,n,t)},setTimeout((function(){document.addEventListener("click",e[qC])}),0)},unmounted:function(e){e[qC]&&(document.removeEventListener("click",e[qC]),delete e[qC])}},GC=XC,UC={install:function(e){e.directive("contextmenu",HC),e.directive("click-outside",GC)}},YC=Object(j["createApp"])(mg);YC.component("InputNumber",O["a"]),YC.component("Divider",h["a"]),YC.component("Button",v["a"]),YC.component("ButtonGroup",v["a"].Group),YC.component("Tooltip",b["a"]),YC.component("Popover",m["a"]),YC.component("Slider",p["a"]),YC.component("Select",f["a"]),YC.component("SelectOption",f["a"].Option),YC.component("SelectOptGroup",f["a"].OptGroup),YC.component("Switch",d["a"]),YC.component("Radio",s["a"]),YC.component("RadioGroup",s["a"].Group),YC.component("RadioButton",s["a"].Button),YC.component("Input",u["a"]),YC.component("InputGroup",u["a"].Group),YC.component("TextArea",u["a"].TextArea),YC.component("Modal",i["a"]),YC.component("Dropdown",r["a"]),YC.component("Menu",c["a"]),YC.component("MenuItem",c["a"].Item),YC.component("Checkbox",a["a"]),YC.component("Drawer",l["a"]),YC.component("Spin",o["a"]),YC.use(Xy),YC.use(EC),YC.use(UC),YC.use(Object(g["a"])()),YC.mount("#app")},d384:function(e,t,n){},d4b3:function(e,t,n){},d663:function(e,t,n){},d7bd:function(e,t,n){},d948:function(e,t,n){},d9a3:function(e,t,n){"use strict";n("b9e7")},da17:function(e,t,n){"use strict";n("7c75")},da64:function(e,t,n){},de30:function(e,t,n){"use strict";n("b172")},e011:function(e,t,n){},e032:function(e,t,n){},e202:function(e,t,n){"use strict";n("03a8")},e3a3:function(e,t,n){},e3df:function(e,t,n){"use strict";n("b908")},e5a8:function(e,t,n){"use strict";n("8709")},e7b8:function(e,t,n){"use strict";n("61dc")},e838:function(e,t,n){},e911:function(e,t,n){},eb3a:function(e,t,n){},ef0f:function(e,t,n){"use strict";n("7374")},f076:function(e,t,n){"use strict";n("eb3a")},f22a:function(e,t,n){},f29a:function(e,t,n){},f33f:function(e,t,n){"use strict";n("e3a3")},f349:function(e,t,n){"use strict";n("784d")},f418:function(e,t,n){"use strict";n("6d7c")},f601:function(e,t,n){},f6cb:function(e,t,n){},f9a0:function(e,t,n){"use strict";n("2b27")},f9ba:function(e,t,n){},fb1d:function(e,t,n){"use strict";n("86fb")},fbf7:function(e,t,n){"use strict";n("625d")},fc85:function(e,t,n){},fe1a:function(e,t,n){},feaa:function(e,t,n){}});
//# sourceMappingURL=app.2462ea4b.js.map